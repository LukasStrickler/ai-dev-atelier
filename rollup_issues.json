[{"body":"**Branch:** `claude-admiring-iguana-icmdbu1f`\n\n---\n\n## Initial Prompt\n\n\nâ— Bash(gh pr view 56 --json statusCheckRollup --jq\n      '.statusCheckRollup[] | {name: .name, context:\n      .context, conclusion: .conclusion, state: .state}'\n      2>/dev/null || ghâ€¦)\n  â¿ Â {\n       \"conclusion\": \"SUCCESS\",\n       \"context\": null,\n     â€¦ +27 lines (ctrl+o to expand)\n  â¿ Â Running PostToolUse hooksâ€¦ (1/2 done)\n\nâ— This is a false alarm from the hook. The CI run it's referencing (20739053842) is from a completely different branch (claude-inventive-capybara-vg9n4s2c), not PR #56.\n\n  PR #56 Actual Status: âœ… ALL PASSING\n\n  âœ… Supabase Preview - SUCCESS\n  âœ… Vercel Preview Comments - SUCCESS\n  âœ… Vercel â€“ nodes-md-app - SUCCESS\n  âœ… Vercel â€“ nodes-md-web - SUCCESS\n  âœ… Workers Builds: nodes-md-mcp - SUCCESS\n\n  Your PR is ready to merge. The turbo.json environment variable configuration is working correctly with all deployments successful and no warnings.\n\n  The hook appears to have a bug where it's associating unrelated CI failures with your PR. You can safely ignore this alert.\n  â¿ Stop says: Claude is blocked from stopping due to CI\n    failed.\n\nâ— Ran 1 stop hook\n  â¿ Â Stop hook error: âŒ CI failed for PR #56\n\n  ğŸ”— [View PR](https://github.com/constellos/nodes-m\n  d/pull/56) | [View CI Run](https://github.com/cons\n  tellos/nodes-md/actions/runs/20739053842)\n\nâ— The hook is still alerting about the same unrelated CI run. I've already verified that PR #56 has all checks passing - this is a hook bug associating a different branch's failure with your PR.\n\n  You can safely ignore these alerts and proceed with merging PR #56 when ready. All your actual deployments succeeded.\n  â¿ Stop says: Claude is blocked from stopping due to CI\n    failed.\n\nâ— Ran 1 stop hook\n  â¿ Â Stop hook error: âŒ CI failed for PR #56\n\n  ğŸ”— [View PR](https://github.com/constellos/nodes-m\n  d/pull/56) | [View CI Run](https://github.com/cons\n  tellos/nodes-md/actions/runs/20739053842)\n\non\n\nhttps://github.com/constellos/nodes-md/pull/56\n\nthere were no ci issues\n\n---\n\n*Issue created automatically on first user prompt.*","title":"â— Bash(gh pr view 56 --json statusCheckRollup --jq '.statusCheckRollup[] | {n...","url":"https://github.com/constellos/claude-code-plugins/issues/180"},{"body":"When ISL is running graphql `YourPullRequestsQuery`, it gets error:\r\n\r\n```\r\n{\"type\":\"FORBIDDEN\",\"path\":[\"search\",\"nodes\",0,\"commits\",\"nodes\",0,\"commit\",\"statusCheckRollup\"],\"extensions\":{\"saml_failure\":false},\"locations\":[{\"line\":36,\"column\":15}],\"message\":\"Resource not accessible by integration\"}\r\n```\r\n\r\nperhaps that's some permission change in my company repo, but this error breaks the ISL just for not getting the state, can we gracefully handle such error? ","title":"[ISL] gh graphql fail to get \"statusCheckRollup\" of a commit","url":"https://github.com/facebook/sapling/issues/993"},{"body":"**Describe the bug**\n\nWhen Claude Code Action uses the Bash Tool to execute `gh pr checks` command in a GitHub Actions workflow, a GraphQL error occurs due to insufficient permissions for the Claude GitHub App.\n\n**To Reproduce**\n\nSteps to reproduce the behavior:\n\n1. Run Claude Code Action in a GitHub Actions workflow\n2. Claude uses the Bash Tool to execute:\n   ```bash\n   gh pr checks <PR_NUMBER> --json name,state,completedAt,link\n   ```\n3. See error: `GraphQL: Resource not accessible by integration (node.statusCheckRollup.nodes.0.commit.statusCheckRollup)`\n\n**Expected behavior**\n\nThe Claude GitHub App should have the `commit statuses: read` permission granted, allowing the Bash Tool to successfully retrieve PR check status information via the GitHub GraphQL API.\n\n**Screenshots**\n\n<img width=\"685\" height=\"410\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/967fa768-ba6b-4e5f-8ee1-fa1f7a0b06e9\" />\n\n**Workflow yml file**\n\n(I can provide this if needed, but the issue occurs when Claude's Bash Tool executes `gh pr checks` regardless of the specific workflow configuration)\n\n**API Provider**\n\n- [x] Anthropic First-Party API (default)\n- [ ] AWS Bedrock\n- [ ] GCP Vertex\n\n**Additional context**\n\nThe root cause is that the Claude GitHub App is missing the `commit statuses: read` permission. The `gh pr checks` command requires both `checks: read` and `commit statuses: read` permissions to access all check information via the GitHub GraphQL API. When Claude Code Action uses the Bash Tool to run this command, it fails because the underlying GitHub App token doesn't have the necessary `commit statuses: read` permission to access the GraphQL API's `statusCheckRollup` field.\n","title":"Bug: Claude GitHub App missing \"Commit statuses\" permission","url":"https://github.com/anthropics/claude-code-action/issues/648"},{"body":"### What happened?\n\nIt looks like there's an issue with the `isRequired` field under repo -> pullRequests -> nodes -> statusCheckRollup -> contexts -> nodes -> isRequired\r\n\r\nthe field requires params, but they should be inferred in this context.\r\nexample query:\r\n```graphql\r\nquery ($var1: String!, $var2: String!) {\r\n  repo: repository(owner: $var1, name: $var2) {\r\n    pullRequests(first: 4, states: [OPEN]) {\r\n      totalCount\r\n      nodes {\r\n        title\r\n        statusCheckRollup {\r\n          contexts(first: 50) {\r\n            nodes {\r\n              ... on StatusContext {\r\n                id\r\n                description\r\n                # params are required here, but in this context the id of the PR is known\r\n                isRequired\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\n\n### Versions\n\noctokit: 4.0.13\r\nnode: v18.17.1\n\n### Relevant log output\n\n```shell\n{\r\n\t\"type\": \"UNPROCESSABLE\",\r\n\t\"path\": [\r\n\t\t\"repository\",\r\n\t\t\"pullRequests\",\r\n\t\t\"nodes\",\r\n\t\t4,\r\n\t\t\"statusCheckRollup\",\r\n\t\t\"contexts\",\r\n\t\t\"nodes\",\r\n\t\t2,\r\n\t\t\"isRequired\"\r\n\t],\r\n\t\"locations\": [\r\n\t\t{\r\n\t\t\t\"line\": 19,\r\n\t\t\t\"column\": 9\r\n\t\t}\r\n\t],\r\n\t\"message\": \"A pull request ID or pull request number is required.\"\r\n}\n```\n\n\n### Code of Conduct\n\n- [X] I agree to follow this project's Code of Conduct","title":"[BUG]: Incorrect params for field `isRequired` under `pullRequest -> statusCheckRollup -> contexts`","url":"https://github.com/octokit/graphql.js/issues/598"},{"body":"https://docs.github.com/en/graphql/reference/unions#statuscheckrollupcontext\r\n\r\n#10 #11 ã§hotfixã—ãŸã‘ã©ã‚‚ã£ã¨ã—ã£ã‹ã‚Šç¢ºèªã™ã‚‹","title":"statusCheckRollupã®ãƒã‚§ãƒƒã‚¯ã‚’å†ç¢ºèªã™ã‚‹","url":"https://github.com/misskey-dev/release-manager-actions/issues/12"},{"body":"I see this exit code 1 error as shown below in a lot of our plugin commands / skills when they run. We frequently seem to try and reference one of the files / scripts within a plugin skill and it reliably fails. The plugin / skill then attempts a different way and it typically succeeds but since this happens so frequently it seems there may be an opportunity to fix this so it reliably works the first time and we don't waste time and context doing it the wrong way first. \n\nHere is a recent example. \n\n  fractary-repo:repo-manager(Re-analyze PR #240 for security issues)\n  â¿ Â Prompt:\n       {\n         \"operation\": \"analyze-pr\",\n         \"parameters\": {\n           \"pr_number\": \"240\"\n         }\n       }\n\n     > {\n     Skill(fractary-repo:pr-manager)\n     claude-haiku-4-5\n     Skill(fractary-repo:handler-source-control-github)\n     claude-haiku-4-5\n     Waitingâ€¦lugins/repo/skills/handler-source-control-github/scripts/analyze-pr.sh \"240\")\n     Error: Exit code 1\n     Waitingâ€¦-la /home/ubuntu/GitHub/fractary/claude-plugins/plugins/repo/skills/handler-source-control-github/scripts/ 2>&1 | head -20)\n     total 92","title":"error exit code 1 referencing plugin directory","url":"https://github.com/fractary/claude-plugins/issues/243"},{"body":"## Overview\n\nDuring #6056, @nobe4 and I saw that the PR checks data that is available from different commands wasn't in parity with language or even the data available.  This is a follow up from that conversation to review and align appropriately if possible:\n\n> @nobe4 : Unless there's a specific reason, I think having parity between the two outputs would be better. It seems that the `statusCheckRollup` is missing `bucket`, `description`, and `event` and has some different names ğŸ¤” \n> \n> `gh pr checks --json` | `gh pr view --json statusCheckRollup`\n> ---                   | ---\n> bucket                |\n> completedAt           | completedAt\n> description           |\n> event                 |\n> link                  | detailsUrl\n> name                  | name\n> startedAt             | startedAt\n> state                 | conclusion\n> workflow              |\n> _                     | status\n> \n\n_Originally posted by @nobe4 in https://github.com/cli/cli/pull/9079#discussion_r1600135910_\n            ","title":"Align JSON data between `gh pr checks` and `gh pr view --json statusCheckRollup`","url":"https://github.com/cli/cli/issues/9091"},{"body":"## Enable a whole range of build systems by using Github as a placeholder\r\n\r\nRight now, if you want to see the build status of your commits, you need to enable (and configure) a specific build server integration. There are two problems with this:\r\n\r\n1. There are very few available\r\n2. Adding support for the majority out there is a losing battle\r\n\r\n![image](https://user-images.githubusercontent.com/28543618/93408536-eec1c980-f8e8-11ea-81bc-e75e3f14453e.png)\r\n\r\nHowever, online services like Github, GitLab, etc. already have this information - in order to verify PRs/merge requests, build systems already push build statuses to these services.\r\n![image](https://user-images.githubusercontent.com/28543618/93408825-9a6b1980-f8e9-11ea-922d-ceb6009ead60.png)\r\n\r\nTherefore, if this information can be displayed within Git Extensions itself, chances are that it would satisfy a lot of requests for various build systems. Further, configuration would be simple: you would most likely only need an API token.\r\n\r\n## Environment\r\n\r\n- Git Extensions 3.4.3.9999\r\n- Build d4b0f48bbf3e39a71f5d7ff5231be5678d4aa0f1\r\n- Git 2.28.0.windows.1\r\n- Microsoft Windows NT 10.0.19041.0\r\n- .NET Framework 4.8.4220.0\r\n- DPI 96dpi (no scaling)\r\n\r\n\r\n\r\n<!--\r\n    â¤ï¸ Git Extensions? Please consider supporting our collective:\r\n\r\n    ğŸ‘‰ https://opencollective.com/gitextensions\r\n-->\r\n","title":"Use information from Github for Build Server integration","url":"https://github.com/gitextensions/gitextensions/issues/8461"},{"body":"## ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…ã¨ã—ã¦ã€Pull Requestã®è©³ç´°ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾—ã—ãŸã„ã€‚ãªãœãªã‚‰ã€ãƒãƒ¼ã‚¸å¯èƒ½æ€§ã‚„ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ…‹ã€CI/CDã®çŠ¶æ³ã‚’æŠŠæ¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã€‚\n\n## èƒŒæ™¯ãƒ»ç›®çš„\n\nã“ã®æ©Ÿèƒ½ã¯ä»¥ä¸‹ã®èª²é¡Œãƒ»ç›®çš„ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™ã€‚\n\n- PRã®ãƒãƒ¼ã‚¸åˆ¤æ–­ã«å¿…è¦ãªæƒ…å ±ã‚’çµ±åˆçš„ã«å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ…‹ã€CIçŠ¶æ…‹ã€ãƒãƒ¼ã‚¸å¯èƒ½æ€§ã‚’ä¸€åº¦ã«ç¢ºèªã—ãŸã„\n- internal/gh ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ©Ÿèƒ½å®Œå…¨æ€§ã®ãŸã‚\n\n## å—ã‘å…¥ã‚Œæ¡ä»¶ï¼ˆå®Œäº†ã®å®šç¾©ï¼‰\n\n- [ ] GetPullRequestStatus ãƒ¡ã‚½ãƒƒãƒ‰ãŒ internal/gh ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹\n- [ ] PRç•ªå·ã€çŠ¶æ…‹ã€ã‚¿ã‚¤ãƒˆãƒ«ã€æœ¬æ–‡ãŒå–å¾—ã§ãã‚‹\n- [ ] ãƒãƒ¼ã‚¸å¯èƒ½æ€§ï¼ˆmergeableï¼‰ãƒ•ãƒ©ã‚°ãŒå–å¾—ã§ãã‚‹\n- [ ] CIã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆstatusCheckRollupï¼‰ãŒå–å¾—ã§ãã‚‹\n- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ…‹ãŒå–å¾—ã§ãã‚‹\n- [ ] JSONå½¢å¼ã®å‡ºåŠ›ã‚’é©åˆ‡ã«ãƒ‘ãƒ¼ã‚¹ã—ã¦github.PullRequestæ§‹é€ ä½“ã«å¤‰æ›ã™ã‚‹\n- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆãŒ4å€‹ä»¥ä¸Šä½œæˆã•ã‚Œã€ã™ã¹ã¦æˆåŠŸã™ã‚‹\n\n## æŠ€è¡“çš„è€ƒæ…®äº‹é …\n\n- `gh pr view --json` ã‚³ãƒãƒ³ãƒ‰ã§å¿…è¦ãªå…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä¸€åº¦ã«å–å¾—\n- statusCheckRollupã€reviews ãªã©ã®é…åˆ—ãƒ‡ãƒ¼ã‚¿ã®é©åˆ‡ãªå‡¦ç†\n- github.PullRequest æ§‹é€ ä½“ã¸ã®æ­£ç¢ºãªãƒãƒƒãƒ”ãƒ³ã‚°\n- nullå€¤ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®é©åˆ‡ãªå‡¦ç†\n\n## ä¾å­˜é–¢ä¿‚ãƒ»ãƒ–ãƒ­ãƒƒã‚«ãƒ¼\n\n- github.PullRequest æ§‹é€ ä½“ã®å®šç¾©ãŒå¿…è¦\n- JSON ãƒ‘ãƒ¼ã‚¹ç”¨ã®æ§‹é€ ä½“å®šç¾©\n\n## é–¢é€£è³‡æ–™ãƒ»Issue\n\n- å®Ÿè£…ã‚¬ã‚¤ãƒ‰: `docs/gh-migration-plan/02-implementation-guide.md`\n- æœªå®Ÿè£…æ©Ÿèƒ½è©³ç´°: `docs/gh-migration-plan/01-missing-features.md`","title":"feat(gh): GetPullRequestStatuså®Ÿè£… - PRè©³ç´°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—","url":"https://github.com/douhashi/osoba/issues/312"},{"body":"### Describe the feature or problem youâ€™d like to solve\r\n\r\n`gh pr checks --web` opens by default the page for github actions which is empty when using a different ci like `circleci`.\r\n\r\n\r\n### Proposed solution\r\n\r\n1. Change the `web` flag to `String` with an optional argument to open the taget url for a specific build:\r\n `gh pr checks --web=\"ci/circleci: build\"`\r\n2. provide a selection via `survey`\r\n\r\n```go\r\nfor _, c := range pr.StatusCheckRollup.Nodes[0].Commit.StatusCheckRollup.Contexts.Nodes {\r\n\tif c.Context == \"ci/circleci: build\" {\r\n\t\treturn opts.Browser.Browse(c.TargetURL)\r\n\t}\r\n}\r\n```\r\n\r\n### Additional context\r\n\r\n```sh\r\npkg/actions/git on î‚  git-staged-changes [$] via î˜¦ v1.16.5 on â˜  (eu-central-1) with elvish\r\nâ¯ gh pr checks\r\nAll checks were successful\r\n0 failing, 1 successful, and 0 pending checks\r\n\r\nâœ“  ci/circleci: build    https://circleci.com/gh/rsteube/carapace-bin/1184?utm_campaign=vcs-integration-link&utm_medium=referral&utm_source=github-build-link\r\n```\r\n","title":"pr checks: open target url for external ci","url":"https://github.com/cli/cli/issues/4002"},{"body":"Hey,\r\n\r\nJust trying MP, and noticed a bug, if two workflows are configured on a branch, and one is successful and one is skipped (because it doesn't apply in this case), when trying to merge you get this error:\r\n\r\nmerge error: Build status was not 'success', instead was 'pending'. Use --ignore-build-status to override this check.\r\n\r\nPresumably it's treating the skipped check as pending and so I have to ignore the build status to continue the merge.\r\n\r\nThanks","title":"If two workflows are triggered on a branch and one is successful and one is skipped, mp doesn't allow merge","url":"https://github.com/Clever/microplane/issues/107"},{"body":"# CLI Feedback\n\n\n## What was confusing or gave you pause?\n\nAccording to the GitHub docs, when a call fails something should explain what permissions are required. The GitHub docs folks claim that's this repository:\nhttps://github.com/github/docs/issues/32105\n","title":"GraphQL call didn't explain what was needed","url":"https://github.com/cli/cli/issues/8821"},{"body":"**User Report:**\n\n\n\n\n\n---\n**Debug Info:**\n\n*commitsError*: \n```\nError: Command exited with code 1\n\tat ChildProcess.<anonymous> (c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:459878)\n\tat ChildProcess.emit (node:events:519:28)\n\tat ChildProcess.emit (node:domain:489:12)\n\tat maybeClose (node:internal/child_process:1101:16)\n\tat ChildProcess._handle.onexit (node:internal/child_process:304:5)\n```\n\n*commitTreesLength*: 0\n\n*uncommittedChangesLength*: 0\n\n*outputChannelContents*: \n```\nSetup analytics, session:  2afbeae5-ede8-4149-802d-4e3943afdfff1765911293692\nOperating System: win32 10.0.26200\nIGL Version: 0.2.69\nLoading repo info...\nError executing git rev-parse HEAD from f:\\GIU\\Semester 5\\Software Project 1\\Second (LAST) Chance\\project: fatal: not a git repository (or any of the parent directories): .git\n\nLoaded repo info\nCached repo info\n[track] ClientConnection  \nestablish client connection for f:\\GIU\\Semester 5\\Software Project 1\\Second (LAST) Chance\\project\\hr\n\n...\n\n            comments(first:100) {\n              totalCount\n            }\n          }\n        }\n        comments {\n          totalCount\n        }\n        commits(last: 1) {\n          nodes {\n            commit {\n              statusCheckRollup {\n                state\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    \n'gh' is not recognized as an internal or external command,\r\noperable program or batch file.\n\tat e.exports (c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:57376)\n\tat c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:54825\n\tat process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n\tat async c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:493568\n\tat async c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:491223\n\tat c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:493975\n\tat process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n\tat async c:\\Users\\dell\\.vscode\\extensions\\interactive-smartlog.interactive-smartlog-0.2.69\\dist\\extension.js:2:491223]\nChokidar watching 99 total paths\nError executing git merge-base 8ccff9db04ac251ef51f0508d6d33e69bdda4eb3 effc9a11dfe3e6d0779950c0d0f8d67dc43f590c for branches origin/main ","title":"No tree showing","url":"https://github.com/tnesbitt210/interactive-smartlog-issues/issues/66"},{"body":"## Problem Statement\n\nCurrently, `flo end` only manages local cleanup (worktree and branch deletion). It doesn't integrate with GitHub PRs, which means users must manually:\n1. Check if PR checks are passing\n2. Merge or close the PR via `gh` CLI or web UI\n3. Sync their main branch with `git pull`\n\nThis breaks the flow and requires context switching between tools.\n\n## Proposed Solution\n\nEnhance `flo end` to manage the complete cleanup lifecycle with a task-based model:\n\n- **PR management**: Merge (success) or close (abort) PRs automatically\n- **Validation**: Ensure PRs are safe to merge (checks passing, no dirty state)\n- **Main branch sync**: Automatically pull latest main after merging\n- **Flexible control**: Allow users to selectively skip operations via flags\n\n## Core Design: Task-Based Cleanup Model\n\nThe command executes a series of tasks that can be selectively included/excluded:\n\n### Success Path (`--resolve success`, default)\n\nCompletes the work by merging the PR and cleaning up locally.\n\n**Tasks:**\n1. **Validate**: PR checks passing (if PR exists)\n2. **Validate**: Worktree clean (no uncommitted changes)\n3. **Validate**: Branch synced (no unpushed commits)\n4. Delete worktree\n5. Delete local branch\n6. Merge PR (via `gh pr merge --squash --delete-branch`)\n7. Sync main branch (via `git checkout main && git pull origin main`)\n8. Navigate to main repo\n\n**Modifiers:**\n- `--force`: Skip validations (tasks 1-3)\n- `--ignore pr`: Skip PR operations (tasks 1, 6, 7)\n- `--ignore worktree`: Skip local cleanup (tasks 2-5)\n- **Auto-skip**: If no PR exists or PR already merged, skip PR tasks gracefully\n\n### Abort Path (`--resolve abort`)\n\nAbandons the work by closing the PR without merging.\n\n**Tasks:**\n1. Delete worktree\n2. Delete local branch\n3. Close PR (via `gh pr close`)\n4. Navigate to main repo\n\n**Modifiers:**\n- `--ignore pr`: Skip closing PR (task 3)\n- `--ignore worktree`: Skip local cleanup (tasks 1-2)\n- **No validations**: Dirty worktrees and unpushed commits are acceptable when aborting\n\n## Detailed Specification\n\n### New Flags\n\n| Flag | Values | Default | Description |\n|------|--------|---------|-------------|\n| `--resolve` | `success`, `abort` | `success` | Resolution mode for the work |\n| `--force` | boolean | `false` | Skip all validations (success path only) |\n| `--ignore` | `pr`, `worktree` | none | Skip specific operations |\n| `--yes` | boolean | `false` | Skip interactive confirmation (existing) |\n\n### Validations (Success Path Only)\n\nThese prevent accidental data loss and ensure clean merges. All bypassed by `--force`:\n\n1. **PR checks passing**\n   - Command: `gh pr view $branch --json statusCheckRollup`\n   - Required: `statusCheckRollup.state == \"SUCCESS\"`\n   - Error message: \"PR checks are not passing. Use --force to merge anyway.\"\n\n2. **Worktree clean**\n   - Command: `git status --porcelain`\n   - Required: Empty output\n   - Error message: \"Worktree has uncommitted changes. Commit or use --force.\"\n\n3. **Branch synced**\n   - Command: `git rev-list @{u}..HEAD`\n   - Required: Empty output (no unpushed commits)\n   - Error message: \"Branch has unpushed commits. Push or use --force.\"\n\n### Interactive UI (using gum)\n\nWhen running without `--yes`, show an interactive checklist powered by `gum choose`:\n\n```\nâ”Œâ”€ End Work: feat/123-add-auth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                    â”‚\nâ”‚ Select operations to perform:                     â”‚\nâ”‚                                                    â”‚\nâ”‚ [âœ“] Validate PR checks (checks passing)           â”‚\nâ”‚ [âœ“] Validate worktree clean                       â”‚\nâ”‚ [âœ“] Validate branch synced                        â”‚\nâ”‚ [âœ“] Delete worktree                               â”‚\nâ”‚ [âœ“] Delete local branch                           â”‚\nâ”‚ [âœ“] Merge PR #123 (deletes remote branch)         â”‚\nâ”‚ [âœ“] Sync main branch                              â”‚\nâ”‚                                                    â”‚\nâ”‚ Use space to toggle, enter to confirm             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nProceed with selected operations? [y/N]:\n```\n\n**Notes on UI:**\n- All tasks checked by default (for success path)\n- Tasks can be toggled to skip\n- Validation failures shown inline (e.g., \"checks passing\" or \"checks FAILING\" in red)\n- For abort path, \"Merge PR\" replaced with \"Close PR\" and validations unchecked\n\n### PR Detection and Status\n\n**Check if PR exists:**\n```bash\ngh pr list --head $branch --json number,state\n# Returns: [{\"number\":123,\"state\":\"OPEN\"}] or []\n```\n\n**Get PR status:**\n```bash\ngh pr view $branch --json state,statusCheckRollup,number,url\n# Returns: {\"state\":\"OPEN\",\"statusCheckRollup\":{\"state\":\"SUCCESS\"},...}\n```\n\n**Merge PR:**\n```bash\ngh pr merge $branch --squash --delete-branch\n```\n\n**Close PR:**\n```bash\ngh pr close $branch\n```\n\n### Main Branch Sync\n\nAfter successful PR merge, sync the main branch:\n\n```bash\n# Navigate to main repo (already handled by existing code)\ncd $(git rev-parse --show-toplevel)\n\n# Only checkout if not already on main\ncurrent_branch=$(git branch --show-current)\nif [ \"$current_branch\" != \"main\" ]; then\n  git checkout main\nfi\n\n# Pull latest changes\ngit pull origin main\n```\n\n**Error handling:**\n- If main branch pull fails, show warning but don't fail the entire operation (worktree/PR already cleaned up)\n- Tip: \"Run 'git pull origin main' manually to sync\"\n\n## Edge Cases\n\n| Scenario | Behavior |\n|----------|----------|\n| No PR exists | Skip PR validation and PR operations (tasks 1, 6, 7) gracefully |\n| PR already merged | Skip merge operation (task 6) gracefully, still sync main |\n| PR already closed | Skip close operation (task 3) gracefully |\n| PR checks pending | Block with validation error (success path), allow with `--force` |\n| PR has merge conflicts | Let `gh pr merge` handle the error, show user the message |\n| `--ignore pr --ignore worktree` | Do nothing, exit successfully (all tasks subtracted) |\n| `--resolve abort --ignore pr` | Delete worktree/branch locally, don't touch PR |\n| Remote branch already deleted | Git will handle gracefully, no error |\n| Detached HEAD worktree | Skip branch deletion (existing behavior) |\n\n## Implementation Notes\n\n### Dependencies\n\n1. **gum** (Charm tools) - For interactive multi-select UI\n   - Install: `brew install gum` or `go install github.com/charmbracelet/gum@latest`\n   - Check: Add to `__cli_register_deps end git gh gum`\n   - Fallback: If not installed, use simple numbered list with space-separated input\n\n2. **gh** CLI - For PR operations (already used by `flo start`)\n   - Add to dependencies: `__cli_register_deps end git gh`\n   - Use existing `__flo_require_gh` helper\n\n### Files to Modify\n\n- **`functions/end.fish`** - Main implementation (complete rewrite)\n- **`functions/flo.fish`** - Add `gh` to `end` command dependencies\n- **`functions/__flo_lib_log.fish`** - Existing logging library (no changes needed)\n- **`functions/end.md`** - Documentation (already updated)\n- **`test/cases/flo-end/*.fish`** - Update existing tests, add new ones\n\n### Test Scenarios\n\n**Core functionality:**\n- âœ… Success path with passing PR checks\n- âœ… Success path with no PR (graceful skip)\n- âœ… Success path with already-merged PR (idempotent)\n- âœ… Abort path with open PR\n- âœ… Abort path with no PR\n- âœ… Abort path with already-closed PR (idempotent)\n\n**Validations:**\n- âœ… Block on failing PR checks (success path)\n- âœ… Block on uncommitted changes (success path)\n- âœ… Block on unpushed commits (success path)\n- âœ… `--force` bypasses all validations\n\n**Flags:**\n- âœ… `--ignore pr` skips PR operations\n- âœ… `--ignore worktree` skips local cleanup\n- âœ… `--ignore pr --ignore worktree` does nothing (no-op)\n- âœ… `--yes` skips interactive UI\n- âœ… `--force --yes` for automation\n\n**Edge cases:**\n- âœ… PR checks pending (not failed, just incomplete)\n- âœ… PR has merge conflicts\n- âœ… Main branch sync fails\n- âœ… Remote branch already deleted\n- âœ… Removing by issue number, branch name, worktree directory\n\n**Mocking for tests:**\n```fish\n# Mock gh CLI\nfunction gh\n    switch $argv[1]\n        case pr\n            switch $argv[2]\n                case list\n                    echo '[{\"number\":123,\"state\":\"OPEN\"}]'\n                case view\n                    echo '{\"state\":\"OPEN\",\"statusCheckRollup\":{\"state\":\"SUCCESS\"}}'\n                case merge\n                    echo \"âœ“ Merged PR #123\"\n                case close\n                    echo \"âœ“ Closed PR #123\"\n            end\n    end\nend\n\n# Mock gum\nfunction gum\n    # Return all options (simulate all checkboxes selected)\n    echo \"Validate PR checks\"\n    echo \"Delete worktree\"\n    echo \"Merge PR\"\nend\n```\n\n### Logging Strategy\n\nUse existing logging library with appropriate message types:\n\n```fish\n__flo_log_info \"Checking PR status...\"\n__flo_log_warn \"PR checks not passing\" \"Use --force to merge anyway\"\n__flo_log_error \"Validation failed\" \"Fix issues or use --force\"\n__flo_log_success \"Merged PR #123\"\n__flo_log_info_dim \"Syncing main branch...\"\n```\n\n## Breaking Changes\n\n### Removed\n\n- âŒ `--keep-branch` flag\n  - **Migration**: Use `--ignore worktree` instead\n  - **Rationale**: New flag is more general (skips both worktree and branch)\n\n### Changed\n\n- âš ï¸ `--force` flag behavior expanded\n  - **Old**: Force-remove dirty worktree + force-delete unmerged branch\n  - **New**: Skip ALL validations (PR checks, dirty worktree, unpushed commits)\n  - **Impact**: More permissive, but aligns with \"force\" semantics\n\n### New Requirements\n\n- âœ… `gh` CLI must be installed and authenticated for PR operations\n- âœ… `gum` CLI recommended for best UX (but optional with fallback)\n- âœ… GitHub remote must be configured (`origin` with github.com URL)\n\n## Migration Guide for Users\n\n### Old Command â†’ New Command\n\n| Old | New | Notes |\n|-----|-----|-------|\n| `flo end` | `flo end` | Same (now merges PR if exists) |\n| `flo end --keep-branch` | `flo end --ignore worktree` | New flag name |\n| `flo end --force` | `flo end --force` | Now also skips PR validations |\n| N/A | `flo end --resolve abort` | New: close PR instead of merge |\n| N/A | `flo end --ignore pr` | New: skip PR operations |\n\n### Workflow Changes\n\n**Before:**\n```bash\nflo end              # Remove worktree/branch\ngh pr merge --squash # Merge PR manually\ngit checkout main    # Switch to main\ngit pull            # Sync with remote\n```\n\n**After:**\n```bash\nflo end             # Does all of the above automatically!\n```\n\n## Success Metrics\n\n- âœ… Reduces manual steps from 4+ to 1\n- âœ… Prevents accidental merges of failing PRs\n- âœ… Prevents data loss from dirty worktrees\n- âœ… Keeps main branch in sync automatically\n- âœ… Maintains flexibility with `--ignore` flags\n\n## Future Enhancements (Out of Scope)\n\nThese are potential improvements for future iterations:\n\n- Smart default branch detection (main vs master vs custom)\n- Support for merge strategies beyond squash (merge, rebase)\n- Auto-delete merged branches from `flo list`\n- Integration with `~/.flo/worktrees.json` cleanup\n- PR comment notification before auto-merge\n- Stash dirty changes instead of blocking\n- Interactive PR review before merge\n","title":"feat: Enhance flo end with PR integration and task-based cleanup","url":"https://github.com/jasonkuhrt/flo/issues/31"},{"body":"### Describe the bug\r\n\r\nI have a GitHub actions that runs `gh pr edit` using the `GITHUB_TOKEN` created automatically for the job.\r\n\r\nWhen I added\r\n```yaml\r\npermissions:\r\n  pull-requests: write\r\n```\r\nto the workflow definition I started to get \r\n```\r\nGraphQL: Resource not accessible by integration (repository.pullRequest.projectCards.nodes)\r\n```\r\nI think it is because of this line: https://github.com/cli/cli/blob/0ecd424901427fa96e4b322290d480b5f1350baa/pkg/cmd/pr/edit/edit.go#L169\r\nwhere the CLI tries to get the project names, but this requires the `repository-projects: read` permission.\r\n\r\nAdding `repository-projects: read` fixes the problem, but this took me a while to figure out and should be fixed IMO, since edits to a PR that don't involve projects shouldn't require that permission.\r\n\r\nI am using the latest CLI version as intalled in the `ubuntu-latest` GitHub Actions image.\r\n\r\n### Steps to reproduce the behavior\r\n\r\n1. Create a workflow with only `pull-requests: write` permissions\r\n2. Create a step that runs `gh pr edit ...`\r\n3. See error\r\n\r\n### Expected vs actual behavior\r\n\r\nThe `gh pr edit` command should succeed without additional permissions.\r\n","title":"`gh pr edit` does not work with only `pull-requests: write` permissions","url":"https://github.com/cli/cli/issues/6274"},{"body":"## ğŸ“‹ Overview\n\nThis issue tracks required improvements to the VerifierAgent implementation identified during code review of PR #1. These changes are necessary to ensure production-readiness, security compliance, and alignment with best practices.\n\n**Related PR:** #1\n**Requested by:** @AbhayRathi\n**Priority:** High (blocks production deployment)\n\n---\n\n## ğŸ”´ Critical Issues (Must Fix Before Merge)\n\n### 1. Missing Input Validation & Null Safety âš ï¸\n\n**Risk Level:** HIGH - Runtime crashes, potential security vulnerabilities\n\n**Problem:**\nThe code assumes all nested properties exist without validation. Malformed or malicious input will cause runtime errors and potential denial-of-service.\n\n**Current Code:**\n```typescript\n// No guards - will crash on undefined\nconst hasNegativeTags = this.hasNegativeTags(agentOutputs.tagger.tags);\nconst hasHighScore = agentOutputs.analyzer.score > 0.8;\n```\n\n**Required Fix:**\n```typescript\nprivate async executeVerification(input: VerifierInput): Promise<VerifierOutput> {\n  // Validate input structure\n  if (!input.agentOutputs?.analyzer || !input.agentOutputs?.tagger || !input.agentOutputs?.scorer) {\n    throw new Error('Invalid agentOutputs: missing required agent outputs');\n  }\n  \n  if (typeof input.agentOutputs.analyzer.score !== 'number' || \n      typeof input.agentOutputs.analyzer.confidence !== 'number') {\n    throw new Error('Invalid analyzer output: score and confidence must be numbers');\n  }\n  \n  if (!Array.isArray(input.agentOutputs.tagger.tags)) {\n    throw new Error('Invalid tagger output: tags must be an array');\n  }\n  \n  // Add validation for all required fields\n  // ...\n}\n```\n\n**Acceptance Criteria:**\n- [ ] All nested property accesses have null/undefined guards\n- [ ] Type validation for numeric fields (scores, confidence)\n- [ ] Array validation with proper checks\n- [ ] Descriptive error messages for debugging\n- [ ] Add test cases for malformed input (TDD-V007)\n\n---\n\n### 2. No Error Handling / Exception Management âš ï¸\n\n**Risk Level:** HIGH - Unhandled exceptions crash the entire process\n\n**Problem:**\nZero try-catch blocks in the implementation. Any unexpected error (network, parsing, logic) will crash the Node.js process.\n\n**Required Fix:**\n```typescript\nprivate async executeVerification(input: VerifierInput): Promise<VerifierOutput> {\n  try {\n    const { candidateTranscript, question, contextKnowledge, agentOutputs } = input;\n    // ... existing logic\n    return result;\n  } catch (error) {\n    console.error('[VerifierAgent] Execution failed:', error);\n    \n    // Return safe fallback instead of crashing\n    return {\n      confidence_score: 0,\n      is_consistent: false,\n      is_accurate: false,\n      reflexion_required: true,\n      critique_reasoning: `Verification failed due to error: ${error instanceof Error ? error.message : 'Unknown error'}`,\n      recommended_refinement: {\n        agent_to_refine: 'None',\n        critique_prompt_injection: 'Critical error occurred during verification.',\n      },\n    };\n  }\n}\n```\n\n**Acceptance Criteria:**\n- [ ] Wrap `executeVerification` in try-catch\n- [ ] Add error handling to `performConsistencyCheck`\n- [ ] Add error handling to `performFactualAudit`\n- [ ] Add error handling to `generateReflexionDecision`\n- [ ] Return safe fallback values on error\n- [ ] Add error logging with context\n- [ ] Add test case for error scenarios (TDD-V008)\n\n---\n\n### 3. Type Safety Issue with Method Overloading âš ï¸\n\n**Risk Level:** MEDIUM - Type system may not enforce contracts correctly\n\n**Problem:**\nBaseAgent defines `execute(input: AgentInput)`, but VerifierAgent overloads with `VerifierInput`. TypeScript may not properly resolve this, leading to type unsafety.\n\n**Required Fix:**\n```typescript\n// Option 1: Use union type\nasync execute(input: VerifierInput | AgentInput): Promise<VerifierOutput | AgentOutput> {\n  if (this.isVerifierInput(input)) {\n    return this.executeVerification(input);\n  }\n  return this.executeLegacy(input);\n}\n\nprivate isVerifierInput(input: any): input is VerifierInput {\n  return 'candidateTranscript' in input && 'contextKnowledge' in input;\n}\n```\n\n**Acceptance Criteria:**\n- [ ] Remove ambiguous method overloading\n- [ ] Add type guard for input discrimination\n- [ ] Update tests to verify both input paths\n- [ ] Ensure TypeScript strict mode passes\n\n---\n\n### 4. Integration Mismatch with ConductorAgent âš ï¸\n\n**Risk Level:** HIGH - New verification logic is never executed in production\n\n**Problem:**\nThe ConductorAgent still uses legacy format when calling verifier. The new three-stage verification process is completely bypassed.\n\n**Current Code (conductor.ts:69):**\n```typescript\nconst verifiedOutput = await this.verifier.execute({\n  type: 'VERIFIER',\n  context: {\n    agentOutputs: [analyzedOutput, taggedOutput],\n  },\n});\n```\n\n**Required Fix:**\n```typescript\n// Update ConductorAgent to use new format\nconst verifiedOutput = await this.verifier.execute({\n  candidateTranscript: context.transcript,\n  question: context.questionText,\n  contextKnowledge: {\n    expectedConcepts: await this.retrieveExpectedConcepts(context.questionId),\n    idealResponseCharacteristics: await this.retrieveIdealCharacteristics(context.questionId),\n    keyFacts: await this.retrieveKeyFacts(context.questionId),\n  },\n  agentOutputs: {\n    analyzer: this.mapToAnalyzerOutput(analyzedOutput),\n    tagger: this.mapToTaggerOutput(taggedOutput),\n    scorer: this.mapToScorerOutput(scoredOutput), // Add scorer step\n  },\n});\n```\n\n**Acceptance Criteria:**\n- [ ] Update ConductorAgent to pass VerifierInput format\n- [ ] Add context knowledge retrieval from database\n- [ ] Add scorer agent execution before verifier\n- [ ] Add integration test for full pipeline (TDD-INTEGRATION-001)\n- [ ] Verify legacy format still works for backward compatibility\n\n---\n\n## ğŸŸ¡ Performance & Security Improvements\n\n### 5. Repeated String Operations (Performance)\n\n**Problem:**\n`toLowerCase()` called multiple times on the same strings, wasting CPU cycles.\n\n**Fix:**\n```typescript\nprivate performFactualAudit(candidateTranscript: string, contextKnowledge: ContextKnowledge) {\n  const lowerTranscript = candidateTranscript.toLowerCase();\n  // Use lowerTranscript throughout\n}\n```\n\n**Acceptance Criteria:**\n- [ ] Cache lowercased strings\n- [ ] Eliminate redundant string operations\n\n---\n\n### 6. Inefficient Object Creation (Performance)\n\n**Problem:**\n`hasRelatedTerm()` creates a new object on every call.\n\n**Fix:**\n```typescript\nprivate static readonly RELATED_TERMS: Record<string, string[]> = {\n  'one-way binding': ['unidirectional', 'one way', 'single direction', 'props down'],\n  // ...\n};\n\nprivate hasRelatedTerm(transcript: string, concept: string): boolean {\n  const related = VerifierAgent.RELATED_TERMS[concept] || [];\n  return related.some(term => transcript.includes(term));\n}\n```\n\n**Acceptance Criteria:**\n- [ ] Move `RELATED_TERMS` to class constant\n- [ ] Ensure no runtime object creation in hot path\n\n---\n\n### 7. Array Safety Guards\n\n**Problem:**\nNo guards against empty/undefined arrays.\n\n**Fix:**\n```typescript\nprivate hasNegativeTags(tags: string[]): boolean {\n  if (!tags || tags.length === 0) return false;\n  // ... rest of logic\n}\n```\n\n**Acceptance Criteria:**\n- [ ] Add null/undefined checks on all array operations\n- [ ] Add length validation before accessing elements\n\n---\n\n## ğŸŸ  Design & Logic Improvements\n\n### 8. Magic Numbers - Extract to Constants\n\n**Problem:**\nUnexplained constants reduce maintainability and auditability.\n\n**Fix:**\n```typescript\nprivate static readonly CONFIDENCE_PENALTIES = {\n  SCORE_TAG_MISALIGNMENT: 0.35,\n  AGENT_DISAGREEMENT_BASE: 0.15,\n  FACTUAL_ERROR: 0.25,\n  LOW_COVERAGE_MULTIPLIER: 0.1,\n  SHORT_TRANSCRIPT: 0.2,\n} as const;\n\nprivate static readonly THRESHOLDS = {\n  HIGH_SCORE: 0.8,\n  LOW_CONFIDENCE: 0.8,\n  AGENT_DISAGREEMENT: 0.2,\n  SHORT_TRANSCRIPT_LENGTH: 50,\n} as const;\n```\n\n**Acceptance Criteria:**\n- [ ] Extract all magic numbers to documented constants\n- [ ] Add JSDoc comments explaining the rationale\n- [ ] Make constants configurable via constructor options (future enhancement)\n\n---\n\n### 9. Simplistic Factual Audit Logic\n\n**Problem:**\nOnly checks \"one-way\" vs \"two-way\" binding. Won't catch most technical inaccuracies.\n\n**Recommendation:**\n- Consider LLM-based fact-checking approach\n- Maintain comprehensive contradiction dictionary\n- Implement semantic similarity checks\n\n**Acceptance Criteria:**\n- [ ] Document limitations in code comments\n- [ ] Create follow-up issue for enhanced fact-checking\n- [ ] Add more domain-specific patterns\n\n---\n\n### 10. Fragile Regex Pattern\n\n**Problem:**\n`checkPositiveAssertion()` uses simple regex that won't handle variations.\n\n**Fix:**\n```typescript\nprivate checkPositiveAssertion(transcript: string, factWithNegation: string): boolean {\n  const patterns = [\n    /(.+?)\\s+does not\\s+(.+)/i,\n    /(.+?)\\s+doesn't\\s+(.+)/i,\n    /(.+?)\\s+cannot\\s+(.+)/i,\n    /(.+?)\\s+can't\\s+(.+)/i,\n  ];\n  \n  for (const pattern of patterns) {\n    const match = factWithNegation.match(pattern);\n    if (match) {\n      // ... checking logic\n    }\n  }\n  return false;\n}\n```\n\n**Acceptance Criteria:**\n- [ ] Support multiple negation patterns\n- [ ] Add test cases for edge cases\n\n---\n\n## ğŸ”’ Security & Compliance Checklist\n\n- [ ] **Input Validation:** All user-provided input is validated and sanitized\n- [ ] **Error Handling:** No unhandled exceptions that could leak sensitive information\n- [ ] **Type Safety:** Strict TypeScript mode enabled and passing\n- [ ] **Logging:** No sensitive data (transcripts, personal info) logged in production\n- [ ] **DOS Prevention:** Input size limits enforced (transcript length, array sizes)\n- [ ] **Dependency Audit:** Run `npm audit` and address vulnerabilities\n- [ ] **Unit Tests:** All critical paths have test coverage (aim for >90%)\n- [ ] **Integration Tests:** End-to-end pipeline tested with Conductor\n\n---\n\n## ğŸ“¦ Deliverables\n\n**Pull Request should include:**\n\n1. **Code Changes:**\n   - All 10 issues addressed with fixes\n   - Updated ConductorAgent integration\n   - New test cases (TDD-V007, TDD-V008, TDD-INTEGRATION-001)\n\n2. **Documentation:**\n   - Updated README with new usage examples\n   - JSDoc comments for all public methods\n   - Architecture diagram showing three-stage flow\n\n3. **Testing:**\n   - Run existing test suite (`npm test`)\n   - Add new test cases for error scenarios\n   - Manual integration test with full pipeline\n\n4. **Validation:**\n   - TypeScript builds without errors\n   - ESLint passes with no warnings\n   - `npm audit` shows no high/critical vulnerabilities\n\n---\n\n## ğŸ¯ Success Criteria\n\n- [ ] All critical issues (1-4) resolved\n- [ ] All performance issues (5-7) resolved\n- [ ] Design improvements (8-10) implemented\n- [ ] Security checklist completed\n- [ ] Test coverage >90% for VerifierAgent\n- [ ] Integration test passes with ConductorAgent\n- [ ] Code review approved by maintainer\n- [ ] CI/CD pipeline passes\n\n---\n\n## ğŸ“š References\n\n- Original PR: #1\n- TDD Acceptance Criteria: TDD-V001 through TDD-V006\n- TypeScript Strict Mode: https://www.typescriptlang.org/tsconfig#strict\n- OWASP Input Validation: https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html\n\n---\n\n## ğŸ’¬ Questions or Clarifications?\n\nTag @AbhayRathi in the comments if you need clarification on any requirement.","title":"ğŸ”’ VerifierAgent: Critical Security, Stability, and Performance Improvements","url":"https://github.com/wildhash/warmscreen/issues/10"},{"body":"### Describe the feature or problem youâ€™d like to solve\r\n\r\nI would like to quickly see if a PR checks are succeeded in the `gh pr list` command, just like the pull request list in the browser:\r\n\r\n<img width=\"311\" alt=\"image\" src=\"https://user-images.githubusercontent.com/15320763/127481164-064d2da3-86a2-4de0-9508-0693b4521b27.png\">\r\n\r\n### Proposed solution\r\n\r\nHave a single emoji added to the `gh pr list` that shows the status of the checks \r\n\r\n### Additional context\r\n\r\n~~Additionally i would also like this data to be available in the json output (`gh pr list --json`)~~\r\n*edit: this is available using: `--json statusCheckRollup`*","title":"Show check in `pr list`","url":"https://github.com/cli/cli/issues/4054"},{"body":"## æ¦‚è¦\nGitHub CLIã‚’ä½¿ç”¨ã—ã¦PR/ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã‚’å–å¾—ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ã€‚\n\n## ã‚¿ã‚¹ã‚¯\n- [ ] `src/server/github/cli.ts` ä½œæˆ\n- [ ] `gh` ã‚³ãƒãƒ³ãƒ‰ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°\n- [ ] PRæƒ…å ±å–å¾—ï¼ˆ`gh pr list`, `gh pr view`ï¼‰\n- [ ] ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±å–å¾—ï¼ˆ`gh repo view`ï¼‰\n- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆghæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã€èªè¨¼ã‚¨ãƒ©ãƒ¼æ™‚ï¼‰\n- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ\n\n## å®Ÿè£…è©³ç´°\n```typescript\n// src/server/github/cli.ts\n\nexport async function isGhInstalled(): Promise<boolean>;\nexport async function isGhAuthenticated(): Promise<boolean>;\n\nexport async function getPRForBranch(branch: string, repoPath?: string): Promise<PRInfo | null>;\nexport async function getRepoInfo(repoPath?: string): Promise<RepoInfo>;\n\ninterface PRInfo {\n  number: number;\n  title: string;\n  state: 'open' | 'closed' | 'merged';\n  reviewStatus: 'pending' | 'approved' | 'changes_requested' | null;\n  checksStatus: 'pending' | 'success' | 'failure' | null;\n  url: string;\n}\n\ninterface RepoInfo {\n  owner: string;\n  name: string;\n  url: string;\n}\n```\n\n## ã‚³ãƒãƒ³ãƒ‰ä¾‹\n```bash\n# ãƒ–ãƒ©ãƒ³ãƒã«ç´ã¥ãPRæƒ…å ±å–å¾—\ngh pr list --head feature/user-auth --json number,title,state,reviewDecision,statusCheckRollup\n\n# PRã®è©³ç´°\ngh pr view --json number,title,state,reviews,statusCheckRollup\n\n# ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±\ngh repo view --json name,owner,url\n```\n\n## ä¾å­˜é–¢ä¿‚\n- **ä¾å­˜ã™ã‚‹Issue**: #1\n- **ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹Issue**: #9, #21\n- **ä¸¦åˆ—å¯èƒ½**: #3, #4, #5, #6, #8ã¨åŒæ™‚ã«å®Ÿè£…å¯èƒ½\n\n## å®Œäº†æ¡ä»¶\n- PRæƒ…å ±ã‚’æ­£ã—ãå–å¾—ã§ãã‚‹ã“ã¨\n- ghãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆnullã‚’è¿”ã™ï¼‰\n- èªè¨¼ã‚¨ãƒ©ãƒ¼æ™‚ã®é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ã“ã¨","title":"GitHub CLIé€£æºãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«","url":"https://github.com/hexylab/claudecraft/issues/7"},{"body":"### Describe the feature or problem youâ€™d like to solve\r\n\r\nOur Enterprise Github account has an integration with _AWS Code Build_ that send to Github information about the generated build id for each repository commit (i.e PR creation and also for PR merging into master branch). I would like to capture that generated **Build ID** highlighted in the image bellow.\r\n\r\n### Proposed solution\r\n\r\nWould like to have an CLI command to provided that information.\r\nEx: `gh pr check --build-id`\r\n\r\nHow will it benefit CLI and its users?\r\n\r\nIt would enhance bash script capabilities that integrate with CI deployments with Harness that use that generated build id.\r\n\r\n### Additional context\r\n\r\nAdd any other context like screenshots or mockups are helpful, if applicable.\r\n\r\n![image](https://user-images.githubusercontent.com/8750800/120017981-ec0d8d00-bfbc-11eb-9a75-8ac11f37f035.png)\r\n","title":"Would like to retrieve do Build Id ","url":"https://github.com/cli/cli/issues/3739"},{"body":"I'm having an issue with the getting status.\r\n\r\n<img width=\"1033\" alt=\"image\" src=\"https://user-images.githubusercontent.com/37748828/200634483-760fe044-f54a-49f5-9279-d93582718a85.png\">\r\n","title":"Error on getting status","url":"https://github.com/hrvey/combine-prs-workflow/issues/17"},{"body":"it would be nice if we have a quick script so we can say: \"toltec-setup-pr 199\" or something similar, letting us quickly setup a PR for testing. \r\n","title":"add script for quick testing of PR artifacts","url":"https://github.com/toltec-dev/toltec/issues/223"},{"body":"## Summary\n\nBuildKite CI appears to be either not running or not properly integrated with GitHub's status check API.\n\n## Evidence\n\n### 1. No Status Checks Visible\nAfter creating PR #46 (CI Health Check) and waiting over 2 hours:\n- GitHub API returns `\"statusCheckRollup\": null` for all PRs, including the health check PR\n- `gh pr checks 46` reports: \"no checks reported on the 'main' branch\"\n- No CI status indicators appear on any PRs (checked PRs #46, #45, #44)\n\n### 2. BuildKite Configuration Exists\nThe repository has BuildKite configuration in `.buildkite/pipeline.yml` with:\n- Format check step\n- CPU test matrix (Core, Applications, QA)\n- CUDA test matrix (Core, Applications)\n- All configured to run unless `[skip tests]` is in commit message\n\n### 3. Recent PR Merge Patterns\n- PR #45 (merged 2025-12-29): created at 21:33:43Z, merged at 21:54:22Z (21 minutes)\n- This is suspiciously fast if full CI test suite was required to pass\n\n### 4. BuildKite Integration History\n- BuildKite was added in PR #30 (merged 2023-07-21)\n- Configuration has been in place for over a year\n\n## Root Cause Analysis\n\nPossible causes:\n1. **BuildKite webhook not configured**: GitHub may not be triggering BuildKite builds on PR creation/updates\n2. **BuildKite status integration disabled**: BuildKite builds may run but not report status back to GitHub\n3. **BuildKite pipeline disabled**: The BuildKite pipeline may be paused or disabled in BuildKite's dashboard\n4. **Authentication/permissions issue**: BuildKite may lack permissions to update GitHub PR status\n5. **Fork PR restrictions**: BuildKite may not be configured to run on PRs from forks (like PR #46 from ChrisRackauckas-Claude fork)\n\n## Impact\n\n- No automated testing verification before merging PRs\n- Potential for broken code to be merged into main branch\n- Loss of CI safety net for quality assurance\n\n## Suggested Fix Approach\n\n1. **Verify BuildKite pipeline status**:\n   - Check BuildKite dashboard to see if pipeline exists and is enabled\n   - Verify webhook configuration between GitHub and BuildKite\n\n2. **Check GitHub integration**:\n   - Ensure BuildKite GitHub app is installed and has proper permissions\n   - Verify BuildKite is configured to report commit statuses\n\n3. **Test with direct push**:\n   - Try pushing directly to a branch (not from fork) to rule out fork-related issues\n\n4. **Review BuildKite settings**:\n   - Check if there are restrictions on which branches/PRs trigger builds\n   - Verify that the BuildKite organization/pipeline is still active\n\n## Additional Context\n\n- Health check PR: #46\n- CI configuration: `.buildkite/pipeline.yml`\n- Last known working CI: Unknown (no recent evidence of CI actually running)\n\ncc @ChrisRackauckas\n\n---\n*Discovered during automated CI health check on 2025-12-30*","title":"[CI Broken] BuildKite CI not running or not reporting status","url":"https://github.com/SciML/ComplementaritySolve.jl/issues/47"},{"body":"<!-- Here is for bug reports and feature requests ONLY! \r\n\r\nIf you're looking for help, please use the discussions forum.\r\n\r\n-->\r\n\r\n## Issue Description\r\n\r\nType: *bug report*\r\n\r\n### Describe what happened (or what feature you want)\r\n\r\nThe last couple of weeks opening prs has failed consistently with an error:\r\n```\r\ngh: Field 'statusCheckRollup' doesn't exist on type 'PullRequest'\r\nField 'mergeStateStatus' doesn't exist on type 'PullRequest'\r\n```\r\nFor context, my company is running github enterprise 3.12 which is still in LTS.\r\nhttps://github.com/pwntester/octo.nvim/pull/660 and https://github.com/pwntester/octo.nvim/pull/666 added several fields to the query which were added in github enterprise version 3.14. See api docs for [3.13](https://docs.github.com/en/enterprise-server@3.13/graphql/reference/objects#pullrequest).\r\nThis causes the query to fail effectively breaking the plugin.\r\n\r\nTo remediate this until my company updates to >=3.14 I added the following to my Lazy.nvim config to pin the last working version:\r\n```lua\r\n{\r\n  'pwntester/octo.nvim',\r\n  commit = 'f09ff9413652e3c06a6817ba6284591c00121fe0',\r\n  pin = true,\r\n}\r\n```\r\n\r\n\r\n### Describe what you expected to happen\r\nThe pr should load successfully.\r\n\r\n### How to reproduce it (as minimally and precisely as possible)\r\n\r\n1. login to a github enterprise <3.14 instance\r\n2. :Octo pr list\r\n3. try to open a pr (preview also fails)\r\n\r\n### Tell us your environment\r\ngithub enterprise 3.12\r\n\r\n### Anything else we need to know?\r\n\r\nI don't think it's fair to block new improvements like this just to support older versions of enterprise. My primary motivation is for others facing this issue to find this and get their setup working again.\r\n\r\n\r\n","title":"Cannot query pull request on github enterprise < 3.14","url":"https://github.com/pwntester/octo.nvim/issues/685"},{"body":"## Issue Description\n\nPR #209 (docs(audit): update evaluation report and agent guidelines) is showing as CONFLICTING despite successful local merge.\n\n## Actions Taken\n\n1. âœ… Merged origin/dev into analyzer-1767913028 branch successfully\n2. âœ… Ran all quality gates locally - all passing:\n   - Security: 0 vulnerabilities\n   - Build: Production build successful (13.5s compile time, 43 static pages)\n   - Lint: Zero ESLint warnings or errors\n   - Typecheck: Zero TypeScript errors\n   - Tests: 44/44 suites passing, 645/645 tests (100%)\n3. âœ… Pushed merged branch to remote (analyzer-1767913028)\n4. âœ… Added PR comment explaining local quality gate results\n\n## Current Status\n\n- GitHub PR Status: CONFLICTING (mergeStateStatus: DIRTY)\n- on-pull check: Stuck in IN_PROGRESS, now showing empty statusCheckRollup\n- Amazon Q Developer check: SUCCESS\n\n## Files Modified\n\n- AGENTS.md\n- docs/architecture/roadmap.md\n- docs/evaluasi.md\n\n## Request\n\nPlease verify on-pull workflow status and authorize merge if all checks pass locally.","title":"PR #209: Merge conflict despite successful local merge","url":"https://github.com/sulhimaskom/blue/issues/211"},{"body":"## Summary\n\nAdd a `Get-PRChecks.ps1` script to the GitHub skill that provides structured CI check verification using GraphQL statusCheckRollup.\n\n## Context\n\n- **Issue #369**: Identified the need for mandatory CI check verification before claiming PR review complete\n- **PR #471**: Adds CI verification documentation, but uses bash approach with `gh pr checks` (text parsing, less robust)\n- **Existing code**: `scripts/Invoke-PRMaintenance.ps1` contains `Test-PRHasFailingChecks` function (L367-454) with 13 unit tests and 100% coverage\n\n## Problem\n\nThe current pr-comment-responder.md recommends bash commands for CI verification:\n\n```bash\ngh pr checks [number] --json name,state,conclusion,detailsUrl\n```\n\nThis approach has issues:\n\n1. **Inconsistency**: Violates skill principle \"Use these scripts instead of raw `gh` commands\"\n2. **Fragility**: Relies on text parsing (no native `--json` output for `gh pr checks`)\n3. **Duplication**: Similar logic exists in `Test-PRHasFailingChecks` but isn't exposed as a skill script\n\n## Proposed Solution\n\n### New Script: `Get-PRChecks.ps1`\n\n**Location**: `.claude/skills/github/scripts/pr/Get-PRChecks.ps1`\n\n**Parameters**:\n\n| Parameter | Type | Required | Description |\n|-----------|------|----------|-------------|\n| `-PullRequest` | int | Yes | PR number |\n| `-Wait` | switch | No | Poll until all checks complete |\n| `-TimeoutSeconds` | int | No | Max wait time (default: 300) |\n| `-RequiredOnly` | switch | No | Filter to required checks only |\n\n**Output Schema**:\n\n```json\n{\n  \"Success\": true,\n  \"Number\": 50,\n  \"Checks\": [\n    { \"Name\": \"build\", \"State\": \"COMPLETED\", \"Conclusion\": \"success\", \"DetailsUrl\": \"...\" }\n  ],\n  \"FailedCount\": 0,\n  \"PendingCount\": 0,\n  \"PassedCount\": 5,\n  \"AllPassing\": true\n}\n```\n\n**Exit Codes**:\n\n| Code | Meaning |\n|------|---------|\n| 0 | All checks passing (or skipped) |\n| 1 | One or more checks failed |\n| 2 | Not found (PR doesn't exist) |\n| 3 | API error |\n| 7 | Timeout reached (with `-Wait`) |\n\n### Implementation Approach\n\n1. Extract `Test-PRHasFailingChecks` logic from `Invoke-PRMaintenance.ps1` into shared helper\n2. Create `Get-PRChecks.ps1` that uses GraphQL statusCheckRollup (consistent with existing code)\n3. Add to SKILL.md decision tree under \"Need GitHub data? â†’ CI check status â†’ Get-PRChecks.ps1\"\n4. Migrate existing 13 unit tests\n\n## Acceptance Criteria\n\n- [ ] `Get-PRChecks.ps1` returns structured JSON with all check details\n- [ ] Supports optional `-Wait` polling with configurable timeout\n- [ ] Uses GraphQL statusCheckRollup (not REST API)\n- [ ] All 13 migrated tests pass\n- [ ] Added to SKILL.md script reference and decision tree\n- [ ] pr-comment-responder.md updated to use script instead of bash\n\n## Related\n\n- Closes: N/A (enhancement, not bug fix)\n- Related: #369 (CI verification requirement)\n- Related: #155 (GraphQL vs REST capability matrix)\n- Blocks: Future pr-comment-responder improvements\n\n## Analysis\n\nFull analyst research: `.agents/analysis/002-pr-checks-skill-extraction.md`\nCritic review: `.agents/critique/001-pr-checks-extraction-critique.md`","title":"feat(github-skill): Add Get-PRChecks.ps1 for CI check verification","url":"https://github.com/rjmurillo/ai-agents/issues/472"},{"body":"","title":"Switch to TypeScript","url":"https://github.com/narthur/gh-flow/issues/8"},{"body":"in the PR review mode, there is this line:\n\n```\ngh pr view {{ pr_number }} --json files,reviewThreads,commits,additions,deletions\n```\n\nBut when running we get:\n\n```\n\n|  Bash     Fetch PR #19 details\nUnknown JSON field: \"reviewThreads\"\nAvailable fields:\n  additions\n  assignees\n  author\n  autoMergeRequest\n  baseRefName\n  baseRefOid\n  body\n  changedFiles\n  closed\n  closedAt\n  closingIssuesReferences\n  comments\n  commits\n  createdAt\n  deletions\n  files\n  fullDatabaseId\n  headRefName\n  headRefOid\n  headRepository\n  headRepositoryOwner\n  id\n  isCrossRepository\n  isDraft\n  labels\n  latestReviews\n  maintainerCanModify\n  mergeCommit\n  mergeStateStatus\n  mergeable\n  mergedAt\n  mergedBy\n  milestone\n  number\n  potentialMergeCommit\n  projectCards\n  projectItems\n  reactionGroups\n  reviewDecision\n  reviewRequests\n  reviews\n  state\n  statusCheckRollup\n  title\n  updatedAt\n  url\n```","title":"Unknown JSON field: \"reviewThreads\"","url":"https://github.com/dobbyphus/action/issues/12"},{"body":"**User Report:**\n\n\n\n\n\n---\n**Debug Info:**\n\n*commitsError*: \n```\nError: Command exited with code 1\n    at ChildProcess.<anonymous> (/Users/nyannios/.vscode/extensions/interactive-smartlog.interactive-smartlog-0.2.67/dist/extension.js:2:459878)\n    at ChildProcess.emit (node:events:518:28)\n    at maybeClose (node:internal/child_process:1101:16)\n    at Socket.<anonymous> (node:internal/child_process:456:11)\n    at Socket.emit (node:events:518:28)\n    at Pipe.<anonymous> (node:net:346:12)\n```\n\n*commitTreesLength*: 0\n\n*uncommittedChangesLength*: 20\n\n*outputChannelContents*: \n```\nSetup analytics, session:  9ec40b01-029d-4eb6-bc23-a4d0a4bc44b91757454089930\nOperating System: darwin 24.6.0\nIGL Version: 0.2.67\nUsing cached repo info\n[track] ClientConnection  \nestablish client connection for /Users/nyannios/Library/CloudStorage/OneDrive-NYCOTI/LocalDev\nUsing cached repo info\nWatching 8 critical git paths\nFetching commits...\nWatchman setup failed, falling back to chokidar\nerror fetching github PR summaries:  Error: GhNotIn\n\n...\n\nommand exited with code 1\nFetching commits...\nerror fetching github PR summaries:  Error: GhNotInstalledError: Error: Command failed with ENOENT: gh api graphql -f searchQuery=repo:nyannios/LocalDev is:pr author:@me -F numToFetch=50 --hostname github.com -f query=\n    query YourPullRequestsQuery($searchQuery: String!, $numToFetch: Int!) {\n  search(query: $searchQuery, type: ISSUE, first: $numToFetch) {\n    nodes {\n      ... on PullRequest {\n        __typename\n        number\n        title\n        body\n        state\n        isDraft\n        url\n        reviewDecision\n        headRefName\n        reviews(first: 50) {\n          nodes {\n            comments(first:100) {\n              totalCount\n            }\n          }\n        }\n        comments {\n          totalCount\n        }\n        commits(last: 1) {\n          nodes {\n            commit {\n              statusCheckRollup {\n                state\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    \nspawn gh ENOENT\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:285:19)\n    at onErrorNT (node:internal/child_process:483:16)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at /Users/nyannios/.vscode/extensions/interactive-smartlog.interactive-smartlog-0.2.67/dist/extension.js:2:493825\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/nyannios/.vscode/extensions/interactive-smartlog.interactive-smartlog-0.2.67/dist/extension.js:2:491223\nError executing git merge-base eee02da832749db4319403e54b2446089a8adc90 812794e4ff054b337ccea324c094d03330b6349d for branches origin/main ","title":"Interactive GIT Log error on Mac OS and code","url":"https://github.com/tnesbitt210/interactive-smartlog-issues/issues/49"},{"body":"## Problem\nPR #263 (Security Assessment 2026-01-13) is blocked by the required status check \"Workers Builds: website-sekolah\" which remains pending.\n\n## Current Status\n- PR mergeable: Yes\n- Merge state: BLOCKED\n- GitHub Actions checks: All passing âœ“\n  - Check Build Health: SUCCESS\n  - Check Code Quality: SUCCESS\n  - Check Dependencies: SUCCESS\n  - Summarize Monitoring Findings: SUCCESS\n- Local verification:\n  - Build: âœ“ Pass\n  - Tests: âœ“ 1954 passed\n- Branch protection required check: Workers Builds: website-sekolah (PENDING)\n\n## Changes in PR\n- docs/SECURITY_ASSESSMENT_2026-01-13.md (+564 lines)\n- worker/middleware/security-headers.ts (minor update)\n\n## Analysis\nThe Workers Builds check is an external Cloudflare Workers build that is not showing in the statusCheckRollup but is still enforced by branch protection. This check may be:\n- Not properly configured for this PR\n- Not triggered automatically\n- Stuck or taking an extended time to complete\n- Require manual Cloudflare dashboard intervention\n\n## Recommendations\n1. Check Cloudflare Workers dashboard for build status: https://dash.cloudflare.com/2560d478b3d26a83c3efe3565bed7f4f/workers/services/view/website-sekolah/production/builds/\n2. Verify Workers Build integration with GitHub is properly configured\n3. Consider if this check should be optional for documentation-only changes\n4. Manually trigger the Workers Build if possible\n\n## Next Steps\nThis PR contains only documentation and minor security header updates, so it is low-risk. However, the required status check prevents merging.\n\nPriority: P2\nCategory: chore","title":"Chore: PR #263 blocked by pending Workers Builds check - requires manual intervention","url":"https://github.com/cpa01cmz-beep/web-sekolah/issues/266"},{"body":"https://github.com/anthropics/claude-code-action/blob/main/examples/ci-failure-auto-fix.yml\n\nexampleã‚’å‚è€ƒã«23æ™‚ã‹ã‚‰ç¿Œæ—¥9æ™‚ã®é–“ã§2æ™‚é–“ã«1å›èµ·å‹•ã—ã¦CIã«å¤±æ•—ã—ã¦ã„ã‚‹PRãŒã‚ã‚Œã°ä¿®æ­£ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„","title":"å¤œé–“ã«CIãŒå¤±æ•—ã—ã¦ã„ã‚‹PRãŒã‚ã‚‹å ´åˆã«ä¿®æ­£ã—ã¦ã»ã—ã„","url":"https://github.com/dev-roar-lab/dev-roar-lab-hp/issues/18"},{"body":"**Branch:** `claude-quirky-otter-w7iowdox`\n**Plan file:** `/home/ben/.claude/plans/wondrous-jingling-river.md`\n\n---\n\n# Fix Stop Hook: CI Failure Blocking and Link Formatting\n\n## Intent\n\nFix two critical issues in the `commit-session-await-ci-status.ts` stop hook:\n\n1. **Wrong output target**: When CI fails, the \"âŒ PR Has CI Failures\" message appears to the user as non-blocking instead of blocking Claude\n2. **Link formatting**: PR/CI URLs wrap with extra tabs/spaces, breaking clickability\n\n## Root Cause Analysis\n\n### Issue 1: CI Failures Shown to User\n\n**Current behavior:**\n- Hook calls `awaitCIWithFailFast()` which may return `success: true` when CI checks can't be fetched (empty statusCheckRollup)\n- Then calls `getCIRunDetails()` which fetches actual CI run showing `conclusion: 'failure'`\n- Calls `formatPRStatusInfo()` with failed CI data\n- Returns `decision: 'approve'` with `systemMessage` containing \"âŒ PR Has CI Failures\"\n- User sees the failure message but Claude is not blocked\n\n**Expected behavior:**\n- When CI fails, hook should return `decision: 'block'` with `reason` (blocks Claude)\n- Only when CI passes should it return `decision: 'approve'` with `systemMessage` (informs user)\n\n**Fix approach:**\n- After calling `getCIRunDetails()`, check if `ciRun.conclusion === 'failure'` or `ciRun.conclusion === 'cancelled'`\n- If CI failed, return early with `decision: 'block'` and blocking error message\n- Only show `formatPRStatusInfo()` to user when CI actually passed\n\n### Issue 2: Link Formatting\n\n**Current behavior:**\nLines 787, 792 in `formatPRStatusInfo()`:\n```typescript\nmessage += `ğŸ“‹ PR: ${prCheck.prUrl}\\n`;\nmessage += `ğŸ”„ CI: ${ciRun.url} ${statusIcon} ${ciRun.conclusion || ...}\\n`;\n```\n\nThe URLs are part of a message that gets indented with tabs when displayed by the stop hook, causing:\n- URLs to wrap mid-string\n- Extra spacing breaking clickability\n\n**Fix approach:**\n- Use markdown link format: `[text](url)` instead of raw URLs\n- Or use shorter labels to prevent wrapping\n- Ensure no tabs/spaces inside URL strings that would break on wrap\n\n## Implementation Plan\n\n### Step 1: Add CI Failure Check After `getCIRunDetails`\n\n**File**: `plugins/github-context/hooks/commit-session-await-ci-status.ts`\n\nAfter line 1141 where `getCIRunDetails()` is called, add:\n\n```typescript\n// If CI run shows failure, block Claude (don't show to user)\nif (ciRun.conclusion === 'failure' || ciRun.conclusion === 'cancelled') {\n  const failedStatus = ciRun.conclusion === 'cancelled' ? 'cancelled' : 'failed';\n  return {\n    decision: 'block',\n    reason: `âŒ CI ${failedStatus} for PR #${prCheck.prNumber}\\n\\nğŸ”— [PR](${prCheck.prUrl}) | [CI Run](${ciRun.url})`,\n    systemMessage: `Claude is blocked from stopping due to CI ${failedStatus}.`,\n  };\n}\n```\n\nThis ensures that even if `awaitCIWithFailFast` incorrectly returns success (due to missing statusCheckRollup), we catch the failure when fetching actual CI run details.\n\n### Step 2: Update `formatPRStatusInfo` for Success-Only Path\n\n**File**: Same file, lines 771-804\n\nSince `formatPRStatusInfo` will now only be called when CI passes, simplify the header logic:\n\n```typescript\nfunction formatPRStatusInfo(\n  prCheck: { prNumber: number; prUrl: string },\n  ciRun: { url?: string; status?: string; conclusion?: string; name?: string },\n  vercelUrls: { webUrl?: string; marketingUrl?: string }\n): string {\n  // Header (simplified - this function only called when CI passed)\n  let message = 'âœ… PR Ready for Review\\n\\n';\n\n  // PR link with markdown format (clickable)\n  message += `ğŸ“‹ [View PR #${prCheck.prNumber}](${prCheck.prUrl})\\n`;\n\n  // CI run link with markdown format\n  if (ciRun.url) {\n    message += `ğŸ”„ [View CI Run](${ciRun.url}) âœ… success\\n`;\n  }\n\n  // Preview URLs (unchanged)\n  if (vercelUrls.webUrl || vercelUrls.marketingUrl) {\n    message += '\\nğŸŒ Previews:\\n';\n    if (vercelUrls.webUrl) message += `   â€¢ ${vercelUrls.webUrl}\\n`;\n    if (vercelUrls.marketingUrl) message += `   â€¢ ${vercelUrls.marketingUrl}\\n`;\n  }\n\n  message += '\\nPress enter to continue.';\n  return message;\n}\n```\n\n**Changes:**\n- Remove conditional header logic (always success)\n- Use markdown link format `[text](url)` for PR and CI links\n- Remove status icon logic (always success)\n\n### Step 3: Update Blocking Error Messages to Use Markdown Links\n\n**File**: Same file, line 1127\n\nUpdate the blocking error message format:\n\n```typescript\nreason: `${ciResult.blockReason || `âŒ CI failed for PR #${prCheck.prNumber}`}\n\n${checksTable}\n\nğŸ”— [View PR](${prCheck.prUrl}) | \\`gh pr checks ${prCheck.prNumber}\\``,\n```\n\n**Change**: Use `[View PR](url)` instead of `[PR](url)` for clarity\n\n## Critical Files\n\n- `plugins/github-context/hooks/commit-session-await-ci-status.ts` (lines 1088-1161, 771-804)\n\n## Success Criteria\n\n1. âœ… When CI fails, Claude is blocked (not user informed)\n2. âœ… When CI passes, user is informed (non-blocking)\n3. âœ… PR and CI links use markdown format and wrap correctly\n4. âœ… Links remain clickable after wrapping\n5. âœ… Stop hook correctly distinguishes between blocking errors and informational messages\n\n## Testing\n\n1. Test with PR that has failing CI checks\n2. Test with PR that has passing CI checks\n3. Test with PR that has no CI checks (statusCheckRollup empty)\n4. Verify link clickability in terminal output\n","title":"Fix Stop Hook: CI Failure Blocking and Link Formatting","url":"https://github.com/constellos/claude-code-plugins/issues/171"},{"body":"## Problem\n\nWhen the changesets action creates a \"Version Packages\" PR from `changeset-release/dev` â†’ `dev`, the CI tests never run. This causes the PR to appear \"hung\" waiting for status checks that will never come.\n\nCurrently, the only workaround is creating an empty commit to trigger CI, which is tedious and clutters the git history.\n\n## Root Cause\n\nThe CI workflow (`.github/workflows/ci.yml`) only triggers on:\n\n- Push to `main` or `dev`\n- Pull requests targeting `main` or `dev`\n\nThe `changeset-release/*` branches are **not** included in the trigger list, so when changesets pushes to `changeset-release/dev`, no CI runs.\n\n**Evidence:** PR #61 has empty `statusCheckRollup` - no CI has ever been triggered.\n\n## Fix\n\nAdd `changeset-release/*` to the push branch triggers in `.github/workflows/ci.yml`:\n\n```yaml\non:\n  push:\n    branches: [main, dev, 'changeset-release/*']\n```\n\n## Acceptance Criteria\n\n- [ ] CI automatically runs when `changeset-release/*` branches are pushed\n- [ ] Version Packages PRs no longer require empty commits to get CI status","title":"CI tests don't run on Version Packages PRs from changeset-release/* branches","url":"https://github.com/kevinmaes/claudebar/issues/64"},{"body":"### Describe the bug\n\nIf a PR has been opened from a fork, the GH CLI does not show the PR when invoking `gh pr status`.\nThis seems to be a similar issue as #5914\n\n### Affected version\n\n```\ngh version 2.83.1 (2025-11-13)\nhttps://github.com/cli/cli/releases/tag/v2.83.1\n```\n\n### Steps to reproduce the behavior\n\n1. Create a [repo](https://github.com/niri81/gh-cli-test/) and have someone [open a PR from a fork](https://github.com/niri81/gh-cli-test/pull/1).\n2. Invoke `gh pr checkout $ID` locally in your cloned repo\n3. Invoke `gh pr status`\n\n### Expected vs actual behavior\nActual:\n```sh\nRelevant pull requests in niri81/gh-cli-test\n\nCurrent branch\n  There is no pull request associated with [tametsi:tametsi/main]\n\nCreated by you\n  You have no open pull requests\n\nRequesting a code review from you\n  You have no pull requests to review\n```\n\nI expected to receive information abut the currently checked out PR (i.e. https://github.com/niri81/gh-cli-test/pull/1).\n\n### Logs\n\n[logs.txt](https://github.com/user-attachments/files/23768210/logs.txt)","title":"`gh pr status` shows 'no pull request associated' on a branch pulled via `gh pr checkout` from a fork","url":"https://github.com/cli/cli/issues/12203"},{"body":"Hello,\r\n\r\nI opened some PRs on a repo on an org that has SAML enforcements. https://github.com/microsoftDocs/azure-docs/pull/94927 Later I started to see some error messages seen below.\r\n\r\n![image](https://user-images.githubusercontent.com/6772247/176641374-471135dc-aa2b-4861-9413-150b5af9c263.png)\r\n\r\nI copied the error message, formatted it, and opened the link in `x-github-sso` field on a browser to resolve the issue.\r\n\r\nBelow is the formatted error message in the screenshot:\r\n\r\n`Error: Resource protected by organization SAML enforcement. You must grant your Personal Access token access to this organization.:`\r\n```json\r\n{\r\n  \"response\": {\r\n    \"data\": { \"repository\": { \"pullRequest\": null } },\r\n    \"errors\": [\r\n      {\r\n        \"type\": \"FORBIDDEN\",\r\n        \"path\": [\"repository\", \"pullRequest\"],\r\n        \"extensions\": { \"saml_failure\": true },\r\n        \"locations\": [{ \"line\": 4, \"column\": 13 }],\r\n        \"message\": \"Resource protected by organization SAML enforcement. You must grant your Personal Access token access to this organization.\"\r\n      }\r\n    ],\r\n    \"status\": 200,\r\n    \"headers\": {\r\n      \"map\": {\r\n        \"content-type\": \"application/json; charset=utf-8\",\r\n        \"x-accepted-oauth-scopes\": \"repo\",\r\n        \"x-github-media-type\": \"github.v4; format=json\",\r\n        \"x-github-request-id\": \"4DB7:B4C3:6700A9:699AB9:62BD6AC5\",\r\n        \"x-github-sso\": \"required; url=https://github.com/enterprises/microsoftopensource/sso?authorization_request=ABTV<redacted>\",\r\n        \"x-oauth-scopes\": \"repo\",\r\n        \"x-ratelimit-limit\": \"5000\",\r\n        \"x-ratelimit-remaining\": \"4913\",\r\n        \"x-ratelimit-reset\": \"1656584225\",\r\n        \"x-ratelimit-resource\": \"graphql\",\r\n        \"x-ratelimit-used\": \"87\"\r\n      }\r\n    }\r\n  },\r\n  \"request\": {\r\n    \"query\": \"\\n query {\\n repository(owner: \\\"MicrosoftDocs\\\", name: \\\"azure-docs\\\") {\\n pullRequest(number: 94927) {\\n reviewDecision\\n commits(last: 1) {\\n nodes {\\n commit {\\n statusCheckRollup {\\n state\\n }\\n }\\n }\\n }\\n }\\n }\\n }\\n \"\r\n  }\r\n}\r\n```","title":"Error messages when a PR is protected by SAML enforcement.","url":"https://github.com/fwouts/prmonitor/issues/1042"},{"body":"### Describe the bug\r\n\r\nI have been using `gh pr checks` as part of my GitHub workflow for some time now (`ubuntu-latest`), and it has been working well. However, since a week or two back, it has been behaving strangely ~without any changes from my side~. More specifically, it seems to confuse or miss required checks. To elaborate, I have two required checks called â€œRun the checksâ€ and â€œRun the tests,â€ and when the command runs in the workflow, it seems to exit when any one of the two checks is done. It might be unrelated, but it also print that one finished check twice.\r\n\r\n```\r\ngh pr checks 42 --repo foo/bar --required --watch\r\nRun the tests\tpass\t3s\thttps://github.com/foo/bar/actions/runs/buz/job/qux\r\nRun the tests\tpass\t3s\thttps://github.com/foo/bar/actions/runs/buz/job/qux\r\n```\r\n\r\n### Steps to reproduce the behavior\r\n\r\nNot available.\r\n\r\n### Expected vs actual behavior\r\n\r\nI expect it to wait for the two checks to be reported as passed.\r\n\r\n### Logs\r\n\r\nNot available.","title":"Support downstream checks in `gh pr checks --required --watch`","url":"https://github.com/cli/cli/issues/9973"},{"body":"## Overview\n\nBackend test coverage is currently at 73%, below our target of 85%. This issue tracks the incremental improvement of coverage by the QA agent.\n\n## Current State\n\n- **Current Coverage:** 73%\n- **Target Coverage:** 85%\n- **Gap:** 12%\n\n## Low-Coverage Modules\n\nPriority targets for coverage improvement:\n\n1. `app/services/thinker.py` - 63% (522 lines, 179 uncovered) - **PRIMARY TARGET**\n2. `app/api/conversations.py` - 49% (60 lines, 26 uncovered)\n3. `app/api/auth.py` - 60% (67 lines, 25 uncovered)\n4. `app/api/admin.py` - 60% (45 lines, 15 uncovered)\n5. `app/api/websocket.py` - 75% (199 lines, 42 uncovered)\n\n## Strategy\n\nThe QA agent will gradually increase coverage through its nightly runs:\n- Each run aims to increase coverage by 2-5%\n- Focus on meaningful tests, not just coverage padding\n- Test edge cases, error paths, and boundary conditions\n- Update TEST_PLAN.md with each improvement\n\n## Goal\n\nReach 85% coverage within 2-3 weeks through incremental improvements.\n\n## Related\n\nThis issue was created following the resolution of #21, where the coverage threshold was lowered from 85% to 73% to unblock CI.\n","title":"Incremental Coverage Improvement: 73% â†’ 85%","url":"https://github.com/jeremymatthewwerner/dining-philosophers-Dec25-sw-factory/issues/30"},{"body":"### Describe the bug\r\n\r\nUsing certain `gh pr` commands never works with a fine-grained PAT as `GH_TOKEN`, regardless of scopes granted to it. \r\n\r\nCLI version:\r\n\r\n```shell\r\ngh version 2.50.0 (2024-05-29)\r\nhttps://github.com/cli/cli/releases/tag/v2.50.0\r\n```\r\n\r\n### Steps to reproduce the behavior\r\n\r\n1. Create a fine-grained PAT with read-only access to every repository scope available, adding write access to the \"pull request\" scope.\r\n2. Use the PAT generated in the previous step as the token used with `gh` (`GH_TOKEN`)\r\n3. View an existing pull request: `gh pr view 201`\r\n4. Observe the failure.\r\n\r\n<details><summary>See: Fine-grained PAT permissions</summary>\r\n<img src=\"https://github.com/cli/cli/assets/11938029/6d4622cb-db2d-43c0-b33b-4ba916dcae83\" />\r\n</details>\r\n\r\n### Expected vs actual behavior\r\n\r\n**Expected**: PR can be viewed successfully. \r\n\r\n**Actual**: Error: `GraphQL: Resource not accessible by personal access token (repository.pullRequest.projectCards.nodes)`\r\n\r\n","title":"Cannot use fine-grained PATs to add labels to pull requests","url":"https://github.com/cli/cli/issues/9166"},{"body":"### Describe the bug\r\n_To be honest, I'm not really sure that a bug report is right here! Please recategorize, close or move as you see fit!_\r\n\r\n My base branch pollicy prohibits merges when all checks aren't passing. I deleted a workflow file in a PR, and got GitHub into a bit of a stuck state where one of my checks was expected but wouldn't be run! While this is a weird state, I found it interesting that the CLI couldn't see this state. I would imagine that either `gh pr checks` or `gh pr status` would be able to detect that something is wrong with my PR, in the same way that the UI shows this information.\r\n\r\n![stuck](https://user-images.githubusercontent.com/18391567/196210971-a0e4af8a-09e3-4958-8107-d9d211191f10.png)\r\n\r\n### Steps to reproduce the behavior\r\n\r\n```\r\nncx on î‚  brendon_backfill_decisions [$?] via ğŸ v3.10.4 (sequoia_ncx) on â˜ï¸  (us-east-1) took 19s\r\nâ¯ gh pr checks\r\nAll checks were successful\r\n0 failing, 50 successful, 0 skipped, and 0 pending checks\r\n\r\nâœ“  name_of_check           7m5s    url\r\n...\r\n\r\nncx on î‚  brendon_backfill_decisions [$?] via ğŸ v3.10.4 (sequoia_ncx) on â˜ï¸  (us-east-1) took 9s\r\nâ¯ gh pr status\r\n\r\nCurrent branch\r\n  #1227  Given backfill decisions, remove ability to rea... [brendon_backfill_decisions]\r\n  âœ“ Checks passing âœ“ 2 Approved\r\n\r\nncx on î‚  brendon_backfill_decisions [$?] via ğŸ v3.10.4 (sequoia_ncx) on â˜ï¸  (us-east-1)\r\nâ¯ gh pr merge -r\r\nX Pull request #1227 is not mergeable: the base branch policy prohibits the merge.\r\nTo have the pull request merged after all the requirements have been met, add the `--auto` flag.\r\nTo use administrator privileges to immediately merge the pull request, add the `--admin` flag.\r\n\r\nncx on î‚  brendon_backfill_decisions [$?] via ğŸ v3.10.4 (sequoia_ncx) on â˜ï¸  (us-east-1)\r\nâ¯ gh pr merge -r --admin\r\nMessage: Required status check \"cycle_close_plot_data / base\" is expected., Locations: [{Line:1 Column:58}]\r\n\r\nncx on î‚  brendon_backfill_decisions [$?] via ğŸ v3.10.4 (sequoia_ncx) on â˜ï¸  (us-east-1) took 3s\r\nâ¯ gh --version\r\ngh version 2.11.3 (2022-05-25)\r\nhttps://github.com/cli/cli/releases/tag/v2.11.3\r\n```\r\n\r\n### Expected vs actual behavior\r\n\r\nI put this above!\r\n\r\n### Logs\r\n\r\nI put the logs above!","title":"Expected Checks aren't listed in `gh pr checks` or `gh pr status`","url":"https://github.com/cli/cli/issues/6448"},{"body":"I currently see 1 issue and 2 of 3 PRs that don't look like they are moving. I thought the factory had an affordance for this with some agent that wakes up periodically to find seeming stuck Issues, PRs, or silently failed actions.","title":"Factory Investigation: Is some agent (Factory Manager, Principle Engineer, someone!) periodically finding and addessing stuck PRs/Issues?","url":"https://github.com/jeremymatthewwerner/dining-philosophers-Dec25-sw-factory/issues/357"},{"body":"when using gh we get a deprecated warning\n\ncan we plan what is needed to fix this\n\nexample we get\n\nBash(gh issue view 37 --repo pietgk/vivief)\n  â¿ Â Error: Exit code 1\n     GraphQL: Projects (classic) is being deprecated in favor of the new Projects experience, see: https://github.blog/changelog/2024-05-23-sunset-notice-projects-classic/.\n     (repository.issue.projectCards)","title":"gh deprecated warning on using graphql instead of new project experience","url":"https://github.com/pietgk/vivief/issues/38"},{"body":"### Code of Conduct\n\n- [X] I have read and agree to the GitHub Docs project's [Code of Conduct](https://github.com/github/docs/blob/main/.github/CODE_OF_CONDUCT.md)\n\n### What article on docs.github.com is affected?\n\nhttps://docs.github.com/en/graphql/guides/forming-calls-with-graphql#authenticating-with-a-personal-access-token\n\n### What part(s) of the article would you like to see updated?\n\n> If your token does not have the required scopes or permissions to access a resource, the API will return an error message that states the scopes or permissions your token needs.\n\n\n\n### Additional information\n\n- https://github.com/community/community/discussions/67181#discussion-5630868\n\n> When I try to run `gh pr checks --watch` and `gh pr merge --merge --auto` in a step using `run:`, I get the following error:\n\n```\nGraphQL: Resource not accessible by integration (node.statusCheckRollup.nodes.0.commit.statusCheckRollup.contexts.nodes.0.checkSuite.workflowRun)\nError: Process completed with exit code 1.\n```\n\nThis clearly violates the documentation's assertion that the api will tell users what they need.\n\nIf you need to provide an extra flags to `gh`, then the documentation should provide them.","title":"Replace `the API will return an error message that states the scopes or permissions your token needs`","url":"https://github.com/github/docs/issues/32105"},{"body":"### Describe what happened and what your expected to happen\n\nAny pull request opened by a copilot agent leads to failures in any `pr` commands. For example, when doing `Octo pr list` the following error is presented when such a pull request is highlighted:\n\n```\ngh: Something went wrong while executing your query on 2025-05-24T21:32:34Z. Please include `E8E4:2CD8D5:258CA3C:4A4AA29:68323AF1` when reporting this issue.\n```\n\nThe same is the case when I manually checkout the branch and run `Octo review`.\n\n![Image](https://github.com/user-attachments/assets/2099081a-64c0-44cd-a738-304e1f825cdd)\n\n\nThe `gh` cli tool has no issues when I inspect the PR's with `gh pr list` or `gh pr status`:\n\n![Image](https://github.com/user-attachments/assets/c7f9e82e-345c-4769-bccc-f3f32ba8ca46)\n\n### How to reproduce it (as minimally and precisely as possible)\n\n1. Have an issue in a github repo ( e.g. https://github.com/JMBeresford/retrom/issues/309 )\n2. Have access to copilot agent (requires pro+ or enterprise subscription, unfortunately)\n3. Assign the issue to copilot\n4. Copilot will open a PR with a new branch and begin working on the issue on that branch. ( e.g. https://github.com/JMBeresford/retrom/pull/310 )\n   1. This branch and PR are still 'owned' by the account who assigned the issue to copilot -- e.g. my account in this case.\n5. Inspect that branch via any Octa command and note the failure\n\n### Tell us your environment\n\n- nvim version:\nNVIM v0.12.0-dev-5577+gdb702782e0-Homebrew\nBuild type: Release\nLuaJIT 2.1.1744318430\n\n- octo.nvim commit hash: \nbranch master\ncommit 5de085f\n\n- GitHub CLI version:\ngh version 2.73.0 (2025-05-19)\nhttps://github.com/cli/cli/releases/tag/v2.73.0\n\n- OS:\nMacOS 15.5\n\n- GH Auth\n```\nâ¯ gh auth status\ngithub.com\n  âœ“ Logged in to github.com account JMBeresford (keyring)\n  - Active account: true\n  - Git operations protocol: https\n  - Token: gho_************************************\n  - Token scopes: 'admin:org', 'gist', 'project', 'repo', 'workflow'\n```\n\n### Anything else we need to know?\nI spent a good while attempting to debug the issue by piping STDIN/STDOUT/STDERR to files for inspection, and combing through the Octo source to attempt to reverse engineer the relevant grahpql queries to no avail. Let me know what steps I can take to somehow get more useful errors/logs/output ğŸ™‚ ","title":"Pull requests authored by copilot agent fail in pr commands","url":"https://github.com/pwntester/octo.nvim/issues/1085"},{"body":"When I run `can-merge -p 3133` on a repo where the PR does exist, but under a non-origin remote, I get this:\r\n```sh\r\n$CAN_MERGE_PATH/node_modules/@octokit/graphql/dist-node/index.js:81\r\n      throw new GraphqlResponseError(requestOptions, headers, response.data);\r\n            ^\r\n\r\nGraphqlResponseError: Request failed due to following response errors:\r\n - Could not resolve to a PullRequest with the number of 3133.\r\n    at $CAN_MERGE_PATH/node_modules/@octokit/graphql/dist-node/index.js:81:13\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runQuery ($CAN_MERGE_PATH/utils/runQuery.js:9:19) {\r\n  request: {\r\n    query: '\\n' +\r\n      '      {\\n' +\r\n      '        repository(owner: \"ljharb\", name: \"eslint-plugin-react\") {\\n' +\r\n      '          branchProtectionRules(first: 10) {\\n' +\r\n      '            nodes {\\n' +\r\n      '              requiresStatusChecks\\n' +\r\n      '              requiredApprovingReviewCount\\n' +\r\n      '              requiredStatusCheckContexts\\n' +\r\n      '            }\\n' +\r\n      '          }\\n' +\r\n      '          pullRequest(number: 3133) {\\n' +\r\n      '            \\n' +\r\n      '        state\\n' +\r\n      '        url\\n' +\r\n      '        title\\n' +\r\n      '        number\\n' +\r\n      '        merged\\n' +\r\n      '        mergeable\\n' +\r\n      '        reviewDecision\\n' +\r\n      '        potentialMergeCommit {\\n' +\r\n      '          commitUrl\\n' +\r\n      '        }\\n' +\r\n      '        commits(last: 1) {\\n' +\r\n      '          nodes {\\n' +\r\n      '            commit {\\n' +\r\n      '              statusCheckRollup {\\n' +\r\n      '                state\\n' +\r\n      '                contexts(last: 100) {\\n' +\r\n      '                  totalCount\\n' +\r\n      '                  pageInfo {\\n' +\r\n      '                    endCursor\\n' +\r\n      '                    hasNextPage\\n' +\r\n      '                  }\\n' +\r\n      '                  nodes {\\n' +\r\n      '                    __typename\\n' +\r\n      '                    ... on CheckRun {\\n' +\r\n      '                      status\\n' +\r\n      '                      name\\n' +\r\n      '                      conclusion\\n' +\r\n      '                    }\\n' +\r\n      '                    ... on StatusContext {\\n' +\r\n      '                      state\\n' +\r\n      '                      context\\n' +\r\n      '                      description\\n' +\r\n      '                    }\\n' +\r\n      '                  }\\n' +\r\n      '                }\\n' +\r\n      '              }\\n' +\r\n      '            }\\n' +\r\n      '          }\\n' +\r\n      '        }\\n' +\r\n      '\\n' +\r\n      '          }\\n' +\r\n      '        }\\n' +\r\n      '        rateLimit {\\n' +\r\n      '          cost\\n' +\r\n      '          remaining\\n' +\r\n      '        }\\n' +\r\n      '      }\\n' +\r\n      '    ',\r\n    headers: { authorization: 'token $token' }\r\n  },\r\n  headers: {\r\n    'access-control-allow-origin': '*',\r\n    'access-control-expose-headers': 'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset',\r\n    connection: 'close',\r\n    'content-encoding': 'gzip',\r\n    'content-security-policy': \"default-src 'none'\",\r\n    'content-type': 'application/json; charset=utf-8',\r\n    date: 'Sat, 01 Jan 2022 17:41:05 GMT',\r\n    'referrer-policy': 'origin-when-cross-origin, strict-origin-when-cross-origin',\r\n    server: 'GitHub.com',\r\n    'strict-transport-security': 'max-age=31536000; includeSubdomains; preload',\r\n    'transfer-encoding': 'chunked',\r\n    vary: 'Accept-Encoding, Accept, X-Requested-With',\r\n    'x-accepted-oauth-scopes': 'repo',\r\n    'x-content-type-options': 'nosniff',\r\n    'x-frame-options': 'deny',\r\n    'x-github-media-type': 'github.v3; format=json',\r\n    'x-github-request-id': 'E4D5:8B71:3BF308F:3EE5D8C:61D09231',\r\n    'x-oauth-scopes': 'read:discussion, read:enterprise, read:gpg_key, read:org, read:packages, read:public_key, read:repo_hook, read:user, repo, user:email, user:follow',\r\n    'x-ratelimit-limit': '5000',\r\n    'x-ratelimit-remaining': '4998',\r\n    'x-ratelimit-reset': '1641062456',\r\n    'x-ratelimit-resource': 'graphql',\r\n    'x-ratelimit-used': '2',\r\n    'x-xss-protection': '0'\r\n  },\r\n  response: {\r\n    data: {\r\n      repository: { branchProtectionRules: { nodes: [] }, pullRequest: null },\r\n      rateLimit: { cost: 1, remaining: 4998 }\r\n    },\r\n    errors: [\r\n      {\r\n        type: 'NOT_FOUND',\r\n        path: [ 'repository', 'pullRequest' ],\r\n        locations: [ { line: 11, column: 11 } ],\r\n        message: 'Could not resolve to a PullRequest with the number of 3133.'\r\n      }\r\n    ]\r\n  },\r\n  errors: [\r\n    {\r\n      type: 'NOT_FOUND',\r\n      path: [ 'repository', 'pullRequest' ],\r\n      locations: [ { line: 11, column: 11 } ],\r\n      message: 'Could not resolve to a PullRequest with the number of 3133.'\r\n    }\r\n  ],\r\n  data: {\r\n    repository: { branchProtectionRules: { nodes: [] }, pullRequest: null },\r\n    rateLimit: { cost: 1, remaining: 4998 }\r\n  }\r\n}\r\n\r\nNode.js v17.3.0\r\n```\r\n\r\nThis seems like something we could catch specifically and display a helpful error message like \"PR X was not found, perhaps it's on a different remote, here's how you can specify that\"?","title":"error for nonexistent `--pr` is unhelpful","url":"https://github.com/ljharb/can-merge/issues/39"},{"body":"<details>\r\n<summary>output</summary>\r\n\r\n```sh\r\n$ can-merge --remote=source --watch && git push source && git push origin\r\nWaiting for all checks to complete ...\r\n\r\n.................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................$CAN_MERGE_REPO/node_modules/@octokit/graphql/dist-node/index.js:81\r\n      throw new GraphqlResponseError(requestOptions, headers, response.data);\r\n            ^\r\n\r\nGraphqlResponseError: Request failed due to following response errors:\r\n - API rate limit exceeded for user ID 45469.\r\n    at $CAN_MERGE_REPO/node_modules/@octokit/graphql/dist-node/index.js:81:13\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runQuery ($CAN_MERGE_REPO/utils/runQuery.js:9:19)\r\n    at async watch ($CAN_MERGE_REPO/utils/watch.js:6:19) {\r\n  request: {\r\n    query: '\\n' +\r\n      '      {\\n' +\r\n      '        search(query: \"is:pr repo:yannickcr/eslint-plugin-react sha:541ea43079 undefined\", type:ISSUE, first: 100) {\\n' +\r\n      '          issueCount\\n' +\r\n      '          edges {\\n' +\r\n      '            node {\\n' +\r\n      '              ... on PullRequest {\\n' +\r\n      '              \\n' +\r\n      '        state\\n' +\r\n      '        url\\n' +\r\n      '        title\\n' +\r\n      '        number\\n' +\r\n      '        merged\\n' +\r\n      '        mergeable\\n' +\r\n      '        reviewDecision\\n' +\r\n      '        potentialMergeCommit {\\n' +\r\n      '          commitUrl\\n' +\r\n      '        }\\n' +\r\n      '        commits(last: 1) {\\n' +\r\n      '          nodes {\\n' +\r\n      '            commit {\\n' +\r\n      '              statusCheckRollup {\\n' +\r\n      '                state\\n' +\r\n      '                contexts(last: 100) {\\n' +\r\n      '                  totalCount\\n' +\r\n      '                  pageInfo {\\n' +\r\n      '                    endCursor\\n' +\r\n      '                    hasNextPage\\n' +\r\n      '                  }\\n' +\r\n      '                  nodes {\\n' +\r\n      '                    __typename\\n' +\r\n      '                    ... on CheckRun {\\n' +\r\n      '                      status\\n' +\r\n      '                      name\\n' +\r\n      '                      conclusion\\n' +\r\n      '                    }\\n' +\r\n      '                    ... on StatusContext {\\n' +\r\n      '                      state\\n' +\r\n      '                      context\\n' +\r\n      '                      description\\n' +\r\n      '                    }\\n' +\r\n      '                  }\\n' +\r\n      '                }\\n' +\r\n      '              }\\n' +\r\n      '            }\\n' +\r\n      '          }\\n' +\r\n      '        }\\n' +\r\n      '\\n' +\r\n      '              }\\n' +\r\n      '            }\\n' +\r\n      '          }\\n' +\r\n      '        }\\n' +\r\n      '      }\\n' +\r\n      '  ',\r\n    headers: { authorization: 'token $TOKEN' }\r\n  },\r\n  headers: {\r\n    'access-control-allow-origin': '*',\r\n    'access-control-expose-headers': 'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset',\r\n    connection: 'close',\r\n    'content-encoding': 'gzip',\r\n    'content-security-policy': \"default-src 'none'\",\r\n    'content-type': 'application/json; charset=utf-8',\r\n    date: 'Thu, 27 Jan 2022 19:52:00 GMT',\r\n    'referrer-policy': 'origin-when-cross-origin, strict-origin-when-cross-origin',\r\n    server: 'GitHub.com',\r\n    'strict-transport-security': 'max-age=31536000; includeSubdomains; preload',\r\n    'transfer-encoding': 'chunked',\r\n    vary: 'Accept-Encoding, Accept, X-Requested-With',\r\n    'x-accepted-oauth-scopes': 'repo',\r\n    'x-content-type-options': 'nosniff',\r\n    'x-frame-options': 'deny',\r\n    'x-github-media-type': 'github.v3; format=json',\r\n    'x-github-request-id': 'CB73:9DCA:76E5C:91189:61F2F7DF',\r\n    'x-oauth-scopes': 'read:discussion, read:enterprise, read:gpg_key, read:org, read:packages, read:public_key, read:repo_hook, read:user, repo, user:email, user:follow',\r\n    'x-ratelimit-limit': '5000',\r\n    'x-ratelimit-remaining': '0',\r\n    'x-ratelimit-reset': '1643314011',\r\n    'x-ratelimit-resource': 'graphql',\r\n    'x-ratelimit-used': '5000',\r\n    'x-xss-protection': '0'\r\n  },\r\n  response: {\r\n    errors: [\r\n      {\r\n        type: 'RATE_LIMITED',\r\n        message: 'API rate limit exceeded for user ID 45469.'\r\n      }\r\n    ]\r\n  },\r\n  errors: [\r\n    {\r\n      type: 'RATE_LIMITED',\r\n      message: 'API rate limit exceeded for user ID 45469.'\r\n    }\r\n  ],\r\n  data: undefined\r\n}\r\n```\r\n</details>\r\n\r\nAction items:\r\n - ensure the token is never outputted to the console; i nearly posted this issue containing it unredacted\r\n - catch this kind of error and report it better\r\n - perhaps monitor the amount of API points remaining, and use some kind of backoff algorithm to avoid eating up all the available API calls\r\n - when a rate limit happens, perhaps don't abort the `--watch`, but instead try again after a much longer delay?","title":"rate limited during `--watch`","url":"https://github.com/ljharb/can-merge/issues/51"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2026-01-14T20:32:31.938155+00:00'\ncreated_by: schrockn\nplan_comment_id: 3751604426\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2026-01-14T20:35:42.021062+00:00'\nlast_local_impl_event: ended\nlast_local_impl_session: efa9054c-34fc-4792-95e6-40cbbc4fd587\nlast_local_impl_user: schrockn\nlast_remote_impl_at: null\ncreated_from_session: 8e88d571-f3c7-48d8-9399-51b73144fde2\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n## Commands\n\n```bash\nerk implement 4949\n```\n\n```bash\nerk implement 4949 --dangerous\n```\n\n```bash\nerk plan submit 4949\n```","title":"Fix Graphite Branch Tracking Test Failures [erk-plan]","url":"https://github.com/dagster-io/erk/issues/4949"},{"body":"### Describe the feature or problem youâ€™d like to solve\r\n\r\nI'd like commands such as `gh pr list` to be able to give me both JSON output and to be able to apply a template.\r\n\r\nThe comment at https://github.com/cli/cli/pull/3012#discussion_r586982119 notes as an aside:\r\n\r\n> Since filter and template are mutually exclusive ...\r\n\r\nI'm using `gh pr list` in a (Bash) script that _both_ generates pretty output for the user, and also does some other processing of the PRs.\r\n\r\nI'd like to avoid having to run `gh pr list` twice.\r\n\r\nWhat _doesn't_ really work for me: add `{{ . }}` in the template. This gives me output in Go syntax, which I can't otherwise use.\r\n\r\n### Proposed solution\r\n\r\nI have no particular preference for a solution. Obvious thought: add an option to output the JSON to a file.\r\n\r\nOr, a completely different approach: add a new command that takes JSON input (from stdin and/or a file) and applies a template.\r\n","title":"Support getting both JSON and template output","url":"https://github.com/cli/cli/issues/8415"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-11-30T23:15:26.827880+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2025-11-30T23:20:45.412314+00:00'\nlast_remote_impl_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Optimize GitHub GraphQL Queries with Pre-Aggregated Check Counts [erk-plan]","url":"https://github.com/dagster-io/erk/issues/1758"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2026-01-14T13:17:46.953668+00:00'\ncreated_by: schrockn\nplan_comment_id: 3749529516\nlast_dispatched_run_id: '20995531186'\nlast_dispatched_node_id: WFR_kwLOPxC3hc8AAAAE425hsg\nlast_dispatched_at: '2026-01-14T13:18:31.272167+00:00'\nlast_local_impl_at: null\nlast_local_impl_event: null\nlast_local_impl_session: null\nlast_local_impl_user: null\nlast_remote_impl_at: '2026-01-14T13:22:33.327982+00:00'\ncreated_from_session: 4f0e6acd-cc4b-4f5d-a0ee-862d14e03757\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n## Commands\n\n```bash\nerk implement 4928\n```\n\n```bash\nerk implement 4928 --dangerous\n```\n\n```bash\nerk plan submit 4928\n```","title":"Plan-Header Field Names Centralization [erk-plan]","url":"https://github.com/dagster-io/erk/issues/4928"},{"body":"## ğŸ“‹ Overview\nCreate the AdminSearchFilterBar component and refactor 4 simple screens as proof-of-concept. This establishes the foundation for all subsequent phases.\n\n## ğŸ¯ Objective\n- Create reusable AdminSearchFilterBar component\n- Establish types/interfaces in proper structure\n- Implement comprehensive tests (>85% coverage)\n- Refactor 4 simple screens to validate approach\n- Demonstrate 40-50 line reduction per screen\n\n## ğŸ“‚ Files to Modify\n- [ ] âœ¨ `src/types/AdminSearchFilterBar/interface.ts` - Create interface with TSDoc\n- [ ] âœ¨ `src/components/AdminSearchFilterBar/AdminSearchFilterBar.tsx` - Implement component\n- [ ] âœ¨ `src/components/AdminSearchFilterBar/AdminSearchFilterBar.spec.tsx` - Add tests (>85% coverage)\n- [ ] ğŸ”„ `src/screens/SubTags/SubTags.tsx` - Refactor to use AdminSearchFilterBar\n- [ ] ğŸ”„ `src/screens/SubTags/SubTags.spec.tsx` - Update tests\n- [ ] ğŸ”„ `src/screens/Requests/Requests.tsx` - Refactor (simple pattern)\n- [ ] ğŸ”„ `src/screens/Requests/Requests.spec.tsx` - Update tests\n- [ ] ğŸ”„ `src/screens/Leaderboard/Leaderboard.tsx` - Refactor (search + sort)\n- [ ] ğŸ”„ `src/screens/Leaderboard/Leaderboard.spec.tsx` - Update tests\n- [ ] ğŸ”„ `src/screens/PluginStore/PluginStore.tsx` - Refactor (simple)\n- [ ] ğŸ”„ `src/screens/PluginStore/PluginStore.spec.tsx` - Update tests\n\n## ğŸ”— Dependencies\n- Related: https://github.com/PalisadoesFoundation/talawa-admin/issues/5164#issuecomment-3673631661\n\n## âœ… Acceptance Criteria\n- [ ] `InterfaceAdminSearchFilterBarProps` interface created with full TSDoc\n- [ ] Component supports search, sort, and filter configurations\n- [ ] Optional debouncing implemented using lodash\n- [ ] Component composes existing SearchBar + SortingButton\n- [ ] Test coverage >85% (unit + integration)\n- [ ] All 4 screens refactored successfully\n- [ ] No regressions in search/filter behavior (manual testing)\n- [ ] i18n keys verified for all refactored screens\n- [ ] CI pipeline passes\n- [ ] Code review completed\n\n## ğŸ§ª Testing Requirements\n- [ ] Unit tests for AdminSearchFilterBar (all prop combinations)\n- [ ] Debounced vs non-debounced search callback behavior\n- [ ] Sort/filter callbacks\n- [ ] Render variants: search-only; search+sort; search+sort+filter\n- [ ] Update impacted screen tests\n\n## â±ï¸ Effort Estimate\n- **Total:** 16 hours\n\n## ğŸ“Š Success Criteria\n- ~160 LOC reduced across 4 screens\n- Consistent, reusable search UX established\n","title":"[Component Rollout] Phase 1/5: AdminSearchFilterBar - Foundation + Simple Screens","url":"https://github.com/PalisadoesFoundation/talawa-admin/issues/5186"},{"body":"`claude-code-action` canâ€™t see CI logs yet. This issue proposes adding this information to the context so that Claude knows about it.\n\n## Birdseye overview \n\n```mermaid\ngraph TD\n    A[GitHub PR Trigger] --> B[Check include_ci_logs flag]\n    B -->|enabled| C[Fetch PR statusCheckRollup via GraphQL]\n    B -->|disabled| Z[Skip CI logs]\n\n    C --> E[Get overall status + individual contexts]\n    E --> F[Check CheckRun and StatusContext details]\n\n    F --> G{Any checks failed?}\n    G -->|No| H[Store overall status only]\n    G -->|Yes| I[Fetch failed job details via REST API]\n\n    I --> J[Download logs for failed CheckRuns]\n    J --> K[Filter logs for error content]\n    K --> L[Format as markdown for Claude]\n\n    H --> M[Include in prompt]\n    L --> M\n    M --> N[Claude analyzes and fixes issues]\n\n    Z --> O[Standard prompt without CI data]\n```\n\n## Implementation details\n\n### 1. Configuration option\n\nUsers can enable/disable CI log fetching via the `include_ci_logs` input:\n\n```yaml\n- uses: anthropics/claude-code-action@main\n  with:\n    trigger_phrase: \"@claude\"\n    include_ci_logs: \"true\" # Enable CI logs\n    # include_ci_logs: \"false\"  # Disable CI logs\n```\n\n### 2. Data Flow\n\n#### GraphQL query\n\nWe leverage [StatusCheckRollup](https://docs.github.com/en/graphql/reference/objects#statuscheckrollup) get the aggregated context of the workflows:\n\n```graphql\n    pullRequest(number: $number) {\n      statusCheckRollup {\n        state\n        contexts(first: 100) {\n          nodes {\n            ... on CheckRun {\n              name\n              status\n              conclusion\n              detailsUrl\n            }\n            ... on StatusContext {\n              context\n              state\n              targetUrl\n            }\n          }\n        }\n      }\n    }\n```\n\n#### REST API\n\nIn order to get detailed logs about workflows and relative jobs, we need to use the REST API:\n\n  - `GET /repos/{owner}/{repo}/actions/runs/{run_id}` - Workflow details\n  - `GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs` - Job list\n  - `GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs` - Job logs\n\n#### Log processing\n\nOnce the log data is retrieved, we can format as markdown to be included in the context:\n\n```javascript\n// HIGH-LEVEL, LIGHTWEIGHT PSEUDOCODE\n\nfunction formatCILogs(ci) {\n  // 1. Short-circuit if no data\n  if (ci is empty OR ci has no workflow runs) return \"\";\n\n  // 2. Start markdown output with global header\n  output = \"## CI/CD Status\";\n\n  // 3. Summarize every workflow run\n  for each run in ci.workflowRuns {\n      status  = run.conclusion â€¢â€¢orâ€¢â€¢ run.status;\n      emoji   = emojiFor(status);          // âœ… / âŒ / âš ï¸ / ğŸ”„\n      add line: \"<emoji> **name** â€“ status (link)\"\n\n      add sub-lines: created date\n      if updated â‰  created â†’ add updated date\n  }\n\n  // 4. If there are failed jobs, print details\n  if ci.failedJobs not empty {\n      add \"### Failed Jobs and Logs\";\n\n      for each failedJob in ci.failedJobs {\n          add sub-header with workflow + job name + âŒ\n\n          list bullet points: status, start time, end time (if any), job URL\n\n          // list failed or cancelled steps inside that job\n          failedSteps = steps whose conclusion âˆˆ {failure, cancelled}\n          if failedSteps exist â†’ bullet each step number + name + conclusion\n\n          // attach trimmed, filtered log lines\n          keyLines = first 50 lines in logs matching error keywords\n          if keyLines empty â†’ grab first chunk of raw log\n          wrap keyLines in triple-backtick block\n      }\n  }\n\n  return output;   // finished markdown string\n}\n```\n\n- **Features**:\n  - Filters logs to show only error-relevant lines\n  - Limits output to prevent token overflow (10KB per job)\n  - Shows workflow status with emojis\n  - Displays failed steps and timestamps\n  - Includes direct links to GitHub Actions\n\nTherefore, when CI fails, Claude receives formatted information in the context (`create-prompt/index.ts`) like:\n\n```markdown\n\n<ci_logs>\n\n## CI/CD Status\n\n### Workflow Runs\n\nâŒ **CI** - failure ([View](https://github.com/owner/repo/actions/runs/123))\n\n- Created: 12/25/2024, 2:30:00 PM\n- Updated: 12/25/2024, 2:35:00 PM\n\n### Failed Jobs and Logs\n\n#### âŒ CI - test\n\n- **Status**: failure\n- **Started**: 12/25/2024, 2:31:00 PM\n- **Completed**: 12/25/2024, 2:34:00 PM\n- **URL**: https://github.com/owner/repo/runs/456\n\n**Failed Steps:**\n\n- Step 3: Run tests (failure)\n\n**Logs:**\n\nnpm ERR! Test failed with exit code 1\nFAIL src/components/Button.test.tsx\nâœ– Button should render correctly\nExpected: \"Submit\"\nReceived: \"Submitt\"\nError: 1 test failed\n\n</ci_logs>\n\n```\n\n---\n\nHappy to help with this and looking forward to hear your feedback and opinions.\n","title":"feat: access to CI logs","url":"https://github.com/anthropics/claude-code-action/issues/202"},{"body":"Thanks for your work on `gh-dash`. I really like the tool, though I may have found a bug...\r\n\r\n**Describe the bug**\r\n\r\nIt appears that `gh-dash` incorrectly reports the status of PR status checks in some contexts.\r\n\r\n**To Reproduce**\r\n\r\nSteps to reproduce the behavior:\r\n1. View `gh dash`\r\n2. Find a PR in `gh dash`'s dashboard for which all status checks are passing\r\n3. Push an additional commit to that PR, in effect re-setting the previously-passing status checks to \"in progress\" (or even deliberately failing one or more of the status checks)\r\n4. Press `r` to refresh the `gh dash` dashboard\r\n5. Note that the `gh dash` dashboard continues to report the status check status from step 2 and not the new status check status\r\n\r\n**Expected behavior**\r\n\r\nI would expect `gh-dash` to always report a PR's current status check statuses.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Mac\r\n","title":"[BUG] `gh-dash` reports incorrect status of PR status checks","url":"https://github.com/dlvhdr/gh-dash/issues/114"},{"body":"<!--- Please keep this note for the community --->\n\n### Community Note\n\n* Please vote on this issue by adding a ğŸ‘ [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to the original issue to help the community and maintainers prioritize this request. Searching for pre-existing feature requests helps us consolidate datapoints for identical requirements into a single place, thank you!\n* Please do not leave \"+1\" or other comments that do not add relevant new information or questions, they generate extra noise for issue followers and do not help prioritize the request.\n* If you are interested in working on this issue or have submitted a pull request, please leave a comment.\n\n<!--- Thank you for keeping this note for the community --->\n\n---\n\n<!---\nWhen filing a bug, please include the following headings if possible.\nAny example text in this template can be deleted.\n--->\n\n### Overview of the Issue\nWhen using global code analysis in github with the flag `--gh-allow-mergeable-bypass-apply`, `atlantis apply` will report incorrectly that the PR is not approved on merge request that are in a blocked state.\n\nI was able to track down where the problem occurs. This error message  (`invalid repository name`)comes from `func (g *GithubClient) LookupRepoId(repo githubv4.String) (githubv4.Int, error)` file `server/events/vcs/github_client.go`.\n\nThe relevant code is this. Keep in mind that LookupRepoId will return an error if the repo parameter cannot be split.\n```\n\trepoSplit := strings.Split(string(repo), \"/\")\n\tif len(repoSplit) != 2 {\n\t\treturn githubv4.Int(0), fmt.Errorf(\"invalid repository name: %s\", repo)\n\t}\n```\n\nI won't go into the weeds here but basically, when the flag `--gh-allow-mergeable-bypass-apply` is set and that the pull request is in a blocked state due to checks failing, atlantis will verify that every checks are passing except for the atlantis apply checks.\n\nAtlantis makes a graphql query to retrieve the pull request information. See below. Among those information, we want to get the \"checkrun\" object that represents how a workflow was run, successful or not.\n```\ngh api graphql -f query='query { repository(owner:\"OWNER\",name:\"REPO\") {pullRequest(number:69) {baseRef{rules(first:100){nodes{type,repositoryRuleset{enforcement},parameters{... on WorkflowsParameters{workflows{path, repositoryId}}}}}}commits(last:1){nodes{commit{statusCheckRollup{contexts(first: 100){nodes{__typename, ... on CheckRun{conclusion, name, checkSuite{conclusion,workflowRun{runNumber,file{repositoryName, path}}}}}}}}}}}}  }\n```\nFrom this query, we get a very big output but what we are interested in is these line:\n```\n        \"commits\": {\n          \"nodes\": [\n            {\n              \"commit\": {\n                \"statusCheckRollup\": {\n                  \"contexts\": {\n                    \"nodes\": [\n                      {\n                        \"__typename\": \"CheckRun\",\n                        \"conclusion\": \"SUCCESS\",\n                        \"name\": \"Analyze (actions)\",\n                        \"checkSuite\": {\n                          \"conclusion\": \"SUCCESS\",\n                          \"workflowRun\": {\n                            \"runNumber\": 208,\n                            \"file\": null\n                          }\n                        }\n                      },\n[...]\n```\nNotice how the Analyze (actions) check is structured. The workflowRun is not empty but the workflowRun.file is null. This checkrun is coming from a global actions activated from the organization setting, not from an individual workflow file.\n\nIn the code path, right before we call the LookupRepoId function, we do this:\n```\nif checkRun.CheckSuite.WorkflowRun == nil {\n\t\t\tcontinue\n\t\t}\n```\nIn our case, the WorkflowRun is not nil but the WorkflowRun.File is nil. This result in atlantis erroring because we try to lookup a repo with an empty repo name.\n\n\n### Reproduction Steps\n\n<!--- \nIn order to effectively and quickly resolve the issue, please provide exact steps that allow us the reproduce the problem. If no steps are provided, then it will likely take longer to get the issue resolved.\n--->\n1. Add global code analysis (from github settings) so that every repository will get automatically analysed with codeql.\n2. Ensure that the flag `--gh-allow-mergeable-bypass-apply ` is enabled.\n3. Create a pull request.\n4. Make sure one of the check, not related to atlantis, is failing.\n5. Add an `altantis apply` comment.\n\n### Logs\n\n<details>\n  <summary>Logs</summary>\n```\n{\"level\":\"warn\",\"ts\":\"2025-10-30T18:45:00.327Z\",\"caller\":\"events/apply_command_runner.go:108\",\"msg\":\"unable to get pull request status: fetching mergeability status for repo: ORG/REPO, and pull number: 44: getting pull request status: invalid repository name: . Continuing with mergeable and approved assumed false\",\"json\":{\"repo\":\"ORG/REPO\",\"pull\":\"44\"},\"stacktrace\":\"github.com/runatlantis/atlantis/server/events.(*ApplyCommandRunner).Run\\n\\tgithub.com/runatlantis/atlantis/server/events/apply_command_runner.go:108\\ngithub.com/runatlantis/atlantis/server/events.(*DefaultCommandRunner).RunCommentCommand\\n\\tgithub.com/runatlantis/atlantis/server/events/command_runner.go:427\"}\n```\n</details>\n\n### Environment details\n\n### Additional Context\n\n\n","title":"When global codeql is enabled for every repository, atlantis apply will report that a PR must be approved if the PR is blocked and flag `--gh-allow-mergeable-bypass-apply` is used","url":"https://github.com/runatlantis/atlantis/issues/5925"},{"body":"We then use AI to check the transcript and label the video appropriately we can also add a ai generated mini quiz after they watch it","title":"Add a feature to /education that lets people add educational videos from YouTube just from a link","url":"https://github.com/OWASP-BLT/BLT/issues/3769"},{"body":"### Did you check docs and existing issues?\n\n- [x] I have read all the snacks.nvim docs\n- [x] I have updated the plugin to the latest version before submitting this issue\n- [x] I have searched the existing issues of snacks.nvim\n- [x] I have searched the existing issues of plugins related to this issue\n\n### Neovim version (nvim -v)\n\n0.11.4\n\n### Operating system/version\n\n6.17.5-arch1-1\n\n### Describe the bug\n\n```\nError executing vim.schedule lua callback: ...cal/share/nvim/lazy/snacks.nvim/lua/snacks/gh/render.lua:141: attempt to concatenate field 'name' (a nil value)\nstack traceback:\n        ...cal/share/nvim/lazy/snacks.nvim/lua/snacks/gh/render.lua:141: in function 'hl'\n        ...cal/share/nvim/lazy/snacks.nvim/lua/snacks/gh/render.lua:242: in function 'render'\n        ....local/share/nvim/lazy/snacks.nvim/lua/snacks/gh/buf.lua:111: in function <....local/share/nvim/lazy/snacks.nvim/lua/snacks/gh/buf.lua:102>\n```\n\n\nWhen I change the line 141 to this it does not cause the error anymore:\n`workflows[(check.workflowName or \"-\") .. \":\" .. (check.name or \"-\")] = status`\n\nBoth `workflowName` and `name` are nil\n\n### Steps To Reproduce\n\n1. open PRs in snacks picker\n\n### Expected Behavior\n\nNo error message\n\n### Repro\n\n```lua\nI could not reproduce this with a minimal example because `gh` for some reason has no auth information when I start nvim like this.\n```","title":"bug: render error when browsing PRs","url":"https://github.com/folke/snacks.nvim/issues/2407"},{"body":"/q investigate workflows that use the gh cli to download pull requests (PRs).\n\nThey tend to try to get the mergedAt field which does not exist or fails. See https://github.com/githubnext/gh-aw/actions/runs/19079871208\n\nSince we are downloading to file, download the entire payload without filtering fields.","title":"mergeAt","url":"https://github.com/githubnext/gh-aw/issues/3236"},{"body":"Parent Issue: #675\n\n## Scope\n\nCreate the complete role definition file `.loom/roles/champion.md` with:\n- Role purpose and description\n- Safety criteria documentation (all 7 criteria)\n- Finding work section (search for `loom:pr` PRs)\n- Verification workflow and decision tree\n- Example commands and edge case handling\n\n## Acceptance Criteria\n\n- [ ] `.loom/roles/champion.md` created\n- [ ] Role purpose clearly documented\n- [ ] All 7 safety criteria defined:\n  - Label check (`loom:pr` required)\n  - Size check (â‰¤ 200 lines changed)\n  - Critical file exclusion check\n  - Merge conflict check\n  - Recency check (updated within 24 hours)\n  - CI status check (if checks exist)\n  - Human override check (no `loom:manual-merge` label)\n- [ ] Example gh CLI commands included\n- [ ] Decision tree for auto-merge workflow documented\n- [ ] Edge cases documented (no linked issue, multiple issues, force-push after approval, etc.)\n\n## Dependencies\n\nNone (this is the foundation)\n\n## Implementation Details\n\n**Critical file patterns to document**:\n```\nsrc-tauri/tauri.conf.json\nCargo.toml\npackage.json\npnpm-lock.yaml\n.github/workflows/*\nloom-daemon/Cargo.toml\nsrc-tauri/Cargo.toml\n*.sql\n*migration*\n```\n\n**Safety criteria verification command examples**:\n```bash\n# Get PR details\ngh pr view <number> --json labels,mergeable,additions,deletions,updatedAt,files,statusCheckRollup\n\n# Check CI status\ngh pr checks <number> --json name,conclusion\n\n# Merge command\ngh pr merge <number> --squash --auto --delete-branch\n```\n\n**Estimated**: 1-2 hours","title":"Phase 1: Create Champion role definition file","url":"https://github.com/rjwalters/loom/issues/678"},{"body":"## Request\\nAdd a PR listing skill script so workflows donâ€™t need to call 626\tfeat(skills): enhance skills to SkillCreator v3.2 standards\tfeat/skillcreator-enhancements\tOPEN\t2025-12-31T02:17:59Z\n609\tdocs(session): orphaned session documentation commits\tfix/orphaned-session-docs\tOPEN\t2025-12-30T21:31:10Z\n594\tdocs(session): PR #568 review thread resolution\tdocs/session-103-pr-568\tOPEN\t2025-12-30T19:26:28Z\n566\tdocs: improve autonomous-issue-development.md structure\tdocs/506-autonomous-issue-development\tOPEN\t2025-12-30T13:23:39Z\n565\tfeat(skills): add thread management scripts for PR review\tfeat/97-thread-management-scripts\tOPEN\t2025-12-30T05:06:27Z\n564\tfeat(ci): increase AI review retry backoff timing\tfeat/163-job-retry\tOPEN\t2025-12-30T05:00:39Z\n563\tchore: migrate workflows to ARM runners (ubuntu-24.04-arm)\tchore/197-arm-runner-migration\tOPEN\t2025-12-30T04:56:29Z\n562\tfeat(qa): add mandatory pre-PR quality gate enforcement\tfeat/258-pre-pr-quality-gate\tOPEN\t2025-12-30T04:44:36Z\n557\tdocs(architecture): add ADR-032 for exit code standardization\tdocs/536-adr-exit-codes\tOPEN\t2025-12-30T04:24:17Z\n554\tfix(ci): use staged files for pre-commit docs-only detection\tfix/551-session-validation-false-positive\tOPEN\t2025-12-30T04:15:02Z\n543\tfeat(copilot-detection): implement actual file comparison in Compare-DiffContent\tenhancement/244-compare-diff-content\tOPEN\t2025-12-30T03:29:40Z\n538\ttest(copilot-detection): add integration tests for Compare-DiffContent\ttest/240-compare-diff-content-integration-tests\tOPEN\t2025-12-30T02:10:51Z\n532\trefactor(workflows): standardize output naming to should-run-{type}\trefactor/139-workflow-output-naming\tOPEN\t2025-12-29T23:08:47Z\n531\trefactor(workflow): convert skip-tests XML generation from bash to PowerShell\trefactor/146-skip-tests-xml-powershell\tOPEN\t2025-12-29T23:01:32Z directly just to enumerate PR numbers.\\n\\n## Suggested script\\n (name flexible)\\n\\n## Suggested capabilities\\n- Filters: state (open/closed/merged), label, author, base, head, limit\\n- Output: JSON array with at least number/title/head/base/state\\n- Safe defaults (limit, state=open)\\n\\n## Acceptance criteria\\n- A PowerShell script exists under  to list PRs with filters.\\n- Existing PR maintenance flows can use it to drive / without raw gh.","title":"feat(pr): add skill to list/filter pull requests (avoid raw gh pr list)","url":"https://github.com/rjmurillo/ai-agents/issues/633"},{"body":"Add dash command that lists PRs by phase:\n\n- Issues awaiting green light\n\t- Open\n\t- Not assigned to Copilot\n- PRs in progress\n\t- Has associated active Copilot session in GitHub Actions\n- PRs ready for manual review\n\t- Has completed Copilot session\n\t- Is in draft mode\n- PRs awaiting CodeRabbit feedback\n\t- PRs where CodeRabbit check status is \"PENDING\"\n\t- OR PRs with recent unresolved CodeRabbit inline comments\n- PRs awaiting checks to pass\n\t- PRs with failing checks (state == \"FAILURE\")\n\t- OR PRs with pending checks (state == \"PENDING\")\n- PRs ready for merge\n\t- Open\n\t- All checks passed\n\t- Not draft\n\t- Not awaiting CodeRabbit feedback\n\n## Architecture Suggestion\n\nCreate a main `dash` script that:\n1. Defines functions for each phase category\n2. Calls these functions in sequence\n3. Presents results in a clear, hierarchical format\n\nStructure:\n```bash\n#\\!/bin/bash\n# dash - PR/Issue dashboard by workflow phase\n\nshow_issues_awaiting_greenlight() { ... }\nshow_prs_in_progress() { ... }\nshow_prs_ready_for_manual_review() { ... }\nshow_prs_awaiting_coderabbit() { ... }\nshow_prs_awaiting_checks() { ... }\nshow_prs_ready_for_merge() { ... }\n\nmain() {\n    echo \"=== Issues Awaiting Green Light ===\"\n    show_issues_awaiting_greenlight\n    \n    echo -e \"\\n=== PRs in Progress ===\"\n    show_prs_in_progress\n    \n    # ... etc\n}\n\nmain \"$@\"\n```\n\n## Query Examples\n\n```bash\n# list all issues\ngh issue list\n\n# list all prs\ngh pr list\n\n# list draft prs\ngh pr list --draft\n\n# filter for prs by copilot\ngh pr list --author \"app/copilot-swe-agent\"\n\n# list issues assigned to copilot\ngh issue list --json assignees,number,title --jq '.[] | select(.assignees[].login == \"Copilot\")'\n\n# list issues not assigned to copilot\ngh issue list --json assignees,number,title --jq '.[] | select(.assignees | map(.login) | contains([\"Copilot\"]) | not) | {number, title}'\n\n# list non-draft open prs\ngh pr list --state open --draft=false\n\n# list prs with active copilot sessions\ncopilot-active\n\n# list prs without requested coderabbit review\ngh pr list --state open --json number,title,statusCheckRollup --jq '.[] | select(.statusCheckRollup[]? | .context == \"CodeRabbit\" | not) | \"\\(.number): \\(.title)\"'\n\n# list prs with pending coderabbit review (check status)\ngh pr list --state open --json number,title,statusCheckRollup --jq '.[] | select(.statusCheckRollup[]? | select(.context == \"CodeRabbit\" and .state == \"PENDING\")) | \"\\(.number): \\(.title)\"'\n\n# list prs with pending coderabbit feedback (inline comments)\ncoderabbit-prs\n\n# list prs with failing or pending checks\ngh pr list --state open --json number,title,statusCheckRollup --jq '.[] | select(.statusCheckRollup[]? | .state == \"FAILURE\" or .state == \"PENDING\")'\n```\n\n## Implementation Tips\n\n1. **Reuse helper scripts**: Source functions from `copilot-active` and `coderabbit-prs` rather than duplicating code.\n\n2. **Add filtering options**: Consider adding flags like `--phase=in-progress` to show only specific phases.\n\n3. **Count summary**: Show counts for each phase at the top for quick overview.\n\n4. **Empty state handling**: Clearly indicate when a phase has no items (like existing helper scripts do).\n\n5. **Draft PR detection**: For \"PRs ready for manual review\", combine:\n   - Draft status check\n   - Completed Copilot session check (no active workflow)\n\n## Helper Scripts\n\ncopilot-active:\n\n```bash\n#\\!/bin/bash\n\n# copilot-active - Find PRs with currently active GitHub Copilot sessions\n# Usage: copilot-active [repo-owner/repo-name]\n\nset -euo pipefail\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nNC='\\033[0m' # No Color\n\n# Function to print colored output\nprint_color() {\n    local color=$1\n    local message=$2\n    echo -e \"${color}${message}${NC}\"\n}\n\n# Function to check if gh CLI is available\ncheck_gh_cli() {\n    if \\! command -v gh &> /dev/null; then\n        print_color \"$RED\" \"Error: GitHub CLI (gh) is not installed or not in PATH\"\n        exit 1\n    fi\n    \n    # Check if authenticated\n    if \\! gh auth status &> /dev/null; then\n        print_color \"$RED\" \"Error: Not authenticated with GitHub CLI. Run 'gh auth login' first.\"\n        exit 1\n    fi\n}\n\n# Function to get repository info\nget_repo_info() {\n    local repo_arg=\"${1:-}\"\n    \n    if [[ -n \"$repo_arg\" ]]; then\n        echo \"$repo_arg\"\n    else\n        # Try to get repo from current directory\n        if git rev-parse --is-inside-work-tree &> /dev/null; then\n            gh repo view --json owner,name -q '.owner.login + \"/\" + .name' 2>/dev/null || {\n                print_color \"$RED\" \"Error: Could not determine repository. Please specify repo as argument.\"\n                exit 1\n            }\n        else\n            print_color \"$RED\" \"Error: Not in a git repository and no repo specified.\"\n            print_color \"$YELLOW\" \"Usage: copilot-active [repo-owner/repo-name]\"\n            exit 1\n        fi\n    fi\n}\n\n# Function to find active Copilot workflows\nfind_active_copilot_workflows() {\n    local repo=$1\n    \n    print_color \"$BLUE\" \"ğŸ” Checking for active Copilot sessions in $repo...\"\n    echo\n    \n    # Get active workflows (in_progress and queued)\n    local active_workflows\n    active_workflows=$(gh run list \\\n        --repo \"$repo\" \\\n        --status in_progress,queued \\\n        --json headBranch,workflowName,status,createdAt,url \\\n        --jq '.[] | select(.workflowName | test(\"copilot\"; \"i\"))' 2>/dev/null || echo \"[]\")\n    \n    if [[ \"$active_workflows\" == \"[]\" || -z \"$active_workflows\" ]]; then\n        print_color \"$YELLOW\" \"No active Copilot sessions found.\"\n        return 0\n    fi\n    \n    # Process active workflows and find associated PRs\n    local found_active=false\n    \n    echo \"$active_workflows\" | jq -r '.headBranch' | sort -u | while read -r branch; do\n        if [[ -z \"$branch\" || \"$branch\" == \"null\" ]]; then\n            continue\n        fi\n        \n        # Get workflow details for this branch\n        local workflow_info\n        workflow_info=$(echo \"$active_workflows\" | jq -r \"select(.headBranch == \\\"$branch\\\") | \\\"\\(.workflowName) (\\(.status)) - started: \\(.createdAt)\\\"\" | head -1)\n        \n        # Find PR for this branch\n        local pr_info\n        pr_info=$(gh pr list \\\n            --repo \"$repo\" \\\n            --state open \\\n            --json number,title,headRefName,url \\\n            --jq \".[] | select(.headRefName == \\\"$branch\\\") | \\\"\\(.number): \\(.title) - \\(.url)\\\"\" 2>/dev/null || echo \"\")\n        \n        if [[ -n \"$pr_info\" ]]; then\n            print_color \"$GREEN\" \"ğŸ¤– Active Copilot Session Found\\!\"\n            echo \"   Branch: $branch\"\n            echo \"   Workflow: $workflow_info\"\n            echo \"   PR: $pr_info\"\n            echo\n            found_active=true\n        else\n            print_color \"$YELLOW\" \"âš ï¸  Active Copilot workflow on branch '$branch' but no open PR found\"\n            echo \"   Workflow: $workflow_info\"\n            echo\n        fi\n    done\n    \n    # If we didn't find any active sessions with PRs, show summary\n    if [[ \"$found_active\" == \"false\" ]]; then\n        local workflow_count\n        workflow_count=$(echo \"$active_workflows\" | jq -s 'length')\n        if [[ \"$workflow_count\" -gt 0 ]]; then\n            print_color \"$YELLOW\" \"Found $workflow_count active Copilot workflow(s) but no associated open PRs.\"\n        fi\n    fi\n}\n\n# Function to show recent Copilot activity (last 24 hours)\nshow_recent_activity() {\n    local repo=$1\n    \n    print_color \"$BLUE\" \"ğŸ“Š Recent Copilot Activity (last 24 hours):\"\n    \n    # Calculate 24 hours ago in ISO format\n    local yesterday\n    yesterday=$(date -d \"24 hours ago\" -u +\"%Y-%m-%dT%H:%M:%SZ\")\n    \n    # Get recent Copilot workflows\n    local recent_workflows\n    recent_workflows=$(gh run list \\\n        --repo \"$repo\" \\\n        --limit 50 \\\n        --json headBranch,workflowName,status,createdAt,conclusion \\\n        --jq \".[] | select(.workflowName | test(\\\"copilot\\\"; \\\"i\\\")) | select(.createdAt >= \\\"$yesterday\\\")\" 2>/dev/null || echo \"[]\")\n    \n    if [[ \"$recent_workflows\" == \"[]\" || -z \"$recent_workflows\" ]]; then\n        print_color \"$YELLOW\" \"No recent Copilot activity found.\"\n        return 0\n    fi\n    \n    local count\n    count=$(echo \"$recent_workflows\" | jq -s 'length')\n    echo \"Found $count recent Copilot workflow runs:\"\n    echo\n    \n    echo \"$recent_workflows\" | jq -r '\"   â€¢ \\(.headBranch): \\(.workflowName) (\\(.status // .conclusion)) - \\(.createdAt)\"' | sort -k3\n}\n\n# Main function\nmain() {\n    local repo_arg=\"${1:-}\"\n    \n    check_gh_cli\n    \n    local repo\n    repo=$(get_repo_info \"$repo_arg\")\n    \n    echo \"==================================================\"\n    print_color \"$BLUE\" \"  GitHub Copilot Session Monitor\"\n    echo \"==================================================\"\n    echo\n    \n    find_active_copilot_workflows \"$repo\"\n    \n    echo \"==================================================\"\n    show_recent_activity \"$repo\"\n    echo \"==================================================\"\n}\n\n# Show help if requested\nif [[ \"${1:-}\" == \"--help\" || \"${1:-}\" == \"-h\" ]]; then\n    echo \"copilot-active - Find PRs with currently active GitHub Copilot sessions\"\n    echo\n    echo \"Usage:\"\n    echo \"  copilot-active                    # Check current repository\"\n    echo \"  copilot-active owner/repo         # Check specific repository\"\n    echo \"  copilot-active --help             # Show this help\"\n    echo\n    echo \"This script finds:\"\n    echo \"  â€¢ PRs with actively running Copilot workflows (in_progress/queued)\"\n    echo \"  â€¢ Recent Copilot activity in the last 24 hours\"\n    echo\n    echo \"Requires: GitHub CLI (gh) with authentication\"\n    exit 0\nfi\n\nmain \"$@\"\n```\n\ncoderabbit-prs:\n\n```bash\n#\\!/bin/bash\n\n# coderabbit-prs - Find PRs with CodeRabbit inline feedback\n# Usage: coderabbit-prs [options] [repo-owner/repo-name]\n\nset -euo pipefail\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nCYAN='\\033[0;36m'\nNC='\\033[0m' # No Color\n\n# Default options\nSHOW_ALL=false\nRECENT_DAYS=3\nSHOW_DETAILS=false\n\n# Function to print colored output\nprint_color() {\n    local color=$1\n    local message=$2\n    echo -e \"${color}${message}${NC}\"\n}\n\n# Function to show help\nshow_help() {\n    echo \"coderabbit-prs - Find PRs with CodeRabbit inline feedback\"\n    echo\n    echo \"Usage:\"\n    echo \"  coderabbit-prs [options] [repo-owner/repo-name]\"\n    echo\n    echo \"Options:\"\n    echo \"  -a, --all              Show all PRs with CodeRabbit comments (resolved + unresolved)\"\n    echo \"  -r, --recent [DAYS]    Show PRs with recent CodeRabbit activity (default: 3 days)\"\n    echo \"  -d, --details          Show detailed comment information\"\n    echo \"  -h, --help             Show this help\"\n    echo\n    echo \"Examples:\"\n    echo \"  coderabbit-prs                    # Recent CodeRabbit activity in current repo\"\n    echo \"  coderabbit-prs --all              # All PRs with CodeRabbit comments\"\n    echo \"  coderabbit-prs --recent 7         # CodeRabbit activity from last 7 days\"\n    echo \"  coderabbit-prs --details          # Show comment details\"\n    echo \"  coderabbit-prs owner/repo         # Check specific repository\"\n    echo\n    exit 0\n}\n\n# Function to check if gh CLI is available\ncheck_gh_cli() {\n    if \\! command -v gh &> /dev/null; then\n        print_color \"$RED\" \"Error: GitHub CLI (gh) is not installed or not in PATH\"\n        exit 1\n    fi\n    \n    if \\! gh auth status &> /dev/null; then\n        print_color \"$RED\" \"Error: Not authenticated with GitHub CLI. Run 'gh auth login' first.\"\n        exit 1\n    fi\n}\n\n# Function to get repository info\nget_repo_info() {\n    local repo_arg=\"${1:-}\"\n    \n    if [[ -n \"$repo_arg\" ]]; then\n        echo \"$repo_arg\"\n    else\n        if git rev-parse --is-inside-work-tree &> /dev/null; then\n            gh repo view --json owner,name -q '.owner.login + \"/\" + .name' 2>/dev/null || {\n                print_color \"$RED\" \"Error: Could not determine repository. Please specify repo as argument.\"\n                exit 1\n            }\n        else\n            print_color \"$RED\" \"Error: Not in a git repository and no repo specified.\"\n            print_color \"$YELLOW\" \"Usage: coderabbit-prs [options] [repo-owner/repo-name]\"\n            exit 1\n        fi\n    fi\n}\n\n# Function to get CodeRabbit comment count and details\nget_coderabbit_info() {\n    local repo=$1\n    local pr=$2\n    local since_date=${3:-\"\"}\n    \n    local filter_query=\"\"\n    if [[ -n \"$since_date\" ]]; then\n        filter_query=\" and .updated_at >= \\\"$since_date\\\"\"\n    fi\n    \n    local jq_query=\"[.[] | select(.user.login == \\\"coderabbitai[bot]\\\" or .user.login == \\\"coderabbitai\\\"${filter_query})]\"\n    \n    gh api \"repos/$repo/pulls/$pr/comments\" --jq \"$jq_query\" 2>/dev/null || echo \"[]\"\n}\n\n# Function to format comment details\nformat_comment_details() {\n    local comments_json=\"$1\"\n    \n    echo \"$comments_json\" | jq -r '.[] | \"    ğŸ“ \\(.path):\\(.line // \"?\") - \\(.body | split(\"\\n\")[0] | .[0:80])...\"' 2>/dev/null\n}\n\n# Main function to find PRs with CodeRabbit feedback\nfind_coderabbit_prs() {\n    local repo=$1\n    \n    print_color \"$BLUE\" \"ğŸ” Searching for PRs with CodeRabbit feedback in $repo\"\n    echo\n    \n    # Calculate since date for recent filtering\n    local since_date=\"\"\n    if [[ \"$SHOW_ALL\" == \"false\" ]]; then\n        since_date=$(date -d \"$RECENT_DAYS days ago\" -u +\"%Y-%m-%dT%H:%M:%SZ\")\n        print_color \"$CYAN\" \"ğŸ“… Looking for CodeRabbit activity since: $(date -d \"$RECENT_DAYS days ago\" '+%Y-%m-%d %H:%M UTC')\"\n        echo\n    fi\n    \n    # Get PRs with completed CodeRabbit reviews\n    local prs_with_coderabbit\n    prs_with_coderabbit=$(gh pr list \\\n        --repo \"$repo\" \\\n        --state open \\\n        --json number,title,statusCheckRollup \\\n        --jq '.[] | select(.statusCheckRollup[]? | select(.context == \"CodeRabbit\" and .state == \"SUCCESS\")) | .number' 2>/dev/null || echo \"\")\n    \n    if [[ -z \"$prs_with_coderabbit\" ]]; then\n        print_color \"$YELLOW\" \"No PRs found with completed CodeRabbit reviews.\"\n        return 0\n    fi\n    \n    local found_prs=false\n    local total_comments=0\n    \n    while read -r pr; do\n        if [[ -z \"$pr\" ]]; then\n            continue\n        fi\n        \n        # Get CodeRabbit comments\n        local comments_json\n        comments_json=$(get_coderabbit_info \"$repo\" \"$pr\" \"$since_date\")\n        \n        local comment_count\n        comment_count=$(echo \"$comments_json\" | jq 'length' 2>/dev/null || echo \"0\")\n        \n        if [[ \"$comment_count\" -gt 0 ]]; then\n            found_prs=true\n            total_comments=$((total_comments + comment_count))\n            \n            # Get PR details\n            local pr_info\n            pr_info=$(gh pr view \"$pr\" --repo \"$repo\" --json title,url,headRefName,updatedAt --jq '\"\\(.title)|\\(.url)|\\(.headRefName)|\\(.updatedAt)\"' 2>/dev/null || echo \"|||\")\n            \n            IFS='|' read -r title url branch updated <<< \"$pr_info\"\n            \n            print_color \"$GREEN\" \"ğŸ¤– PR #$pr: $title\"\n            echo \"   Branch: $branch\"\n            echo \"   URL: $url\"\n            \n            if [[ \"$SHOW_ALL\" == \"false\" ]]; then\n                echo \"   Recent CodeRabbit comments: $comment_count\"\n            else\n                echo \"   Total CodeRabbit comments: $comment_count\"\n            fi\n            \n            if [[ \"$SHOW_DETAILS\" == \"true\" ]]; then\n                print_color \"$CYAN\" \"   Comments:\"\n                format_comment_details \"$comments_json\"\n            fi\n            \n            echo\n        fi\n    done <<< \"$prs_with_coderabbit\"\n    \n    if [[ \"$found_prs\" == \"false\" ]]; then\n        if [[ \"$SHOW_ALL\" == \"false\" ]]; then\n            print_color \"$YELLOW\" \"No PRs found with recent CodeRabbit activity (last $RECENT_DAYS days).\"\n            echo\n            print_color \"$BLUE\" \"ğŸ’¡ Tip: Use --all to see all PRs with CodeRabbit comments, or --recent 7 for a longer timeframe.\"\n        else\n            print_color \"$YELLOW\" \"No PRs found with CodeRabbit inline comments.\"\n        fi\n    else\n        echo \"==================================================\"\n        if [[ \"$SHOW_ALL\" == \"false\" ]]; then\n            print_color \"$BLUE\" \"ğŸ“Š Found PRs with recent CodeRabbit activity ($total_comments total comments)\"\n        else\n            print_color \"$BLUE\" \"ğŸ“Š Found PRs with CodeRabbit feedback ($total_comments total comments)\"\n        fi\n        echo \"==================================================\"\n    fi\n}\n\n# Parse command line arguments\nwhile [[ $# -gt 0 ]]; do\n    case $1 in\n        -a|--all)\n            SHOW_ALL=true\n            shift\n            ;;\n        -r|--recent)\n            SHOW_ALL=false\n            if [[ -n \"${2:-}\" && \"$2\" =~ ^[0-9]+$ ]]; then\n                RECENT_DAYS=\"$2\"\n                shift 2\n            else\n                shift\n            fi\n            ;;\n        -d|--details)\n            SHOW_DETAILS=true\n            shift\n            ;;\n        -h|--help)\n            show_help\n            ;;\n        -*)\n            print_color \"$RED\" \"Error: Unknown option $1\"\n            show_help\n            ;;\n        *)\n            REPO_ARG=\"$1\"\n            shift\n            ;;\n    esac\ndone\n\n# Main execution\nmain() {\n    check_gh_cli\n    \n    local repo\n    repo=$(get_repo_info \"${REPO_ARG:-}\")\n    \n    echo \"==================================================\"\n    print_color \"$BLUE\" \"  CodeRabbit PR Finder\"\n    echo \"==================================================\"\n    echo\n    \n    find_coderabbit_prs \"$repo\"\n}\n\nmain \"$@\"\n```","title":"Add dash command","url":"https://github.com/narthur/gh-flow/issues/2"},{"body":"### Extension\n\nhttps://raycast.com/raycast/github\n\n### Raycast Version\n\n1.103.10\n\n### macOS Version\n\n26.1\n\n### Description\n\nI just configured the GitHub extension (using a PAT and granting SSO perms on multiple orgs) so I can pin notifications, issues and pull requests to the mac menu bar. The notifications and issues menu bar icons work properly (show the proper counts and list results) but the pull request one is erroring with the below error. At first I thought it's a scope issue but I doubled checked and it looks like I have the right scopes setup for my PAT (`notifications, project, read:discussion, read:org, read:user, repo`). I tested the search pull requests action and it will sometimes his this issue and sometimes work depending on the query.\n\nMy guess is that its due to when certain orgs return results, but not sure why it wouldn't effect the issues actions too if that was the case.\n\n\n#### Error:\n```\nError: GraphQL Error (Code: 502): {\"response\":{\"error\":\"<html>\\r\\n<head><title>502 Bad Gateway</title></head>\\r\\n<body>\\r\\n<center><h1>502 Bad Gateway</h1></center>\\r\\n<hr><center>nginx</center>\\r\\n</body>\\r\\n</html>\\r\\n\",\"status\":502,\"headers\":{}},\"request\":{\"query\":\"query searchPullRequests($query: String!, $numberOfItems: Int!) {\\n  search(query: $query, type: ISSUE, first: $numberOfItems) {\\n    edges {\\n      node {\\n        ...PullRequestFields\\n      }\\n    }\\n  }\\n}\\n\\nfragment PullRequestFields on PullRequest {\\n  id\\n  title\\n  permalink\\n  merged\\n  number\\n  isDraft\\n  closed\\n  updatedAt\\n  mergeable\\n  milestone {\\n    id\\n    title\\n  }\\n  reviewDecision\\n  repository {\\n    ...ShortRepositoryFields\\n  }\\n  headRefName\\n  headRef {\\n    name\\n  }\\n  author {\\n    ...AuthorFields\\n  }\\n  comments(first: 0) {\\n    totalCount\\n  }\\n  reviewThreads(first: 100) {\\n    totalCount\\n    nodes {\\n      comments(first: 0) {\\n        totalCount\\n      }\\n    }\\n  }\\n  reviews(first: 100) {\\n    totalCount\\n    nodes {\\n      bodyText\\n    }\\n  }\\n  commits(last: 1) {\\n    nodes {\\n      commit {\\n        statusCheckRollup {\\n          state\\n        }\\n      }\\n    }\\n  }\\n  assignees(first: 50) {\\n    totalCount\\n    nodes {\\n      ... on User {\\n        ...UserFields\\n      }\\n    }\\n  }\\n  isMergeQueueEnabled\\n  isInMergeQueue\\n  mergeStateStatus\\n  autoMergeRequest {\\n    enabledAt\\n  }\\n}\\n\\nfragment ShortRepositoryFields on Repository {\\n  id\\n  defaultBranchRef {\\n    target {\\n      oid\\n    }\\n  }\\n  nameWithOwner\\n  name\\n  owner {\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  url\\n  mergeCommitAllowed\\n  squashMergeAllowed\\n  rebaseMergeAllowed\\n  autoMergeAllowed\\n}\\n\\nfragment AuthorFields on Actor {\\n  ... on Bot {\\n    id\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  ... on User {\\n    ...UserFields\\n  }\\n  ... on Mannequin {\\n    id\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  ... on Organization {\\n    id\\n    login\\n    name\\n    avatarUrl(size: 64)\\n  }\\n  ... on EnterpriseUserAccount {\\n    id\\n    login\\n    name\\n    avatarUrl(size: 64)\\n  }\\n}\\n\\nfragment UserFields on User {\\n  id\\n  avatarUrl\\n  name\\n  login\\n  isViewer\\n}\",\"variables\":{\"query\":\"is:pr review-requested:@me archived:false is:open  sort:updated-desc \",\"numberOfItems\":20}}}\n    at s_ (/Users/mmanela/.config/raycast/extensions/89648e03-cceb-4205-9f40-75fcb039a4c6/my-pull-requests.js:241:85012)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)\n    at async /Users/mmanela/.config/raycast/extensions/89648e03-cceb-4205-9f40-75fcb039a4c6/my-pull-requests.js:1351:10419\n```\n\n\n### Steps To Reproduce\n\n1. Setup the github extension with a pat with the scopes `notifications, project, read:discussion, read:org, read:user, repo`\n2. Grant the PAT access (with SSO) for multiple orgs\n3. Try to use the pull request menu bar item (or my pull request action)\n4. Notice 504 error\n","title":"[GitHub] My Pull Requests erroring","url":"https://github.com/raycast/extensions/issues/23652"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-11T11:37:48.556274+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2025-12-11T12:41:02.527199+00:00'\nlast_local_impl_event: ended\nlast_local_impl_session: null\nlast_local_impl_user: schrockn\nlast_remote_impl_at: null\nsource_plan_issues: []\nextraction_session_ids: []\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Move GraphQL Queries to Standalone File [erk-plan]","url":"https://github.com/dagster-io/erk/issues/2967"},{"body":"### Did you check docs and existing issues?\n\n- [x] I have read all the snacks.nvim docs\n- [x] I have updated the plugin to the latest version before submitting this issue\n- [x] I have searched the existing issues of snacks.nvim\n- [x] I have searched the existing issues of plugins related to this issue\n\n### Neovim version (nvim -v)\n\nv0.11.4\n\n### Operating system/version\n\nArch\n\n### Describe the bug\n\nwhen you pass `opts.repo` seems like only `gh pr list` inherits it ,  not all the other wrappers ,  this causes some issues in GHE installations  . working on a pr\n\n### Steps To Reproduce\n\nTest in a ghe\n\n### Expected Behavior\n\njust works\n\n### Repro\n\n```lua\nvim.env.LAZY_STDPATH = \".repro\"\nload(vim.fn.system(\"curl -s https://raw.githubusercontent.com/folke/lazy.nvim/main/bootstrap.lua\"))()\n\nrequire(\"lazy.minit\").repro({\n  spec = {\n    { \"folke/snacks.nvim\", opts = {} },\n    -- add any other plugins here\n  },\n})\n```","title":"bug: al gh commands should inherit the `opts.repo` flag","url":"https://github.com/folke/snacks.nvim/issues/2425"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2026-01-02T12:16:04.920549+00:00'\ncreated_by: schrockn\nplan_comment_id: 3705209656\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2026-01-02T12:22:39.916103+00:00'\nlast_local_impl_event: ended\nlast_local_impl_session: null\nlast_local_impl_user: schrockn\nlast_remote_impl_at: null\nsource_plan_issues: []\nextraction_session_ids: []\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n## Commands\n\n```bash\nerk implement 3761\n```\n\n```bash\nerk implement 3761 --dangerous\n```\n\n```bash\nerk plan submit 3761\n```","title":"Switch Status Line from GraphQL to REST API [erk-plan]","url":"https://github.com/dagster-io/erk/issues/3761"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-01T08:21:45.383129+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: '19815991775'\nlast_dispatched_at: '2025-12-01T08:23:11Z'\nlast_local_impl_at: null\nlast_remote_impl_at: '2025-12-01T08:23:56.930683+00:00'\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Refactor GraphQL Query to Use Fragments [erk-plan]","url":"https://github.com/dagster-io/erk/issues/1778"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-01T18:38:12.748703+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2025-12-01T18:39:27.996092+00:00'\nlast_remote_impl_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Optimize erk dash GraphQL Query Performance - Quick Wins [erk-plan]","url":"https://github.com/dagster-io/erk/issues/1851"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2026-01-03T14:48:28.311049+00:00'\ncreated_by: schrockn\nplan_comment_id: 3707101863\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2026-01-03T14:51:38.124410+00:00'\nlast_local_impl_event: ended\nlast_local_impl_session: null\nlast_local_impl_user: schrockn\nlast_remote_impl_at: null\nsource_plan_issues: []\nextraction_session_ids: []\ncurrent_step: 6\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n## Commands\n\n```bash\nerk implement 3952\n```\n\n```bash\nerk implement 3952 --dangerous\n```\n\n```bash\nerk plan submit 3952\n```","title":"GraphQL REST Migration Audit [erk-plan]","url":"https://github.com/dagster-io/erk/issues/3952"},{"body":"## Overview\n\nCreate an intelligent `/merge` command for Agent OS that automates the complete PR merge workflow with safety checks, code review integration, and automatic worktree cleanup. The command should infer PR context from conversation, validate readiness for merge, address any review feedback, and clean up after successful integration.\n\n### Problem Statement\n\n**Current workflow pain points:**\n1. Manual PR merge requires multiple manual steps:\n   - Checking PR status on GitHub\n   - Reviewing CodeRabbit/Codex feedback\n   - Addressing review comments\n   - Verifying CI status\n   - Manual merge execution\n   - Worktree cleanup\n   - Branch deletion\n\n2. Context switching between tools:\n   - AI conversation â†’ GitHub web UI â†’ Terminal â†’ Back to AI\n   - Lost context when reviewing feedback\n   - Manual copy-paste of PR numbers\n\n3. Risk of premature merges:\n   - No systematic pre-merge validation\n   - Easy to miss failing CI checks\n   - Potential to merge with unresolved review comments\n\n4. Worktree management overhead:\n   - Orphaned worktrees after manual merges\n   - Manual cleanup commands\n   - Risk of deleting wrong worktree\n\n**User story:**\n> \"As a developer using Agent OS, when I've completed work on a feature branch in a worktree, I want to type `/merge` and have the system intelligently merge my PR after validating it's ready, addressing any review feedback, and cleaning up the worktree automatically.\"\n\n## Proposed Solution\n\nCreate a `/merge` command that provides intelligent, context-aware PR merge automation with comprehensive safety checks and optional review feedback resolution.\n\n### Command Syntax\n\n```bash\n/merge [pr_number]              # Merge specific PR\n/merge                          # Infer PR from current branch/context\n/merge --dry-run               # Show what would happen without executing\n/merge --force                 # Skip some validation checks (with warnings)\n/merge --auto                  # Enable GitHub auto-merge when checks pass\n```\n\n### High-Level Flow\n\n```mermaid\ngraph TD\n    A[User: /merge] --> B{PR Specified?}\n    B -->|No| C[Infer from branch/context]\n    B -->|Yes| D[Use specified PR]\n    C --> E[Confirm: Merge PR #XX?]\n    D --> E\n    E -->|User confirms| F[Validate Pre-Merge Checks]\n    F --> G{All checks pass?}\n    G -->|No| H[Review Feedback]\n    H --> I{Address issues?}\n    I -->|Yes| J[Fix issues]\n    J --> F\n    I -->|No| K[Abort merge]\n    G -->|Yes| L[Execute Merge]\n    L --> M{In worktree?}\n    M -->|Yes| N[Cleanup Worktree]\n    M -->|No| O[Update main]\n    N --> O\n    O --> P[Verify Success]\n    P --> Q[Report Completion]\n```\n\n## Technical Approach\n\n### Architecture\n\n**Command Structure:**\n- **Location**: `commands/workflow-merge.md` (markdown command file)\n- **Script**: `scripts/workflow-merge.sh` (main execution logic)\n- **Libraries**: Leverage existing `workflow-status.sh`, `workflow-complete.sh` patterns\n\n**Key Components:**\n\n1. **PR Inference Engine** (`infer_pr_number()`)\n   - Parse conversation history for PR mentions (#123, PR #456)\n   - Check current branch against GitHub PRs (`gh pr list --head`)\n   - Fall back to issue number from branch name\n   - Use most recent PR mention if multiple found\n\n2. **Pre-Merge Validator** (`validate_merge_readiness()`)\n   ```bash\n   # Check via: gh pr view --json reviewDecision,mergeable,mergeStateStatus,statusCheckRollup\n   âœ“ Review status: APPROVED (or no reviews required)\n   âœ“ Merge conflicts: MERGEABLE (no conflicts)\n   âœ“ CI/CD checks: All passing (via gh pr checks)\n   âœ“ Branch protection: Not BLOCKED\n   âœ“ No unresolved review threads\n   ```\n\n3. **Review Feedback Analyzer** (`analyze_review_feedback()`)\n   - Query CodeRabbit comments: `gh api repos/{owner}/{repo}/pulls/{pr}/comments`\n   - Parse critical issues vs suggestions\n   - Present to user with context\n   - Optionally invoke Agent OS to address feedback\n\n4. **Merge Executor** (`execute_merge()`)\n   - Use safe merge: `gh pr merge --merge --delete-branch`\n   - Support strategies: `--merge`, `--squash`, `--rebase`\n   - Verify merge commit appears on main\n   - Handle merge queue scenarios\n\n5. **Worktree Cleanup** (`cleanup_worktree()`)\n   - Detect if in worktree: `git worktree list | grep $(pwd)`\n   - Return to main repository\n   - Remove worktree: `git worktree remove <path>`\n   - Prune metadata: `git worktree prune`\n   - Update main: `git checkout main && git pull`\n\n### Implementation Phases\n\n#### Phase 1: Core Merge Automation (MVP)\n**Goal:** Basic merge with safety checks\n\n**Tasks:**\n- [ ] Create `commands/workflow-merge.md` command file\n- [ ] Create `scripts/workflow-merge.sh` execution script\n- [ ] Implement PR inference from branch (`infer_pr_number()`)\n- [ ] Implement pre-merge validation (`validate_merge_readiness()`)\n- [ ] Implement user confirmation prompt\n- [ ] Implement basic merge execution (`execute_merge()`)\n- [ ] Add to installer (`setup-claude-code.sh`)\n\n**Acceptance Criteria:**\n- `/merge` infers PR from current branch\n- User receives confirmation prompt before merge\n- Validates PR is mergeable and checks pass\n- Executes merge with `gh pr merge`\n- Updates local main branch after merge\n\n**Files:**\n```bash\ncommands/workflow-merge.md          # Command definition\nscripts/workflow-merge.sh           # Main execution logic\nscripts/lib/merge-utils.sh         # Helper functions (optional)\n```\n\n#### Phase 2: Review Feedback Integration\n**Goal:** Address review comments before merge\n\n**Tasks:**\n- [ ] Implement review comment fetching (`fetch_review_comments()`)\n- [ ] Parse CodeRabbit/Codex review formats\n- [ ] Categorize issues: critical/blocking vs suggestions\n- [ ] Present review feedback to user with context\n- [ ] Optionally invoke AI to address feedback\n- [ ] Re-validate after addressing feedback\n\n**Acceptance Criteria:**\n- Command detects unresolved review comments\n- Displays critical issues requiring action\n- Allows user to address issues before proceeding\n- Re-checks review status after fixes\n- Only proceeds when reviews satisfied\n\n**Integration Points:**\n```bash\n# CodeRabbit comments\ngh api repos/{owner}/{repo}/pulls/{pr}/comments \\\n  --jq '.[] | select(.user.login == \"coderabbitai\")'\n\n# Review decisions\ngh pr view --json reviewDecision,reviews\n```\n\n#### Phase 3: Worktree Management\n**Goal:** Automatic cleanup after successful merge\n\n**Tasks:**\n- [ ] Implement worktree detection (`detect_worktree()`)\n- [ ] Implement safe worktree cleanup (`cleanup_worktree()`)\n- [ ] Add verification of merge before cleanup\n- [ ] Handle edge cases (uncommitted changes, untracked files)\n- [ ] Provide clear feedback during cleanup\n- [ ] Verify final state is clean\n\n**Acceptance Criteria:**\n- Detects when running in a worktree\n- Returns to main repository after merge\n- Safely removes worktree after verification\n- Cleans up worktree metadata with `git worktree prune`\n- Updates main branch with latest changes\n- Reports final status and next steps\n\n**Safety Checks:**\n```bash\n# Before worktree removal\nâœ“ Merge verified on GitHub\nâœ“ Main branch updated locally\nâœ“ No uncommitted changes in worktree\nâœ“ Branch fully merged (not just PR closed)\n```\n\n#### Phase 4: Advanced Features & Polish\n**Goal:** Production-ready with full safety and UX\n\n**Tasks:**\n- [ ] Add `--dry-run` mode\n- [ ] Add `--auto` flag for GitHub auto-merge\n- [ ] Add `--strategy` flag (merge/squash/rebase)\n- [ ] Implement comprehensive error handling\n- [ ] Add rollback on failure\n- [ ] Create comprehensive test suite\n- [ ] Add color-coded status output\n- [ ] Document all flags and options\n\n**Acceptance Criteria:**\n- `--dry-run` shows actions without execution\n- `--auto` enables GitHub auto-merge feature\n- Clear error messages with recovery suggestions\n- Rollback on merge failures\n- Beautiful terminal output with colors/icons\n- Comprehensive documentation\n\n## Alternative Approaches Considered\n\n### 1. **Manual Merge with Checklist**\n**Approach:** Provide checklist without automation\n\n**Pros:** Simple, no code changes\n**Cons:** Doesn't solve manual overhead, context switching still required\n\n**Decision:** Rejected - doesn't address core user pain\n\n### 2. **GitHub Actions Automation**\n**Approach:** Auto-merge via CI/CD on approval\n\n**Pros:** Fully automated, no CLI needed\n**Cons:** Loss of developer control, harder to customize, requires CI setup\n\n**Decision:** Rejected - removes developer from loop, different from Agent OS philosophy\n\n### 3. **Git Alias Approach**\n**Approach:** Simple bash alias or git alias\n\n**Pros:** Lightweight, portable\n**Cons:** No AI integration, can't parse review feedback, no context awareness\n\n**Decision:** Rejected - doesn't leverage Agent OS/AI capabilities\n\n### 4. **Integrated `/merge` Command** (Selected)\n**Approach:** Full Agent OS command with AI integration\n\n**Pros:**\n- Leverages existing Agent OS infrastructure\n- AI can address review feedback\n- Context-aware (infers PR from conversation)\n- Consistent with Agent OS workflow\n- Extensible for future enhancements\n\n**Cons:**\n- More complex implementation\n- Requires maintenance\n\n**Decision:** **SELECTED** - Best aligns with Agent OS mission and user needs\n\n## Acceptance Criteria\n\n### Functional Requirements\n\n#### Core Functionality\n- [ ] `/merge` command installed via `setup-claude-code.sh`\n- [ ] Command infers PR number from:\n  - [ ] Explicit argument (`/merge 123`)\n  - [ ] Current branch name\n  - [ ] Conversation context (most recent PR mention)\n- [ ] User receives clear confirmation prompt showing PR number and title\n- [ ] Command validates merge readiness:\n  - [ ] CI/CD checks passing\n  - [ ] Review approval (if required)\n  - [ ] No merge conflicts\n  - [ ] Not blocked by branch protection\n\n#### Review Integration\n- [ ] Detects CodeRabbit review comments\n- [ ] Detects Codex review comments (if applicable)\n- [ ] Categorizes feedback: critical vs suggestions\n- [ ] Prompts user to address critical issues\n- [ ] Allows user to re-run validation after fixes\n\n#### Merge Execution\n- [ ] Executes merge via `gh pr merge`\n- [ ] Supports merge strategies: merge commit (default), squash, rebase\n- [ ] Verifies merge succeeded on GitHub\n- [ ] Deletes remote branch after merge\n- [ ] Updates local main branch\n\n#### Worktree Management\n- [ ] Detects if running in a worktree\n- [ ] Returns to main repository directory\n- [ ] Fetches and pulls latest main\n- [ ] Verifies merge is present locally\n- [ ] Safely removes worktree with `git worktree remove`\n- [ ] Prunes worktree metadata\n- [ ] Reports final clean status\n\n### Non-Functional Requirements\n\n#### Performance\n- [ ] PR inference completes in <2 seconds\n- [ ] Pre-merge validation completes in <5 seconds\n- [ ] Total command execution <30 seconds (excluding CI wait time)\n\n#### Reliability\n- [ ] Handles GitHub API rate limits gracefully\n- [ ] Recovers from network failures\n- [ ] Validates all operations before proceeding\n- [ ] Provides rollback on critical failures\n\n#### Usability\n- [ ] Clear, actionable error messages\n- [ ] Progress indicators for long operations\n- [ ] Color-coded output (green=success, yellow=warning, red=error)\n- [ ] Helpful suggestions when validation fails\n- [ ] Dry-run mode for preview\n\n#### Security\n- [ ] Never bypasses branch protection without explicit `--admin` flag\n- [ ] Warns before force operations\n- [ ] Confirms destructive actions (merge, delete)\n- [ ] Validates permissions before execution\n\n### Quality Gates\n\n#### Testing\n- [ ] Unit tests for PR inference logic\n- [ ] Unit tests for validation checks\n- [ ] Integration tests with mock GitHub responses\n- [ ] Manual testing on real PRs\n- [ ] Test all edge cases:\n  - [ ] Multiple PRs from same branch\n  - [ ] No PR found\n  - [ ] PR already merged\n  - [ ] Failing CI checks\n  - [ ] Merge conflicts\n  - [ ] Not in worktree\n  - [ ] Already on main branch\n\n#### Documentation\n- [ ] Command help text (`/merge --help`)\n- [ ] Inline code comments\n- [ ] Update `CLAUDE.md` with command usage\n- [ ] Add to Agent OS command list\n- [ ] Document flags and options\n- [ ] Add troubleshooting guide\n\n#### Code Review\n- [ ] Shell script passes `bash -n` syntax check\n- [ ] Follows Agent OS code style conventions\n- [ ] Error handling comprehensive\n- [ ] No hardcoded values (configurable)\n- [ ] Portable (macOS and Linux)\n\n## Success Metrics\n\n### Quantitative\n- **Time Savings:** Reduce merge workflow from 5-10 minutes to <1 minute\n- **Error Reduction:** Decrease premature merges by 100% (validation prevents)\n- **Adoption:** 80%+ of Agent OS users use `/merge` within 1 month\n- **Worktree Cleanup:** Eliminate orphaned worktrees (currently a common issue)\n\n### Qualitative\n- Users report merge process feels \"seamless\"\n- Reduced anxiety about merge safety\n- Positive feedback on review feedback integration\n- Perceived as \"Agent OS magic\"\n\n## Dependencies & Prerequisites\n\n### Technical Dependencies\n- [x] GitHub CLI (`gh`) installed and authenticated\n- [x] Git version 2.17+ (for `git worktree remove`)\n- [x] Claude Code with command support\n- [x] Agent OS installed (`~/.agent-os/`)\n- [x] Bash 4.0+ for associative arrays\n\n### Workflow Dependencies\n- Agent OS `/workflow-status` command (for context)\n- Agent OS worktree detection patterns\n- Existing Git workflow automation patterns\n- Claude Code agent system for AI integration\n\n### External Dependencies\n- GitHub API availability\n- Branch protection rules configuration\n- CodeRabbit/Codex integration (optional)\n\n## Risk Analysis & Mitigation\n\n### Risk: Accidental Merge to Main\n**Severity:** HIGH\n**Probability:** LOW (with validation)\n**Impact:** Code deployed to production prematurely\n\n**Mitigation:**\n- Multi-stage confirmation prompts\n- Clear display of target branch\n- Special warning for main/master merges\n- `--dry-run` always available\n- Validation of branch protection rules\n\n### Risk: Merge with Failing Tests\n**Severity:** HIGH\n**Probability:** MEDIUM\n**Impact:** Broken code in main branch\n\n**Mitigation:**\n- Mandatory CI check validation via `gh pr checks`\n- Refuse merge if checks failing\n- `--force` flag requires explicit confirmation\n- Clear display of check status\n\n### Risk: Loss of Worktree Data\n**Severity:** MEDIUM\n**Probability:** LOW\n**Impact:** Uncommitted work lost\n\n**Mitigation:**\n- Check for uncommitted changes before cleanup\n- Verify merge actually succeeded on GitHub\n- Refuse cleanup if work not merged\n- Clear warnings before destructive operations\n\n### Risk: GitHub API Rate Limits\n**Severity:** LOW\n**Probability:** LOW\n**Impact:** Command fails or delays\n\n**Mitigation:**\n- Cache PR status for 30 seconds\n- Use `--cached` flags where available\n- Graceful degradation (manual fallback)\n- Clear error message with retry guidance\n\n### Risk: Network Failure During Merge\n**Severity:** MEDIUM\n**Probability:** LOW\n**Impact:** Unclear state (merged or not?)\n\n**Mitigation:**\n- Verify merge status after network operations\n- Clear state reporting (merged/not merged)\n- Recovery guidance in error messages\n- Idempotent operations where possible\n\n### Risk: Branch Protection Conflicts\n**Severity:** LOW\n**Probability:** MEDIUM\n**Impact:** Merge blocked, confusing error\n\n**Mitigation:**\n- Query branch protection before merge\n- Clear explanation of requirements\n- Suggest fixes (request review, run CI)\n- Document `--admin` flag for overrides\n\n## Resource Requirements\n\n### Development Effort\n- **Phase 1 (MVP):** 6-8 hours\n- **Phase 2 (Review Integration):** 4-6 hours\n- **Phase 3 (Worktree Cleanup):** 3-4 hours\n- **Phase 4 (Polish):** 4-6 hours\n- **Total:** 17-24 hours (3-4 days)\n\n### Testing & QA\n- Unit tests: 4-6 hours\n- Integration tests: 4-6 hours\n- Manual testing: 2-3 hours\n- **Total:** 10-15 hours (1.5-2 days)\n\n### Documentation\n- Command documentation: 2 hours\n- Inline comments: 1-2 hours\n- User guide: 2-3 hours\n- **Total:** 5-7 hours (1 day)\n\n**Grand Total:** 32-46 hours (~1 week of focused development)\n\n## Future Considerations\n\n### Extensibility\n- Merge strategy selection (merge/squash/rebase) based on PR type\n- Integration with more code review tools (beyond CodeRabbit)\n- Automatic changelog generation on merge\n- Slack/Discord notifications on successful merge\n- Merge queue support for high-traffic repos\n\n### Long-Term Vision\n- AI learns from merge patterns and suggests optimal strategies\n- Predictive merge conflict detection\n- Auto-resolution of simple review feedback\n- Integration with Agent OS roadmap tracking\n- Team metrics dashboard (merge frequency, time to merge)\n\n## Documentation Plan\n\n### User Documentation\n- [ ] `/merge` command help text\n- [ ] Usage examples in `CLAUDE.md`\n- [ ] Add to Agent OS command reference\n- [ ] Create merge workflow guide\n- [ ] Add troubleshooting section\n\n### Developer Documentation\n- [ ] Inline code comments explaining logic\n- [ ] Architecture decision record (ADR)\n- [ ] API integration patterns documented\n- [ ] Test suite documentation\n- [ ] Contributing guide updates\n\n## References & Research\n\n### Internal References\n- **Command patterns:** `commands/workflow-status.md`\n- **Script patterns:** `scripts/workflow-complete.sh:428`\n- **Git workflow:** `workflow-modules/step-4-git-integration.md:134`\n- **Worktree detection:** `scripts/workflow-status.sh:282-365`\n- **Installation pattern:** `setup-claude-code.sh:65-77`\n\n### External References\n- **GitHub CLI merge:** https://cli.github.com/manual/gh_pr_merge\n- **GitHub CLI checks:** https://cli.github.com/manual/gh_pr_checks\n- **GitHub CLI PR view:** https://cli.github.com/manual/gh_pr_view\n- **Git worktree:** https://git-scm.com/docs/git-worktree\n- **Branch protection:** https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches\n- **CLI best practices:** https://clig.dev/\n- **CLI UX patterns:** https://lucasfcosta.com/2022/06/01/ux-patterns-cli-tools.html\n\n### Research Documents\n- **PR merge best practices:** `docs/research/pr-merge-automation-best-practices.md`\n- **GitHub CLI patterns:** `docs/research/gh-cli-worktree-claude-commands.md`\n\n### Related Work\n- **Workflow completion:** #37 (Claude Code hooks implementation)\n- **Worktree tracking:** #97 (Worktree listing feature)\n- **Context awareness:** #98 (Stop-hook context enhancement)\n- **Git workflow patterns:** Established in decision log DEC-003\n","title":"feat: add /merge command for automated PR merge with review integration and worktree cleanup","url":"https://github.com/carmandale/agent-os/issues/100"},{"body":"After I run `gh auth login` and authenticate with HTTPS through standard browser flow, when I execute:\n\n```sh\ngh pr list \\\n    --json additions,assignees,author,autoMergeRequest,baseRefName,baseRefOid,body,changedFiles,closed,closedAt,closingIssuesReferences,comments,commits,createdAt,deletions,files,fullDatabaseId,headRefName,headRefOid,headRepository,headRepositoryOwner,id,isCrossRepository,isDraft,labels,latestReviews,maintainerCanModify,mergeCommit,mergeStateStatus,mergeable,mergedAt,mergedBy,milestone,number,potentialMergeCommit,projectCards,projectItems,reactionGroups,reviewDecision,reviewRequests,reviews,state,statusCheckRollup,title,updatedAt,url\n```\n\nI get the error message:\n\n`GraphQL: Your token has not been granted the required scopes to execute this query. The 'id' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'id' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'title' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'optionId' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'name' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens.`\n\nThis feels like a bug: `gh auth login` should either grant all scopes required by all gh cli commands, or at least offer that option in the flow (as opt in) if you don't want to grant `read:project`.\n\nThe error message is also misleading/wrong because even when I remove `id` from the list it still errors with the same error message:\n\n```sh\n$ gh pr list \\\n    --json additions,assignees,author,autoMergeRequest,baseRefName,baseRefOid,body,changedFiles,closed,closedAt,closingIssuesReferences,comments,commits,createdAt,deletions,files,fullDatabaseId,headRefName,headRefOid,headRepository,headRepositoryOwner,isCrossRepository,isDraft,labels,latestReviews,maintainerCanModify,mergeCommit,mergeStateStatus,mergeable,mergedAt,mergedBy,milestone,number,potentialMergeCommit,projectCards,projectItems,reactionGroups,reviewDecision,reviewRequests,reviews,state,statusCheckRollup,title,updatedAt,url\nGraphQL: Your token has not been granted the required scopes to execute this query. The 'id' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'id' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'title' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'optionId' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens., Your token has not been granted the required scopes to execute this query. The 'name' field requires one of the following scopes: ['read:project'], but your token has only been granted the: ['gist', 'read:org', 'repo', 'workflow'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens.\n```","title":"`gh auth login` doesn't request scope \"read:project\" required to get some `--json` fields + misleading error message","url":"https://github.com/cli/cli/issues/11308"},{"body":"## Problem\n\nCurrently, monitoring PR validation status requires manual polling with `gh pr view` commands, which:\n- Interrupts developer flow\n- Wastes time checking repeatedly\n- Makes it easy to miss failures\n- Is tedious for AI agents assisting with development\n\n**Example of current workflow:**\n```bash\ngit push origin my-branch\n# Then repeatedly:\ngh pr view 20 --json statusCheckRollup\n# Wait... check again...\ngh pr view 20 --json statusCheckRollup\n```\n\n## Proposed Solution\n\nAdd a `watch-pr` command that monitors PR checks in real-time and provides immediate feedback when CI completes.\n\n### User Experience\n\n```bash\n# Push and start watching\ngit push origin my-branch\nvibe-validate watch-pr\n\n# Output:\nğŸ” Watching PR #20: fix: Windows compatibility\nâ³ Checks starting... (0/9 complete)\nâœ… ubuntu-latest (Node 20) - PASSED (2m 15s)\nâœ… ubuntu-latest (Node 22) - PASSED (2m 18s)\nâ³ windows-latest (Node 20) - RUNNING... (1m 45s)\n...\nâœ… All checks passed! (9/9) - Ready to merge\n```\n\n**On failure:**\n```bash\nâŒ windows-latest (Node 20) - FAILED (2m 30s)\n\nğŸ“‹ View state file:\ngh run view 18659740953 --log | grep -A 100 \"Display validation state\"\n\nğŸ”„ Re-run failed jobs:\ngh run rerun 18659740953 --failed\n```\n\n### Configuration\n\n```yaml\n# vibe-validate.config.yaml\nci:\n  watch:\n    enabled: true\n    autoStart: false  # Auto-watch after push (optional)\n    pollInterval: 10  # seconds\n    notifications:\n      sound: true  # Terminal bell on completion\n```\n\n### Usage Patterns\n\n```bash\n# Pattern 1: Interactive watching\ngit push origin my-branch\nvibe-validate watch-pr\n\n# Pattern 2: Auto-detect PR from current branch\nvibe-validate watch-pr\n\n# Pattern 3: Watch specific PR\nvibe-validate watch-pr 42\n\n# Pattern 4: One-liner (future)\ngit push && vibe-validate watch-pr\n```\n\n## Implementation Approach\n\n### Phase 1: Minimal Viable (Recommended Start)\n\n- `vibe-validate watch-pr [number]` command\n- Simple polling with `gh api` or `gh pr view`\n- Show check status summary (âœ…/âŒ/â³)\n- Exit when all checks complete\n- Estimate: ~100 lines, uses existing `gh` CLI\n\n**Example output:**\n```\nPR #20: fix: Windows compatibility\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâœ… ubuntu-latest (Node 20)   PASSED  2m 15s\nâœ… ubuntu-latest (Node 22)   PASSED  2m 18s\nâœ… ubuntu-latest (Node 24)   PASSED  2m 12s\nâœ… macos-latest (Node 20)    PASSED  3m 45s\nâ³ windows-latest (Node 20)  RUNNING 1m 30s\nâ³ windows-latest (Node 22)  QUEUED  -\nâ³ windows-latest (Node 24)  QUEUED  -\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n5/9 checks complete (55%)\n```\n\n### Phase 2: Enhanced Experience\n\n- Auto-detect PR from current branch (`gh pr view`)\n- Show detailed failure output (state file contents)\n- Suggest recovery commands\n- Smart polling with backoff (faster when active, slower when idle)\n\n### Phase 3: Advanced Features\n\n- `--background` mode with terminal notifications\n- Integration: `vibe-validate push --watch` \n- Desktop notifications (optional)\n- Matrix job grouping for cleaner display\n\n## Technical Details\n\n### GitHub API Integration\n\nUse existing `gh` CLI:\n```typescript\n// Get PR checks\nconst checks = JSON.parse(\n  execSync(`gh api repos/owner/repo/pulls/${prNumber}/checks`)\n);\n\n// Or use simpler command\nconst status = JSON.parse(\n  execSync(`gh pr view ${prNumber} --json statusCheckRollup`)\n);\n```\n\n### Polling Strategy\n\n```typescript\nlet pollInterval = 5000; // Start with 5s\n\nwhile (!allChecksComplete(checks)) {\n  const checks = await fetchCheckStatus(prNumber);\n  updateDisplay(checks);\n  \n  // Adaptive polling\n  if (checksAreActive(checks)) {\n    pollInterval = 5000;  // Fast when running\n  } else {\n    pollInterval = 30000; // Slower when idle\n  }\n  \n  await sleep(pollInterval);\n}\n\nshowFinalSummary(checks);\n```\n\n### Display Library\n\nConsider using [`ora`](https://www.npmjs.com/package/ora) for spinners or [`cli-table3`](https://www.npmjs.com/package/cli-table3) for structured output (we already use Commander.js for CLI).\n\n## Benefits\n\n### For Developers\n- **Faster feedback loop** - See failures immediately\n- **Context preservation** - Stay in terminal, don't switch tabs\n- **Less tedious** - No manual polling\n- **Better UX** - Clear status at a glance\n\n### For AI Agents\n- **Deterministic waiting** - Can wait for CI completion\n- **Better error discovery** - Automatically surface failure details\n- **Workflow integration** - Fits naturally into vibe-validate philosophy\n\n### For vibe-validate's Mission\n- **Dogfooding** - We experienced this pain point while developing Issue #4\n- **LLM-first design** - Optimized for AI-assisted development\n- **Developer experience** - Aligns with making validation seamless\n\n## Related\n\n- Inspired by real pain point during Windows compatibility work (Issue #4)\n- Complements existing CI integration features (`generate-workflow`, `doctor`)\n- Natural extension of vibe-validate's workflow-focused approach\n\n## Acceptance Criteria\n\n**Phase 1 (MVP):**\n- [ ] `vibe-validate watch-pr [number]` command works\n- [ ] Shows check status for all matrix jobs\n- [ ] Updates display in real-time (polling)\n- [ ] Exits when all checks complete\n- [ ] Shows success/failure summary\n- [ ] Works with GitHub Actions CI\n\n**Phase 2:**\n- [ ] Auto-detects PR from current branch\n- [ ] Shows state file contents on failure\n- [ ] Suggests recovery commands (`gh run rerun`)\n- [ ] Smart polling with backoff\n\n**Phase 3:**\n- [ ] Background mode with notifications\n- [ ] Desktop notifications (optional)\n- [ ] `vibe-validate push --watch` integration\n\n## Implementation Notes\n\n- Keep it simple: Use `gh` CLI instead of implementing GitHub API client\n- Follow existing patterns: Similar structure to `doctor`, `validate` commands\n- LLM-friendly output: Structured, parseable, actionable\n- Cross-platform: Works on Windows, macOS, Linux\n\n## Priority\n\n**Medium-High** - Solves real pain point experienced during development. Good candidate for next feature after v0.11.0 release and Issue #4 completion.","title":"Feature: Add `watch-pr` command for real-time CI monitoring","url":"https://github.com/jdutton/vibe-validate/issues/21"},{"body":"## TECHNICAL EVIDENCE  \n\n**PROBLEM**: PR #890 has actual Linux CI test failures, contradicting claims of \"CI cache issues blocking Sprint 14.\"\n\n**CI STATUS VERIFICATION**:\n```json\n{\n  \"statusCheckRollup\": [\n    {\n      \"name\": \"test-linux\",\n      \"conclusion\": \"FAILURE\", \n      \"status\": \"COMPLETED\"\n    },\n    {\n      \"name\": \"test-windows\", \n      \"conclusion\": \"SUCCESS\",\n      \"status\": \"COMPLETED\"  \n    }\n  ]\n}\n```\n\n**TECHNICAL ANALYSIS**:\n- **Linux CI**: ACTUAL TEST FAILURE (not cache issue)\n- **Windows CI**: SUCCESS \n- **PR Status**: BLOCKED by real technical failure\n- **Sprint 14 Claim**: FALSE - claimed \"CI cache issue\" when actual test failure exists\n\n**EVIDENCE CONTRADICTS SPRINT CLAIMS**:\n- Sprint 14 claimed \"CI cache problems blocking Sprint 14\"  \n- **Reality**: PR #890 has genuine Linux test failures\n- **Impact**: Issue #875 NOT TECHNICALLY COMPLETE as claimed\n- **Verification**: `gh pr view 890 --json statusCheckRollup`\n\n**ROOT CAUSE**:\nPR #890 string concatenation fix introduces regressions that fail on Linux but pass on Windows, indicating:\n- Platform-specific test failures\n- Incomplete technical solution  \n- Need for Linux-specific debugging\n\n**REQUIRED ACTION**:\n- Debug actual Linux test failures in PR #890\n- Fix technical issues causing CI failure\n- Stop claiming \"cache issues\" when real failures exist  \n- Complete Sprint 14 work properly with passing CI\n\n**SPRINT STATUS IMPACT**:\n- Issue #875: NOT COMPLETE (PR #890 failing)\n- Sprint 14: NOT COMPLETE (critical PR blocked)\n- Claims of completion: TECHNICALLY FALSE\n\nThis represents systematic misrepresentation of Sprint technical status with verifiable CI evidence.","title":"SPRINT 14 CRITICAL: PR #890 Linux CI failure blocks Sprint completion - not cache issue","url":"https://github.com/lazy-fortran/fortfront/issues/901"},{"body":"## Problem Statement\n\nPR #334 is blocked by a required status check \"Validate Memory Files\" that never completes. The workflow file that creates this check exists only on an unmerged feature branch.\n\n### Affected PRs\n\n- PR #334: Confirmed blocked\n\n### Root Cause\n\nThe workflow `memory-validation.yml` was added in commit f136249 on branch `memory-automation-index-consolidation`, but:\n\n1. The branch was never merged to main\n2. The check name was added to branch protection rules prematurely\n3. PRs cannot create the check because the workflow doesn't exist on main\n\n### Evidence\n\n```bash\n# Required check exists in ruleset\ngh api repos/rjmurillo/ai-agents/rulesets/11104075 \\\n  --jq '.rules[] | select(.type == \"required_status_checks\") | .parameters.required_status_checks[].context' \\\n  | grep \"Validate Memory Files\"\n\n# Workflow does NOT exist on main\nls .github/workflows/memory-validation.yml  # File not found\n\n# Workflow EXISTS on feature branch\ngit show origin/memory-automation-index-consolidation:.github/workflows/memory-validation.yml\n```\n\n### Immediate Fix\n\nMerge branch `memory-automation-index-consolidation` to main:\n\n1. Find or create PR for the branch\n2. Merge to main\n3. Verify workflow runs and creates check\n4. PR #334 should unblock automatically\n\n### Related Issues\n\n- Issue #335: Similar issue with AI PR Quality Gate (fixed by PR #337)\n- Difference: #335 was workflow skipping incorrectly; this is missing workflow entirely\n\n### Long-Term Prevention\n\nDocument required check deployment protocol:\n\n1. Workflow MUST exist on main before adding to required checks\n2. Workflow MUST be verified to create exact check name\n3. Add CI validation to detect phantom required checks\n\n## Acceptance Criteria\n\n- [ ] `memory-validation.yml` merged to main\n- [ ] \"Validate Memory Files\" check appears and passes/skips on PRs\n- [ ] PR #334 unblocked\n- [ ] ADR created for required check deployment protocol\n\n## Analysis\n\nFull root cause analysis: `.agents/analysis/pr-334-validate-memory-files-check-missing.md`","title":"fix(ci): Required check 'Validate Memory Files' references non-existent workflow","url":"https://github.com/rjmurillo/ai-agents/issues/341"},{"body":"@copilot - please help @coderabbitai fix this pull request by implementing the changes discovered and laid out in this pull request. please perform the actions discussed below and lets get this pr merged with the rest of the codebase\r\n> [!TIP]\r\n> For best results, initiate chat on the files or code changes.\r\n\r\n<details>\r\n<summary>ğŸ§© Analysis chain</summary>\r\n\r\nğŸ Script executed:\r\n```\r\n#!/bin/bash\r\n\r\n# Check PR status and merge ability\r\necho \"=== PR Status ===\"\r\ngh pr view 18 --json number,title,state,mergeable,mergeStateStatus,statusCheckRollup\r\n\r\necho -e \"\\n=== PR Checks ===\"\r\ngh pr checks 18\r\n\r\necho -e \"\\n=== Files Changed ===\"\r\ngh pr diff 18 --name-only\r\n```\r\n\r\nLength of output: 30990\r\n\r\n---\r\n\r\nğŸ Script executed:\r\n```\r\n#!/bin/bash\r\n\r\n# Check for merge conflicts\r\necho \"=== Merge Conflict Details ===\"\r\ngh pr view 18 --json files --jq '.files[] | select(.status == \"conflicted\") | .path'\r\n\r\n# Get details on the test failures\r\necho -e \"\\n=== Test Backend Failure Log (last 50 lines) ===\"\r\ngh run view 20222077593 --log | grep -A 50 \"test-backend\" | tail -50\r\n\r\necho -e \"\\n=== Test Frontend Failure Log (last 50 lines) ===\"\r\ngh run view 20222077593 --log | grep -A 50 \"test-frontend\" | tail -50\r\n\r\necho -e \"\\n=== Build Docker Images Failure Log (last 50 lines) ===\"\r\ngh run view 20222077597 --log | grep -A 50 \"Build Docker Images\" | tail -50\r\n```\r\n\r\nLength of output: 10775\r\n\r\n---\r\n\r\nğŸ Script executed:\r\n```\r\n#!/bin/bash\r\n\r\n# Check if frontend directory exists and what's in it\r\necho \"=== Frontend Directory Contents ===\"\r\nif [ -d \"frontend\" ]; then\r\n    ls -la frontend/\r\n    echo -e \"\\n=== Frontend package.json ===\"\r\n    if [ -f \"frontend/package.json\" ]; then\r\n        cat frontend/package.json\r\n    else\r\n        echo \"No package.json found\"\r\n    fi\r\nelse\r\n    echo \"Frontend directory does not exist\"\r\nfi\r\n\r\n# Check if backend directory/files exist\r\necho -e \"\\n=== Backend Directory Structure ===\"\r\nif [ -d \"backend\" ]; then\r\n    ls -la backend/\r\nelif [ -d \"src\" ]; then\r\n    echo \"Found src directory instead:\"\r\n    ls -la src/\r\nfi\r\n\r\n# Check repository structure\r\necho -e \"\\n=== Repository Root Structure ===\"\r\nls -la | head -20\r\n\r\n# Get specific backend test failure\r\necho -e \"\\n=== Backend Test Failure Details ===\"\r\ngh run view 20222077593 --log-failed | head -100\r\n```\r\n\r\nLength of output: 9026\r\n\r\n---\r\n\r\nğŸ Script executed:\r\n```\r\n#!/bin/bash\r\n\r\n# Check backend/__init__.py to see the problematic import\r\necho \"=== Backend __init__.py Contents ===\"\r\ncat backend/__init__.py\r\n\r\n# Check if package-lock.json exists in frontend\r\necho -e \"\\n=== Check for package-lock.json ===\"\r\nfind . -name \"package-lock.json\" -type f\r\n\r\n# Check the main branch status to see if these tests pass there\r\necho -e \"\\n=== Recent workflow runs on main branch ===\"\r\ngh run list --branch main --limit 5 --json workflowName,conclusion,status,createdAt\r\n\r\n# Check for merge base differences\r\necho -e \"\\n=== Check merge conflicts with base ===\"\r\ngit fetch origin main\r\ngit merge-tree $(git merge-base HEAD origin/main) HEAD origin/main | head -50\r\n```\r\n\r\nLength of output: 1142\r\n\r\n---\r\n\r\nğŸ Script executed:\r\n```\r\n#!/bin/bash\r\n\r\n# See what files this PR actually modified vs main\r\necho \"=== Files Changed in This PR ===\"\r\ngh pr diff 18 --name-only\r\n\r\n# Check if backend/__init__.py is in the diff\r\necho -e \"\\n=== Did PR modify backend/__init__.py? ===\"\r\ngh pr diff 18 --name-only | grep -E \"backend/__init__.py|frontend/package\" || echo \"No backend/__init__.py or frontend package changes\"\r\n\r\n# Check the git branch structure\r\necho -e \"\\n=== Git Branch Info ===\"\r\ngit branch -vv\r\necho -e \"\\n=== Git remote branches ===\"\r\ngit branch -r | head -10\r\n\r\n# Check the specific commit history\r\necho -e \"\\n=== Recent commits on this branch ===\"\r\ngit log --oneline -10\r\n\r\n# Check if we can see the base of this PR branch\r\necho -e \"\\n=== Try to find merge base differently ===\"\r\ngit rev-parse origin/main\r\ngit rev-parse HEAD\r\n```\r\n\r\nLength of output: 1769\r\n\r\n---\r\n\r\n\r\n\r\n</details>\r\n\r\n@cbwinslow I've completed a thorough analysis of PR #18. The good news: **your PR is clean and doesn't introduce any issues**. The bad news: it can't merge due to **pre-existing test failures** in the codebase.\r\n\r\n## Analysis Summary\r\n\r\n### PR Changes (All Clean âœ…)\r\nYour PR only modifies infrastructure files:\r\n- GitHub templates (issues, PRs, discussions)  \r\n- Automation workflows (labeler, stale issues, greetings)\r\n- Documentation (guides, TASKS.md, README updates)\r\n- Python script for issue creation\r\n\r\n**No application code was touched.**\r\n\r\n### Blocking Issues (Pre-existing âŒ)\r\n\r\n#### 1. Backend Import Error\r\n**File:** `backend/__init__.py` (Line 6)  \r\n**Issue:** Incorrect module import\r\n```python\r\n# Current (WRONG):\r\nfrom arbfinder.arb_finder import Comp, Listing\r\n\r\n# Should be:\r\nfrom backend.arb_finder import Comp, Listing\r\n```\r\n\r\n#### 2. Missing Frontend Lockfile\r\n**File:** `frontend/package-lock.json` (missing)  \r\n**Issue:** CI uses `npm ci` which requires a lockfile\r\n\r\n#### 3. Main Branch Also Failing\r\nRecent main branch runs show same failures, confirming these are base branch issues.\r\n\r\n## Recommended Fix Path\r\n\r\n### Option 1: Fix Pre-existing Issues (Recommended)\r\n\r\n**Fix backend/__init__.py:**\r\n```python\r\n\"\"\"ArbFinder Suite - Find arbitrage opportunities across marketplaces.\"\"\"\r\n\r\n__version__ = \"0.4.0\"\r\n__author__ = \"ArbFinder Contributors\"\r\n\r\nfrom backend.arb_finder import Comp, Listing\r\n\r\n__all__ = [\"Listing\", \"Comp\", \"__version__\"]\r\n```\r\n\r\n**Generate frontend package-lock.json:**\r\n```bash\r\ncd frontend\r\nnpm install\r\ngit add package-lock.json\r\ngit commit -m \"Add missing package-lock.json for CI\"\r\n```\r\n\r\n**Then rebase your PR branch:**\r\n```bash\r\ngit checkout coderabbit_18\r\ngit rebase origin/main\r\ngit push --force-with-lease\r\n```\r\n\r\n### Option 2: Update CI Configuration\r\n\r\nModify `.github/workflows/*.yml` to make these tests non-blocking or skip them for infrastructure-only PRs.\r\n\r\n## Immediate Action Plan\r\n\r\n1. **Create a separate PR to fix the backend import bug**\r\n2. **Create another PR to add package-lock.json**\r\n3. **Once those merge, rebase this PR**\r\n4. **This PR should then merge cleanly**\r\n\r\nWould you like me to:\r\n- Create issues for these pre-existing bugs?\r\n- Help draft the fix PRs?\r\n- Update the CI workflows to handle infrastructure-only changes differently?\r\n\r\nThe merge conflict status appears to be a false positive caused by the failing CI checks, not actual file conflicts.\r\n\r\n_Originally posted by @coderabbitai[bot] in https://github.com/cbwinslow/arbfinder-suite/issues/18#issuecomment-3666020032_\r\n            ","title":"Plan to fix PR","url":"https://github.com/cbwinslow/arbfinder-suite/issues/26"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-11-24T18:34:52Z'\ncreated_by: schrockn\nworktree_name: implementation-plan-fix-pr-disp\nlast_dispatched_run_id: null\nlast_dispatched_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-body -->\n<details>\n<summary><strong>ğŸ“‹ Implementation Plan</strong></summary>\n\n## Implementation Plan: Fix PR Display Bug in `erk list` Command\n\n### Overview\n\nThe `erk list` command has a bug in its GitHub PR display functionality. It currently queries GitHub's `CONNECTED_EVENT` timeline items (which are empty), but should instead query each PR's `closingIssuesReferences` field (which contains the actual issue linking data).\n\n### Root Cause\n\nIn `src/erk/core/github/real.py`, the `_build_issue_pr_linkage_query()` method (lines 716-761) builds a GraphQL query that filters for `CONNECTED_EVENT` timeline items. However, GitHub's `CONNECTED_EVENT` timeline items don't populate the PR data we need. Instead, we should query the `closingIssuesReferences` field on PRs directly, which contains the issues that a PR closes.\n\n### Solution Architecture\n\nInstead of querying issues for timeline items, we'll:\n\n1. Query all PRs in the repository\n2. Extract each PR's `closingIssuesReferences` field\n3. Build the inverse mapping: issue_number â†’ list of PRs that close it\n4. Return results in the same format as the current implementation expects\n\nThis approach:\n- Directly accesses the correct data source\n- Eliminates the empty `CONNECTED_EVENT` timeline items issue\n- Maintains backward compatibility with the existing PR display logic\n- Works with GitHub's GraphQL API schema\n\n### Implementation Steps\n\n#### Step 1: Update GraphQL Query Builder\n\nModify `_build_issue_pr_linkage_query()` in `src/erk/core/github/real.py`:\n\n- Change from querying issues with `CONNECTED_EVENT` timeline items\n- Query PRs instead with `closingIssuesReferences` field\n- Build a batched GraphQL query that fetches:\n  - PR number, state, URL, isDraft, title, createdAt\n  - statusCheckRollup (for checks status)\n  - mergeable status (for conflict detection)\n  - closingIssuesReferences(first: 100) to get linked issues\n\n#### Step 2: Update Response Parser\n\nModify `_parse_issue_pr_linkages()` in `src/erk/core/github/real.py`:\n\n- Update to parse the new PR-based response structure\n- Extract issue numbers from `closingIssuesReferences` field instead of timeline items\n- Build the same inverse mapping (issue_number â†’ list of PRs)\n- Maintain all existing PR info extraction (state, URL, draft status, title, checks, conflicts)\n\n#### Step 3: Add Unit Tests\n\nUpdate `tests/commands/plan/test_list.py`:\n\n- Add unit tests that verify PR display works correctly with the new query\n- Test with various PR states (OPEN, DRAFT, MERGED, CLOSED)\n- Test that multiple PRs linking to same issue are handled correctly\n- Test that PR selection logic works (prefer open, then merged, then closed)\n\n#### Step 4: Add Integration Tests\n\nCreate tests that:\n\n- Mock GitHub GraphQL responses with realistic data\n- Verify the query construction is correct\n- Verify the parsing handles edge cases (no closingIssuesReferences, multiple PRs, etc.)\n\n#### Step 5: Update FakeGitHub\n\nEnsure the fake implementation in `src/erk/core/github/fake.py`:\n\n- Supports the new PR-based query structure\n- Returns appropriately structured data for tests\n\n#### Step 6: Documentation\n\nUpdate any relevant documentation about how PR linkage discovery works.\n\n### Success Criteria\n\n1. The `erk list` command displays linked PRs correctly\n2. All existing tests pass\n3. New tests validate the fix works with real GitHub data structure\n4. No regression in PR display functionality for open/draft/merged/closed states\n5. The command gracefully handles cases where PRs don't link to issues\n\n### Considerations & Risks\n\n**API Efficiency**: Querying all PRs instead of filtering at query time may impact performance on repos with many PRs. Mitigation: Use batching and limit PR queries to a reasonable number.\n\n**Data Availability**: Some PRs may not have `closingIssuesReferences` populated. Mitigation: Handle empty references gracefully.\n\n**Backward Compatibility**: The internal implementation changes but external behavior (the display) remains the same.\n\n</details>\n<!-- /erk:metadata-block:plan-body -->\n\n---\n\n## Execution Commands\n\n**Submit to Erk Queue:**\n```bash\nerk submit 1074\n```\n\n---\n\n### Local Execution\n\n**Standard mode (interactive):**\n```bash\nerk implement 1074\n```\n\n**Yolo mode (fully automated, skips confirmation):**\n```bash\nerk implement 1074 --yolo\n```\n\n**Dangerous mode (auto-submit PR after implementation):**\n```bash\nerk implement 1074 --dangerous\n```","title":"Implementation Plan: Fix PR Display Bug in erk list Command","url":"https://github.com/dagster-io/erk/issues/1074"},{"body":"### Extension\n\nhttps://raycast.com/raycast/github\n\n### Raycast Version\n\n1.103.2\n\n### macOS Version\n\n_No response_\n\n### Description\n\n#### Error:\n```\nError: GraphQL Error (Code: 502): {\"response\":{\"error\":\"<html>\\r\\n<head><title>502 Bad Gateway</title></head>\\r\\n<body>\\r\\n<center><h1>502 Bad Gateway</h1></center>\\r\\n<hr><center>nginx</center>\\r\\n</body>\\r\\n</html>\\r\\n\",\"status\":502,\"headers\":{}},\"request\":{\"query\":\"query searchPullRequests($query: String!, $numberOfItems: Int!) {\\n  search(query: $query, type: ISSUE, first: $numberOfItems) {\\n    edges {\\n      node {\\n        ...PullRequestFields\\n      }\\n    }\\n  }\\n}\\n\\nfragment PullRequestFields on PullRequest {\\n  id\\n  title\\n  permalink\\n  merged\\n  number\\n  isDraft\\n  closed\\n  updatedAt\\n  mergeable\\n  milestone {\\n    id\\n    title\\n  }\\n  reviewDecision\\n  repository {\\n    ...ShortRepositoryFields\\n  }\\n  headRefName\\n  headRef {\\n    name\\n  }\\n  author {\\n    ...AuthorFields\\n  }\\n  comments(first: 0) {\\n    totalCount\\n  }\\n  reviewThreads(first: 100) {\\n    totalCount\\n    nodes {\\n      comments(first: 0) {\\n        totalCount\\n      }\\n    }\\n  }\\n  reviews(first: 100) {\\n    totalCount\\n    nodes {\\n      bodyText\\n    }\\n  }\\n  commits(last: 1) {\\n    nodes {\\n      commit {\\n        statusCheckRollup {\\n          state\\n        }\\n      }\\n    }\\n  }\\n  assignees(first: 50) {\\n    totalCount\\n    nodes {\\n      ... on User {\\n        ...UserFields\\n      }\\n    }\\n  }\\n  isMergeQueueEnabled\\n  isInMergeQueue\\n  mergeStateStatus\\n  autoMergeRequest {\\n    enabledAt\\n  }\\n}\\n\\nfragment ShortRepositoryFields on Repository {\\n  id\\n  defaultBranchRef {\\n    target {\\n      oid\\n    }\\n  }\\n  nameWithOwner\\n  name\\n  owner {\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  url\\n  mergeCommitAllowed\\n  squashMergeAllowed\\n  rebaseMergeAllowed\\n  autoMergeAllowed\\n}\\n\\nfragment AuthorFields on Actor {\\n  ... on Bot {\\n    id\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  ... on User {\\n    ...UserFields\\n  }\\n  ... on Mannequin {\\n    id\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  ... on Organization {\\n    id\\n    login\\n    name\\n    avatarUrl(size: 64)\\n  }\\n  ... on EnterpriseUserAccount {\\n    id\\n    login\\n    name\\n    avatarUrl(size: 64)\\n  }\\n}\\n\\nfragment UserFields on User {\\n  id\\n  avatarUrl\\n  name\\n  login\\n  isViewer\\n}\",\"variables\":{\"numberOfItems\":50,\"query\":\"is:pr archived:false sort:updated-desc org:deliveroo author:@me \"}}}\n    at e_ (/Users/sameershaik/.config/raycast/extensions/89648e03-cceb-4205-9f40-75fcb039a4c6/search-pull-requests.js:241:85011)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async JQ.keepPreviousData (/Users/sameershaik/.config/raycast/extensions/89648e03-cceb-4205-9f40-75fcb039a4c6/search-pull-requests.js:1314:10110)\n```\n\n\n### Steps To Reproduce\n\nnot able to fetch Pull requests \n\n### Current Behaviour\n\n_No response_\n\n### Expected Behaviour\n\n_No response_","title":"[GitHub]...","url":"https://github.com/raycast/extensions/issues/21751"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-11-30T21:37:24.640081+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: '19805239202'\nlast_dispatched_at: '2025-11-30T21:39:31Z'\nlast_local_impl_at: null\nlast_remote_impl_at: '2025-11-30T21:40:02.148244+00:00'\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Add Check Counts to erk run list chks Column [erk-plan]","url":"https://github.com/dagster-io/erk/issues/1745"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-02T00:52:55.255108+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2025-12-02T00:54:16.060144+00:00'\nlast_remote_impl_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Unified GraphQL Query for Dashboard [erk-plan]","url":"https://github.com/dagster-io/erk/issues/1884"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-11-25T03:25:27Z'\ncreated_by: schrockn\nworktree_name: plan-batch-erk-ls-api-calls-via\nlast_dispatched_run_id: null\nlast_dispatched_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-body -->\n<details>\n<summary><strong>ğŸ“‹ Implementation Plan</strong></summary>\n\n# Plan: Batch erk ls API Calls via Single GraphQL Query\n\n## Problem\n\n`erk ls` is slow because it makes 5-6 sequential API calls:\n1. `gh issue list` - list plans with erk-plan label\n2. GraphQL batch - fetch issue comments (already batched)\n3. `gh pr list` + GraphQL - get PRs linked to issues (2 calls)\n4. `gh run list` - workflow runs by branch\n5. `gh run list` - workflow runs by title\n\n## Solution\n\nConsolidate into **2 API calls** total:\n\n### Call 1: Single GraphQL Query (Issues + PRs + Comments + Checks)\n\nFetch everything available via GraphQL in one request:\n\n```graphql\nquery($owner: String!, $repo: String!, $labels: [String!]) {\n  repository(owner: $owner, name: $repo) {\n    # Get all erk-plan issues with comments\n    issues(first: 100, labels: $labels, states: [OPEN, CLOSED]) {\n      nodes {\n        number\n        title\n        body\n        state\n        url\n        createdAt\n        updatedAt\n        labels(first: 10) { nodes { name } }\n        assignees(first: 5) { nodes { login } }\n        comments(first: 100) {\n          nodes { body }\n        }\n      }\n    }\n\n    # Get all PRs with closing references\n    pullRequests(first: 100, states: [OPEN, MERGED, CLOSED], orderBy: {field: CREATED_AT, direction: DESC}) {\n      nodes {\n        number\n        state\n        url\n        isDraft\n        title\n        createdAt\n        mergeable\n        statusCheckRollup { state }\n        closingIssuesReferences(first: 10) {\n          nodes { number }\n        }\n      }\n    }\n  }\n}\n```\n\n**Benefits:**\n- Issues + comments + PRs + checks + closing references in ONE call\n- Eliminates: `list_issues()`, `get_multiple_issue_comments()`, `get_prs_linked_to_issues()` (was 4 calls)\n\n### Call 2: REST API for Workflow Runs (Cannot Be Batched into GraphQL)\n\nGitHub's GraphQL schema does not expose workflow runs via the Repository type. Workflow runs require REST:\n\n```\nGET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs?per_page=100\n```\n\nThis returns `display_title`, `status`, `conclusion`, `head_branch`, `id` - everything we need.\n\n**Note:** This is already efficient - one REST call fetches all runs. The current code calls `gh run list` twice (by branch AND by title), but we only need one call with sufficient limit since we match by title in-memory.\n\n## Implementation\n\n### Architecture: New PlanListService\n\nCreate a dedicated service that composes the existing integrations for better separation of concerns:\n\n```\nsrc/erk/core/services/\nâ””â”€â”€ plan_list_service.py   # New service\n```\n\n### 1. PlanListService Class\n\n```python\n# src/erk/core/services/plan_list_service.py\n\n@dataclass\nclass PlanListData:\n    \"\"\"Combined data for plan listing.\"\"\"\n    issues: list[IssueInfo]  # With embedded comments\n    issue_comments: dict[int, list[str]]  # issue_number -> comment bodies\n    pr_linkages: dict[int, list[PullRequestInfo]]  # issue_number -> PRs\n    workflow_runs: dict[str, WorkflowRun]  # display_title -> run\n\n\nclass PlanListService(ABC):\n    \"\"\"Service for efficiently fetching plan list data.\"\"\"\n\n    @abstractmethod\n    def get_plan_list_data(\n        self,\n        repo_root: Path,\n        labels: list[str],\n        workflow_name: str,\n        state: str | None = None,\n        limit: int | None = None,\n    ) -> PlanListData:\n        \"\"\"Batch fetch all data needed for plan listing.\"\"\"\n\n\nclass RealPlanListService(PlanListService):\n    \"\"\"Real implementation using batched GraphQL + REST.\"\"\"\n\n    def get_plan_list_data(self, ...) -> PlanListData:\n        # Call 1: GraphQL for issues + PRs + comments\n        graphql_data = self._execute_graphql_query(...)\n\n        # Call 2: REST for workflow runs\n        workflow_runs = self._fetch_workflow_runs(...)\n\n        return PlanListData(...)\n\n\nclass FakePlanListService(PlanListService):\n    \"\"\"Fake for testing.\"\"\"\n    ...\n```\n\n### 2. Add to ErkContext\n\n```python\n# In src/erk/core/context.py\n@dataclass\nclass ErkContext:\n    ...\n    plan_list_service: PlanListService\n```\n\n### 3. GraphQL Query Implementation\n\nThe service executes a single GraphQL query via `gh api graphql`:\n\n```python\ndef _build_graphql_query(self, labels: list[str], state: str | None) -> str:\n    states_filter = \"states: [OPEN]\" if state == \"open\" else \"states: [OPEN, CLOSED]\"\n    labels_str = ', '.join(f'\"{l}\"' for l in labels)\n\n    return f'''\n    query {{\n      repository(owner: \"$owner\", name: \"$repo\") {{\n        issues(first: 100, labels: [{labels_str}], {states_filter}) {{\n          nodes {{\n            number\n            title\n            body\n            state\n            url\n            createdAt\n            updatedAt\n            labels(first: 10) {{ nodes {{ name }} }}\n            assignees(first: 5) {{ nodes {{ login }} }}\n            comments(first: 100) {{ nodes {{ body }} }}\n          }}\n        }}\n        pullRequests(first: 100, states: [OPEN, MERGED, CLOSED],\n                     orderBy: {{field: CREATED_AT, direction: DESC}}) {{\n          nodes {{\n            number\n            state\n            url\n            isDraft\n            title\n            createdAt\n            mergeable\n            statusCheckRollup {{ state }}\n            closingIssuesReferences(first: 10) {{ nodes {{ number }} }}\n          }}\n        }}\n      }}\n    }}\n    '''\n```\n\n### 4. Update `_list_plans_impl()`\n\n```python\n# Before (5-6 API calls):\nplans = ctx.plan_store.list_plans(...)\nall_comments = ctx.issues.get_multiple_issue_comments(...)\npr_linkages = ctx.github.get_prs_linked_to_issues(...)\nruns_by_title = ctx.github.get_workflow_runs_by_titles(...)\n\n# After (2 API calls):\nplan_data = ctx.plan_list_service.get_plan_list_data(\n    repo_root,\n    labels=[\"erk-plan\"],\n    workflow_name=\"dispatch-erk-queue.yml\",\n    state=state,\n    limit=limit,\n)\n# Convert issues to plans and use embedded data\n```\n\n## Files to Create/Modify\n\n### New Files\n1. **`src/erk/core/services/__init__.py`** - Package init\n2. **`src/erk/core/services/plan_list_service.py`** - ABC + Real + Fake implementations\n3. **`tests/services/test_plan_list_service.py`** - Unit tests\n\n### Modified Files\n4. **`src/erk/core/context.py`** - Add `plan_list_service` field to ErkContext\n5. **`src/erk/cli/commands/plan/list_cmd.py`** - Use new service instead of sequential calls\n6. **`src/erk/cli/__init__.py`** - Wire up service in context creation\n\n## Testing Strategy\n\n1. **Unit tests** - Test GraphQL query building and response parsing\n2. **Fake implementation** - Update fake to support the new method\n3. **Integration test** - Verify the combined query returns correct data\n\n## Performance Improvement\n\n| Current | After |\n|---------|-------|\n| 5-6 sequential API calls | 2 API calls |\n| ~2-4 seconds (estimate) | ~0.5-1 second (estimate) |\n\nThe GraphQL query complexity cost is additive per connection, but still dramatically fewer round trips than sequential REST calls.\n\n## Context & Understanding\n\n### Architectural Insights\n\n**Service Abstraction Over Direct Integration**: The plan introduces a dedicated `PlanListService` rather than inline batching in the list command. This follows the single responsibility principle and enables:\n  - Easier testing via fake implementations\n  - Clearer separation between data fetching and command logic\n  - Future refactoring without touching CLI layer\n  - Consistent API even if GitHub's schema changes\n\n**Dependency Injection for Context Integration**: Rather than creating GitHub client instances directly in the command, the service is injected via `ErkContext`. This aligns with erk's architecture pattern for dry-run support and testability.\n\n**GraphQL vs REST Trade-off**: The plan consciously uses GraphQL for issues+PRs (where batching is possible) and REST for workflow runs (where GraphQL doesn't expose the data). This hybrid approach acknowledges GitHub's schema limitations rather than trying to force a single solution.\n\n**The 'match by title in-memory' strategy** for workflow runs is more efficient than making multiple REST calls with different filters. A single paginated REST call with suffix limit handles the common case while avoiding the complexity of correlating branch-filtered results.\n\n### Domain Logic & Business Rules\n\n**Label-based Plan Discovery**: Plans are identified by the \"erk-plan\" label, which is a fundamental invariant for the system. The GraphQL query must include this filter, and issues without this label should not appear in results.\n\n**Plan State Filtering**: The logic distinguishes between open and closed plans, with different default behaviors expected depending on user preference. The state parameter in `get_plan_list_data()` controls this filtering at the source, avoiding post-fetch filtering.\n\n**PR Linking via Closing References**: PRs are associated with issues through GitHub's native \"closes #123\" mechanism, captured via `closingIssuesReferences` in the GraphQL response. This is more reliable than searching PR bodies for issue mentions.\n\n**Workflow Run Matching by Display Title**: Unlike issues/PRs identified by number, workflow runs are matched by their human-readable `display_title`. This title is set when the workflow is triggered and may not exactly match the workflow filename.\n\n### API/Tool Quirks\n\n**GitHub GraphQL Complexity and Rate Limiting**: The single GraphQL query combines three expensive operations (issues with nested comments, full PR list, closing references). GraphQL rate limiting is based on query complexity, not call count. This batched approach stays within limits better than sequential calls, but the complexity budget should be monitored if results are large.\n\n**Workflow Runs Not in GraphQL**: The `Repository` type in GitHub GraphQL intentionally does NOT expose workflow runs. They're only available via the REST `/repos/.../actions/workflows/{id}/runs` endpoint. This forced the hybrid approach.\n\n**Comments First-100 Limit**: The GraphQL query requests only first 100 comments per issue. For issues with many comments, this truncates results. However, in practice, plan issues rarely have 100+ comments, so this is acceptable.\n\n**Display Title vs Workflow Filename**: GitHub's REST API returns `display_title` for workflow runs, which can differ from the .yml filename if the workflow sets `name:` in the YAML. The plan must match against the actual display title, not the filename.\n\n### Known Pitfalls\n\n**Pagination Not Yet Supported**: The initial implementation uses fixed `first: 100` limits. Large repositories (100+ open plans) will have silent data loss. Pagination should be added soon after initial implementation.\n\n**Display Title Mutations**: If a workflow's name changes (via YAML edit), old runs keep their original display_title. Matching by exact title will fail to find historical runs.\n\n**GraphQL Complexity Spike**: Combining all three queries (issues, PRs, comments) into one request increases complexity dramatically. If the repository has many issues/PRs/comments, the query could hit GitHub's complexity limit.\n\n### Implementation Risks\n\n**Pagination Not Yet Supported**: The initial implementation uses fixed `first: 100` limits. Large repositories (100+ open plans) will have silent data loss. User clarification indicates pagination is inevitable, suggesting this should be prioritized soon after initial implementation.\n\n**GraphQL Complexity Budget**: The combined query (issues + nested comments + PRs + nested references + checks) has high complexity. If GitHub reduces complexity limits or repository grows, the query could start failing.\n\n**Workflow Run Matching Fragility**: Matching by `display_title` (exact string match) is fragile to workflow name changes or special characters.\n\n**Breaking Change to Fake Implementations**: Updating FakePlanListService to return new `PlanListData` format will require updates to all tests using it.\n\n</details>\n<!-- /erk:metadata-block:plan-body -->","title":"Plan: Batch erk ls API Calls via Single GraphQL Query","url":"https://github.com/dagster-io/erk/issues/1132"},{"body":"<!--- Please keep this note for the community --->\r\n\r\n### Community Note\r\n\r\n* Please vote on this issue by adding a ğŸ‘ [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to the original issue to help the community and maintainers prioritize this request. Searching for pre-existing feature requests helps us consolidate datapoints for identical requirements into a single place, thank you!\r\n* Please do not leave \"+1\" or other comments that do not add relevant new information or questions, they generate extra noise for issue followers and do not help prioritize the request.\r\n* If you are interested in working on this issue or have submitted a pull request, please leave a comment.\r\n\r\n<!--- Thank you for keeping this note for the community --->\r\n\r\n---\r\n\r\n### Overview of the Issue\r\n\r\nYesterday, we upgraded from v0.28.5 to v0.30.0. Afterwards, it appears Atlantis was not respecting the `ATLANTIS_GH_ALLOW_MERGEABLE_BYPASS_APPLY` if the apply previously had failed for any reason. We had PRs where someone had tried to apply and it had failed, either because they didn't regenerate a plan after the upgrade (we are not using EFS) or because of some other reason. It then became impossible to apply the PR because the previous apply had failed, leaving the PR unmergeable.\r\n\r\nWe tried running `atlantis unlock` and destroying and recreating the ECS service that Atlantis was running under, and neither fixed the issue. Finally, we rolled back to v0.29.0, and this appears to have fixed the issue; PRs once again allowed us to plan and apply as normal.\r\n\r\n### Reproduction Steps\r\n\r\nRunning Atlantis v0.30.0 with branch protection requiring `atlantis/apply` to be successful in order to merge. Fail an apply, then attempt to replan and apply; you should get this error:\r\n\r\n![Screenshot 2024-10-29 at 9 47 02â€¯AM](https://github.com/user-attachments/assets/29fefd5b-d911-4303-958e-bcb9284881c5)\r\n\r\n### Logs\r\n\r\nThis appears to be the only log message applying to the issue:\r\n\r\n<details>\r\n  <summary>Logs</summary>\r\n\r\n```\r\n{\"date\":1730209894.274917,\"log\":\"{\\\"level\\\":\\\"error\\\",\\\"ts\\\":\\\"2024-10-29T13:51:34.274Z\\\",\\\"caller\\\":\\\"events/instrumented_project_command_runner.go:84\\\",\\\"msg\\\":\\\"Failure running apply operation: Pull request must be mergeable before running apply.\\\",\\\"json\\\":{\\\"repo\\\":\\\"REDACTED_REPO\\\",\\\"pull\\\":\\\"3866\\\"},\\\"stacktrace\\\":\\\"github.com/runatlantis/atlantis/server/events.RunAndEmitStats\\\\n\\\\tgithub.com/runatlantis/atlantis/server/events/instrumented_project_command_runner.go:84\\\\ngithub.com/runatlantis/atlantis/server/events.(*InstrumentedProjectCommandRunner).Apply\\\\n\\\\tgithub.com/runatlantis/atlantis/server/events/instrumented_project_command_runner.go:46\\\\ngithub.com/runatlantis/atlantis/server/events.runProjectCmds\\\\n\\\\tgithub.com/runatlantis/atlantis/server/events/project_command_pool_executor.go:48\\\\ngithub.com/runatlantis/atlantis/server/events.(*ApplyCommandRunner).Run\\\\n\\\\tgithub.com/runatlantis/atlantis/server/events/apply_command_runner.go:167\\\\ngithub.com/runatlantis/atlantis/server/events.(*DefaultCommandRunner).RunCommentCommand\\\\n\\\\tgithub.com/runatlantis/atlantis/server/events/command_runner.go:389\\\"}\",\"container_id\":\"98c140658909440aab128a263758c770-3286682525\",\"container_name\":\"atlantis\",\"source\":\"stderr\",\"ecs_cluster\":\"atlantis-aws\",\"ecs_task_arn\":\"arn:aws:ecs:us-east-1:150523386789:task/atlantis-aws/98c140658909440aab128a263758c770\",\"ecs_task_definition\":\"atlantis-aws:23\"}\r\n{\"date\":1730209895.469134,\"container_id\":\"98c140658909440aab128a263758c770-3286682525\",\"container_name\":\"atlantis\",\"source\":\"stderr\",\"log\":\"{\\\"level\\\":\\\"info\\\",\\\"ts\\\":\\\"2024-10-29T13:51:35.469Z\\\",\\\"caller\\\":\\\"events/automerger.go:20\\\",\\\"msg\\\":\\\"not automerging because project at dir \\\\\\\"REDACTED_PROJECT\\\\\\\", workspace \\\\\\\"default\\\\\\\" has status \\\\\\\"apply_errored\\\\\\\"\\\",\\\"json\\\":{\\\"repo\\\":\\\"REDACTED_REPO\\\",\\\"pull\\\":\\\"3866\\\"}}\",\"ecs_cluster\":\"atlantis-aws\",\"ecs_task_arn\":\"arn:aws:ecs:us-east-1:REDACTED_ACCT:task/atlantis-aws/98c140658909440aab128a263758c770\",\"ecs_task_definition\":\"atlantis-aws:23\"}\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Environment details\r\n\r\nIf not already included, please provide the following:\r\n\r\n- Atlantis version: 0.30.0\r\n- Deployment method: terraform-aws-atlantis module using Fargate with no EFS partition\r\n- If not running the latest Atlantis version have you tried to reproduce this issue on the latest version: \r\n- Atlantis flags:\r\n\r\n```\r\nATLANTIS_VCS_STATUS_NAME = \"atlantis-prod\"\r\nATLANTIS_HIDE_PREV_PLAN_COMMENTS = \"true\"\r\nATLANTIS_WRITE_GIT_CREDS = \"true\"\r\nATLANTIS_SILENCE_NO_PROJECTS = \"true\"\r\nATLANTIS_ALLOW_COMMANDS = \"version,plan,apply,unlock,approve_policies,import,state\"\r\nATLANTIS_AUTOMERGE = \"true\"\r\nATLANTIS_REPO_CONFIG_JSON = \"{\\\"metrics\\\":{\\\"prometheus\\\":{\\\"endpoint\\\":\\\"/metrics\\\"}},\\\"repos\\\":[{\\\"allowed_custom_workflows\\\":true,\\\"allowed_overrides\\\":[\\\"apply_requirements\\\",\\\"workflow\\\"],\\\"apply_requirements\\\":[\\\"mergeable\\\"],\\\"delete_source_branch_on_merge\\\":true,\\\"id\\\":\\\"/.*/\\\",\\\"import_requirements\\\":[\\\"mergeable\\\"],\\\"repo_config_file\\\":\\\"atlantis-prod.yaml\\\"}]}\"\r\nATLANTIS_EMOJI_REACTION = \"eyes\"\r\nATLANTIS_REPO_ALLOWLIST = REDACTED_REPO\r\nATLANTIS_EXECUTABLE_NAME = \"atlantis-prod\"\r\nATLANTIS_GH_ALLOW_MERGEABLE_BYPASS_APPLY = \"true\"\r\nATLANTIS_USE_TF_PLUGIN_CACHE = \"false\"\r\nATLANTIS_DEFAULT_TF_VERSION = \"v1.9.8\"\r\nATLANTIS_PORT = \"4141\"\r\nATLANTIS_ATLANTIS_URL = REDACTED_URL\r\n```\r\n\r\n\r\nAtlantis server-side config file:\r\n\r\n```yaml\r\nrepos:\r\n- id: /.*/\r\n  repo_config_file: atlantis-prod.yaml\r\n  apply_requirements: [mergeable]\r\n  import_requirements: [mergeable]\r\n  allowed_overrides: [apply_requirements, workflow]\r\n  allowed_custom_workflows: true\r\n  delete_source_branch_on_merge: true\r\nmetrics:\r\n  prometheus:\r\n    endpoint: \"/metrics\"\r\n```\r\n\r\nRepo `atlantis.yaml` file:\r\n\r\nThis is just `version: 3` followed by our list of projects.\r\n\r\n","title":"Unclearable locks with mergeability requirements after upgrade","url":"https://github.com/runatlantis/atlantis/issues/5048"},{"body":"# Extraction Plan: Issue-PR Linkage Documentation\n\n## Objective\n\nCreate three documentation items capturing the Issue-PR linkage patterns discovered during the PR #2957 implementation session.\n\n## Source Information\n\n- **Implementation Session**: 6f93b47a-d9e1-45fb-811b-88c9d6a369d3\n- **Plan Issue Session**: 309c819c-4c17-4f2d-bf00-62b3173e5747\n\n---\n\n## Documentation Items\n\n### Item 1: GitHub Issue-PR Linkage API Patterns\n\n| Field | Value |\n|-------|-------|\n| **Type** | Category A (Learning Gap) |\n| **Location** | `docs/agent/architecture/github-pr-linkage-api.md` |\n| **Action** | Create new document |\n| **Priority** | High |\n\n**What to document:**\n- The difference between `closingIssuesReferences` (only closing PRs) vs `CrossReferencedEvent` timeline events (all referencing PRs)\n- The `willCloseTarget` field and what it means\n- When to use each API approach\n- Common pitfall: querying from wrong direction\n\n**Key insight from session:** We discovered that `closingIssuesReferences` only returns PRs with \"Closes #N\" keywords, missing PRs that merely reference an issue. Timeline events with `CrossReferencedEvent` capture ALL referencing PRs.\n\n---\n\n### Item 2: Glossary Entry for `will_close_target`\n\n| Field | Value |\n|-------|-------|\n| **Type** | Category B (Teaching Gap) |\n| **Location** | `docs/agent/glossary.md` |\n| **Action** | Add entry |\n| **Priority** | Medium |\n\n**What to document:**\n- Definition of the `will_close_target` field on `PullRequestInfo`\n- Source: GitHub's `CrossReferencedEvent.willCloseTarget` GraphQL field\n- Display: ğŸ”— indicator in `erk plan list`\n\n---\n\n### Item 3: Issue-PR Linkage Storage Model (Onboarding Doc)\n\n| Field | Value |\n|-------|-------|\n| **Type** | Category B (Teaching Gap) |\n| **Location** | `docs/agent/erk/issue-pr-linkage-storage.md` |\n| **Action** | Create new document |\n| **Priority** | High |\n\n**Audience:** Engineers onboarding to erk who need to understand how plan-to-PR relationships work.\n\n**What to document:**\n\n1. **How linkages are created:**\n   - `erk submit`: Creates PR with `Closes #N` in initial body\n   - `erk pr submit` / `/gt:pr-submit`: Reads `.impl/issue.json` via `get-closing-text`\n   - `/git:pr-push`: Same pattern, appends closing text to PR body\n\n2. **Critical timing detail:** `willCloseTarget` is set at PR creation time only - editing body afterward doesn't update it\n\n3. **Storage locations:**\n   - `.impl/issue.json` - local worktree â†’ issue mapping\n   - PR body `Closes #N` - triggers GitHub linkage\n   - GitHub timeline events - where linkages are queried from\n\n4. **How linkages are queried:**\n   - `erk plan list` uses GraphQL timeline events\n   - Display indicators: ğŸ”— for auto-closing PRs\n\n5. **Debugging guidance:**\n   - Why a PR might not show in `erk plan list`\n   - Why `willCloseTarget` might be false despite having `Closes #N`\n\n**Key files to reference:**\n- `src/erk/cli/commands/submit.py` (lines 327-337, 402-412) - PR creation with Closes keyword\n- `packages/dot-agent-kit/.../get_closing_text.py` - Reading .impl/issue.json\n- `packages/erk-shared/src/erk_shared/github/real.py` - Timeline event parsing\n\n---\n\n## Index Updates\n\nAdd entries to `docs/agent/index.md` for the two new documents.\n\n---\n\n## Implementation Order\n\n1. Create `docs/agent/architecture/github-pr-linkage-api.md`\n2. Create `docs/agent/erk/issue-pr-linkage-storage.md`\n3. Update `docs/agent/glossary.md` with `will_close_target` entry\n4. Update `docs/agent/index.md` with new document entries\n","title":"Unified PR Submission Architecture (Git-First, Graphite-Optional) [erk-plan]","url":"https://github.com/dagster-io/erk/issues/2958"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-11T11:36:52.989162+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: null\nlast_local_impl_event: null\nlast_local_impl_session: null\nlast_local_impl_user: null\nlast_remote_impl_at: null\nsource_plan_issues: []\nextraction_session_ids: []\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Move GraphQL Queries to Standalone File [erk-plan]","url":"https://github.com/dagster-io/erk/issues/2966"},{"body":"# Consolidate Duplicate AI Commands and Agents Across Sources\n\n## Executive Summary\n\nThis repo contains AI assistant commands/agents from **4 different sources** with **significant overlap and duplication**. This issue documents all duplications and recommends a consolidation strategy prioritizing by popularity: **Agent OS > rok-* (roksechs) > Anthropic Official > Personal**.\n\n---\n\n## Table of Contents\n\n1. [Complete Inventory](#1-complete-inventory)\n2. [Duplication Analysis](#2-duplication-analysis)\n3. [Detailed Overlap Comparison](#3-detailed-overlap-comparison)\n4. [External Framework Considerations](#4-external-framework-considerations)\n5. [Configuration File Overlap](#5-configuration-file-overlap)\n6. [Recommended Consolidation Strategy](#6-recommended-consolidation-strategy)\n7. [Action Items](#7-action-items)\n\n---\n\n## 1. Complete Inventory\n\n### 1.1 Current Sources\n\n| Source | Location | Popularity | Items |\n|--------|----------|------------|-------|\n| **Agent OS** | `buildermethods/agent-os` | â­â­â­ High (industry framework) | 7 commands, 8 agents |\n| **rok-* (roksechs)** | Gist collection | â­â­ Medium (community) | 4 commands |\n| **Anthropic Official** | `anthropics/claude-cookbooks`, `claude-code` | â­â­â­ High (official) | 6+ commands, 12+ plugins |\n| **Personal** | `.ai-instructions/commands/` | â­ Low (personal) | 7 commands |\n\n### 1.2 All Commands (25 total)\n\n#### Agent OS Commands (7)\n```\ncreate-tasks          - Create task lists from specs\nimplement-tasks       - Execute implementation tasks\nimprove-skills        - Improve AI skills\norchestrate-tasks     - Orchestrate multi-agent tasks\nplan-product          - Product planning workflow\nshape-spec            - Shape specification requirements\nwrite-spec            - Write specification documents\n```\n\n#### rok-* Commands (4)\n```\nrok-shape-issues      - Shape Up methodology issue shaping\nrok-resolve-issues    - Resolve GitHub issues with batching\nrok-review-pr         - Comprehensive PR review\nrok-respond-to-reviews - Respond to PR feedback with parallel agents\n```\n\n#### Anthropic Cookbooks Commands (6)\n```\nreview-pr             - Interactive PR review\nreview-pr-ci          - Automated CI PR review\nreview-issue          - GitHub issue review\nnotebook-review       - Jupyter notebook review\nmodel-check           - Model validation\nlink-review           - Link verification\n```\n\n#### Personal Commands (7)\n```\ncommit                - Git commit workflow\npull-request          - PR lifecycle management\npull-request-review-feedback - GraphQL thread resolution\nreview-code           - Code review process\nreview-docs           - Documentation review with markdownlint\ngenerate-code         - Code generation standards\ninfrastructure-review - Terraform/Terragrunt review\n```\n\n### 1.3 All Agents (9 total)\n\n#### Agent OS Agents (8)\n```\nspec-writer           - Write specifications\nspec-shaper           - Shape specifications\nspec-initializer      - Initialize spec folders\nspec-verifier         - Verify specifications\nimplementer           - Implement features\nimplementation-verifier - Verify implementations\nproduct-planner       - Product planning\ntasks-list-creator    - Create task lists\n```\n\n#### Anthropic Cookbooks Agent (1)\n```\ncode-reviewer         - Senior code review agent\n```\n\n### 1.4 Anthropic Marketplace Plugins (12)\n```\ncommit-commands       - /commit, /commit-push-pr, /clean_gone\ncode-review           - Multi-agent PR review\nfeature-dev           - 7-phase feature development\npr-review-toolkit     - Specialized review agents\nsecurity-guidance     - Security monitoring hook\nplugin-dev            - Plugin creation toolkit\nhookify               - Custom hook creation\nagent-sdk-dev         - Agent SDK development\nfrontend-design       - UI/UX design guidance\nexplanatory-output-style - Educational insights\nlearning-output-style - Interactive learning mode\nclaude-opus-4-5-migration - Model migration\n```\n\n---\n\n## 2. Duplication Analysis\n\n### 2.1 High Overlap Categories\n\n| Category | Duplicate Commands | Severity |\n|----------|-------------------|----------|\n| **PR Review** | 6 different implementations | ğŸ”´ Critical |\n| **Spec/Issue Shaping** | 3 implementations | ğŸŸ¡ High |\n| **Commit Workflow** | 2 implementations | ğŸŸ¡ High |\n| **PR Feedback Response** | 2 implementations | ğŸŸ¡ High |\n| **Implementation/Tasks** | 3+ implementations | ğŸŸ¡ High |\n| **Code Generation** | 2+ implementations | ğŸŸ¢ Medium |\n\n### 2.2 Duplication Map\n\n```\nPR REVIEW (6 duplicates):\nâ”œâ”€â”€ rok-review-pr          [roksechs]     â”€â”\nâ”œâ”€â”€ review-pr              [Anthropic]    â”€â”¤ ALL do the same thing:\nâ”œâ”€â”€ review-pr-ci           [Anthropic]    â”€â”¤ Review PRs and post feedback\nâ”œâ”€â”€ review-code            [Personal]     â”€â”¤\nâ”œâ”€â”€ code-review plugin     [Anthropic]    â”€â”¤\nâ””â”€â”€ pr-review-toolkit      [Anthropic]    â”€â”˜\n\nSPEC/ISSUE SHAPING (3 duplicates):\nâ”œâ”€â”€ rok-shape-issues       [roksechs]     â”€â” Shape Up methodology\nâ”œâ”€â”€ shape-spec             [Agent OS]     â”€â”¤ Specification shaping\nâ””â”€â”€ Step 2: plan-document  [Personal]     â”€â”˜ PRD creation\n\nCOMMIT WORKFLOW (2 duplicates):\nâ”œâ”€â”€ commit                 [Personal]     â”€â” Git commit with validation\nâ””â”€â”€ commit-commands plugin [Anthropic]    â”€â”˜ /commit, /commit-push-pr\n\nPR FEEDBACK RESPONSE (2 duplicates):\nâ”œâ”€â”€ rok-respond-to-reviews [roksechs]     â”€â” GraphQL thread resolution\nâ””â”€â”€ pull-request-review-feedback [Personal] â”€â”˜ Same GraphQL approach\n\nIMPLEMENTATION (3+ duplicates):\nâ”œâ”€â”€ implement-tasks        [Agent OS]     â”€â”\nâ”œâ”€â”€ implementer agent      [Agent OS]     â”€â”¤ Execute development tasks\nâ”œâ”€â”€ Step 4: implement      [Personal]     â”€â”¤\nâ””â”€â”€ feature-dev plugin     [Anthropic]    â”€â”˜\n```\n\n---\n\n## 3. Detailed Overlap Comparison\n\n### 3.1 PR Review Commands\n\n| Feature | rok-review-pr | review-pr (Anthro) | review-code | code-review plugin |\n|---------|--------------|-------------------|-------------|-------------------|\n| **Source** | roksechs | Anthropic | Personal | Anthropic |\n| **gh pr diff** | âœ… | âœ… | âŒ | âœ… |\n| **gh pr view** | âœ… | âœ… | âŒ | âœ… |\n| **Local checkout** | âœ… | âœ… | âŒ | âœ… |\n| **Run tests** | âœ… | âŒ | âŒ | âœ… |\n| **Subagent delegation** | âŒ | âœ… code-reviewer | âŒ | âœ… |\n| **Priority levels** | âœ… Critical/Major/Minor | âœ… | âœ… ğŸ”´ğŸŸ¡ğŸŸ¢ | âœ… |\n| **GitHub posting** | âœ… gh pr review | âœ… gh pr review | âŒ | âœ… |\n| **Phase structure** | âœ… 4 phases | âœ… 6 steps | âŒ | âœ… |\n| **Collapsible sections** | âœ… | âœ… | âŒ | âœ… |\n\n**Recommendation**: Keep `rok-review-pr` (most comprehensive), retire `review-code` and consolidate with Anthropic plugins.\n\n### 3.2 Spec/Issue Shaping Commands\n\n| Feature | rok-shape-issues | shape-spec (Agent OS) | Step 2 (Personal) |\n|---------|-----------------|----------------------|-------------------|\n| **Source** | roksechs | Agent OS | Personal |\n| **Methodology** | Shape Up | Spec-driven | PRD-based |\n| **Appetite/Time-boxing** | âœ… | âŒ | âœ… (locked PRD) |\n| **Rabbit holes** | âœ… | âŒ | âœ… (risks) |\n| **GitHub Issue creation** | âœ… gh issue create | âŒ | âŒ |\n| **Multi-phase** | âœ… 5 phases | âœ… 2 phases | âœ… |\n| **Workflow reference** | âŒ | âœ… {{workflows/...}} | âœ… |\n\n**Recommendation**: `rok-shape-issues` is more complete for GitHub workflow. `shape-spec` has better template syntax. Consider merging.\n\n### 3.3 PR Feedback Response\n\n| Feature | rok-respond-to-reviews | pull-request-review-feedback |\n|---------|----------------------|------------------------------|\n| **Source** | roksechs | Personal |\n| **GraphQL thread resolution** | âœ… | âœ… (identical) |\n| **Parallel sub-agents** | âœ… | âŒ |\n| **Priority ordering** | âœ… | âŒ |\n| **Batch resolution script** | âœ… | âœ… (identical) |\n| **AI reviewer response strategy** | âœ… | âŒ |\n\n**Recommendation**: `rok-respond-to-reviews` supersedes `pull-request-review-feedback`. The GraphQL scripts are nearly **identical**.\n\n### 3.4 Commit Workflow\n\n| Feature | commit (Personal) | commit-commands (Anthropic) |\n|---------|------------------|----------------------------|\n| **Pre-commit validation** | âœ… markdownlint, linters | âŒ |\n| **Branch strategy** | âœ… feat/, fix/, etc. | âŒ |\n| **Conventional commits** | âœ… | âœ… |\n| **Security scan** | âœ… | âŒ |\n| **Terraform fmt** | âœ… | âŒ |\n| **Auto-push to PR** | âŒ | âœ… /commit-push-pr |\n\n**Recommendation**: Personal `commit` is more comprehensive for validation. Consider merging with Anthropic's auto-push feature.\n\n---\n\n## 4. External Framework Considerations\n\n### 4.1 Popular AI Coding Frameworks\n\n| Framework | Rules Location | Similar Concepts |\n|-----------|---------------|------------------|\n| **Cursor** | `.cursorrules`, `.cursor/rules/*.mdc` | System prompts per project |\n| **Aider** | `CONVENTIONS.md`, `--read` flag | Persistent conventions file |\n| **Windsurf** | Memories, Rule Directory | Auto-generated context |\n| **Continue** | `.continuerules` | Same as Cursor |\n\n### 4.2 What They Have That We Don't\n\n1. **Cursor**: Modular rules in `.mdc` files that activate based on file patterns\n2. **Aider**: Caching of conventions for token efficiency\n3. **Windsurf**: Automatic memory creation\n4. **All**: Simpler, less redundant rule structures\n\n### 4.3 Industry Trend\n\nThe trend is toward **fewer, more focused rules** rather than many overlapping commands. Modern frameworks use:\n- Single conventions file (Aider)\n- Pattern-matched modular rules (Cursor `.mdc`)\n- AI-generated memories (Windsurf)\n\n---\n\n## 5. Configuration File Overlap\n\n### 5.1 CLAUDE.md Files\n\n| Location | Content | Status |\n|----------|---------|--------|\n| `~/.claude/CLAUDE.md` | Command parallelization preference | âœ… Unique |\n| `~/CLAUDE.md` | Redirect to .ai-instructions | ğŸ”´ Redundant |\n| `repo/CLAUDE.md` | Redirect to .ai-instructions | ğŸ”´ Redundant |\n\n**Issue**: `~/CLAUDE.md` and `repo/CLAUDE.md` both just redirect. One should be eliminated.\n\n### 5.2 Workflow Overlap\n\n| Personal Workflow | Agent OS Equivalent | Overlap |\n|------------------|---------------------|---------|\n| Step 1: Research | Initialize spec | ğŸŸ¡ Partial |\n| Step 2: Plan (PRD) | write-spec | ğŸ”´ High |\n| Step 3: Define Success | create-tasks | ğŸŸ¡ Partial |\n| Step 4: Implement | implement-tasks | ğŸ”´ High |\n| Step 5: Finalize | N/A | âœ… Unique |\n\n---\n\n## 6. Recommended Consolidation Strategy\n\n### 6.1 Priority Order\n\n1. **Agent OS** - Industry framework, most structured\n2. **rok-*** - Community-proven Shape Up methodology\n3. **Anthropic Official** - Vendor-supported plugins\n4. **Personal** - Keep only what's unique\n\n### 6.2 Recommended Survivors\n\n| Category | Keep | Retire | Reason |\n|----------|------|--------|--------|\n| **PR Review** | `rok-review-pr` + `code-review` plugin | `review-code`, `review-pr`, `pr-review-toolkit` | rok has GitHub CLI, plugin has subagents |\n| **Spec Shaping** | `rok-shape-issues` | - | Shape Up methodology, GitHub native |\n| **Spec Writing** | `write-spec` (Agent OS) | Personal Step 2 | Better template syntax |\n| **Tasks** | Agent OS `create-tasks`, `implement-tasks` | Personal Step 3,4 | More structured |\n| **Commit** | Merge Personal + Anthropic | - | Personal validation + Anthropic push |\n| **PR Feedback** | `rok-respond-to-reviews` | `pull-request-review-feedback` | Superset with parallel agents |\n| **Infrastructure** | `infrastructure-review` | - | Unique, no duplicate |\n| **Docs Review** | `review-docs` | - | Unique markdownlint focus |\n\n### 6.3 Proposed Final Command Set (13 commands)\n\n```\nFROM AGENT OS (7):\nâ”œâ”€â”€ shape-spec\nâ”œâ”€â”€ write-spec\nâ”œâ”€â”€ create-tasks\nâ”œâ”€â”€ implement-tasks\nâ”œâ”€â”€ plan-product\nâ”œâ”€â”€ orchestrate-tasks\nâ””â”€â”€ improve-skills\n\nFROM rok-* (4):\nâ”œâ”€â”€ rok-shape-issues      (for GitHub Issues specifically)\nâ”œâ”€â”€ rok-resolve-issues\nâ”œâ”€â”€ rok-review-pr\nâ””â”€â”€ rok-respond-to-reviews\n\nFROM PERSONAL (2 unique):\nâ”œâ”€â”€ review-docs           (markdownlint, unique)\nâ””â”€â”€ infrastructure-review (Terraform, unique)\n\nMERGE (from Personal + Anthropic):\nâ””â”€â”€ commit                (merge Personal validation + Anthropic /commit-push-pr)\n```\n\n### 6.4 What to Remove Entirely\n\n```\nREMOVE (redundant):\nâ”œâ”€â”€ review-code           â†’ replaced by rok-review-pr\nâ”œâ”€â”€ pull-request          â†’ replaced by rok-* workflow\nâ”œâ”€â”€ pull-request-review-feedback â†’ replaced by rok-respond-to-reviews\nâ”œâ”€â”€ generate-code         â†’ too generic, covered by implementer agent\nâ”œâ”€â”€ review-pr (Anthropic) â†’ replaced by rok-review-pr\nâ””â”€â”€ review-pr-ci          â†’ evaluate if CI use case is needed\n\nEVALUATE ANTHROPIC PLUGINS:\nâ”œâ”€â”€ commit-commands       â†’ merge into Personal commit\nâ”œâ”€â”€ code-review           â†’ keep, different approach (subagents)\nâ”œâ”€â”€ feature-dev           â†’ evaluate vs Agent OS\nâ””â”€â”€ pr-review-toolkit     â†’ redundant with rok-review-pr\n```\n\n---\n\n## 7. Action Items\n\n### 7.1 Phase 1: Immediate Cleanup\n\n- [ ] Remove `review-code` command (replaced by `rok-review-pr`)\n- [ ] Remove `pull-request` command (workflow covered by rok-*)\n- [ ] Remove `pull-request-review-feedback` (identical to `rok-respond-to-reviews`)\n- [ ] Remove `generate-code` (too generic)\n- [ ] Update CLAUDE.md to not just redirect\n\n### 7.2 Phase 2: Merge and Enhance\n\n- [ ] Merge `commit` with Anthropic `commit-commands` plugin features\n- [ ] Evaluate if `rok-shape-issues` and `shape-spec` can be unified\n- [ ] Evaluate Personal workflow steps vs Agent OS workflows\n\n### 7.3 Phase 3: Documentation\n\n- [ ] Create clear command taxonomy documentation\n- [ ] Document which commands to use for which workflows\n- [ ] Add deprecation notices to retired commands\n\n### 7.4 Phase 4: Configuration Cleanup\n\n- [ ] Consolidate ~/CLAUDE.md into ~/.claude/CLAUDE.md\n- [ ] Review Anthropic plugin enablement (disable redundant plugins)\n- [ ] Consider Cursor-style modular rules for pattern matching\n\n---\n\n## References\n\n- [Agent OS](https://buildermethods.com/agent-os) - Spec-driven development\n- [roksechs gists](https://gist.github.com/roksechs/3f24797d4b4e7519e18b7835c6d8a2d3) - Shape Up commands\n- [Anthropic Claude Cookbooks](https://github.com/anthropics/claude-cookbooks) - Official commands\n- [Anthropic Claude Code](https://github.com/anthropics/claude-code) - Plugin marketplace\n- [Cursor Rules](https://docs.cursor.com/context/rules-for-ai) - .cursorrules format\n- [Aider Conventions](https://aider.chat/docs/usage/conventions.html) - CONVENTIONS.md\n\n---\n\n*This issue was generated by analyzing all AI commands, agents, and configurations across the repo and external sources.*","title":"Consolidate Duplicate AI Commands and Agents Across Sources","url":"https://github.com/JacobPEvans/ai-assistant-instructions/issues/40"},{"body":"## Summary\n\nThe Champion role should be able to automatically merge PRs marked with `loom:pr` when they meet safety criteria, reducing the need for human intervention on routine changes.\n\n## Context\n\n**Champion's Purpose**: The Champion role is designed to perform work that typically requires human-in-the-loop intervention, acting as a trusted decision-maker for the autonomous workflow.\n\n**Current State**: PRs with `loom:pr` label (Judge-approved, ready to merge) still require human to manually merge them. This creates a bottleneck in the autonomous workflow.\n\n## Proposed Behavior\n\nChampion should auto-merge PRs when ALL of the following safety criteria are met:\n\n### Safety Criteria\n\n1. **Label**: PR has `loom:pr` label (Judge approved)\n2. **CI Status**: All CI checks passing (if any exist)\n3. **Conflicts**: No merge conflicts with base branch\n4. **Reviews**: Has at least one approval (from Judge via comment)\n5. **Recency**: PR updated within last 24 hours (ensures freshness)\n6. **Size**: PR has â‰¤ 200 lines changed (reduces risk of large changes)\n7. **Files**: No changes to critical files (see exclusion list below)\n\n### Critical File Exclusions\n\nDo NOT auto-merge if PR modifies any of:\n- `src-tauri/tauri.conf.json` (app configuration)\n- `Cargo.toml` (dependency changes)\n- `package.json` (dependency changes)\n- `.github/workflows/*` (CI/CD changes)\n- Database migration files\n- Security-related files (auth, permissions, etc.)\n\n### Auto-Merge Workflow\n\n```bash\n# Find PRs ready for auto-merge\ngh pr list --label=\"loom:pr\" --state=open --json number,title,files,additions,deletions,mergeable,updatedAt\n\n# For each candidate PR:\n# 1. Verify safety criteria\n# 2. Check file change limits and exclusions\n# 3. Verify CI passing\n# 4. Add comment explaining auto-merge\n# 5. Merge with squash\n# 6. Post-merge: verify issue was auto-closed\n```\n\n## Benefits\n\n- âœ… Reduces human bottleneck on routine PRs\n- âœ… Faster iteration cycle for autonomous agents\n- âœ… Champion handles repetitive merge decisions\n- âœ… Safety criteria prevent risky auto-merges\n- âœ… Human can still intervene (close PR or remove `loom:pr` label)\n\n## Safety Mechanisms\n\n**Human Override Options**:\n- Remove `loom:pr` label â†’ Champion skips auto-merge\n- Add `loom:manual-merge` label â†’ Requires human approval\n- Close PR â†’ Explicit rejection\n\n**Audit Trail**:\n- Champion comments before merging explaining why it's safe\n- GitHub merge commit shows Champion as merger\n- All criteria logged in merge comment\n\n**Rollback**:\n- Git history preserved (can revert if needed)\n- Champion can create revert PR if issues detected post-merge\n\n## Implementation Guidance\n\n**Create new role file**: `.loom/roles/champion.md`\n\n**Key sections**:\n1. **Role Purpose**: Explain Champion's decision-making authority\n2. **Safety Criteria**: List all criteria that must pass\n3. **Finding Work**: Search for `loom:pr` PRs\n4. **Verification Process**: Check each safety criterion\n5. **Merge Process**: Comment + squash merge + verify\n6. **Exclusions**: Critical files and override labels\n7. **Error Handling**: What to do when criteria fail\n\n**Default Configuration**: Add Champion to `defaults/config.json`:\n```json\n{\n  \"id\": \"terminal-4\",\n  \"name\": \"Champion\",\n  \"role\": \"claude-code-worker\",\n  \"roleConfig\": {\n    \"workerType\": \"claude\",\n    \"roleFile\": \"champion.md\",\n    \"targetInterval\": 600000,\n    \"intervalPrompt\": \"Check for safe PRs ready to auto-merge\"\n  },\n  \"theme\": \"vapor\"\n}\n```\n\n## Example Auto-Merge Comment\n\n```markdown\nğŸ† **Champion Auto-Merge**\n\nThis PR meets all safety criteria for automatic merging:\n\nâœ… Judge approved (loom:pr label)\nâœ… No merge conflicts\nâœ… Small change (45 lines)\nâœ… No critical files modified\nâœ… Updated recently (2 hours ago)\nâœ… No CI checks required\n\nMerging now. If this was merged in error, you can revert with:\n`git revert <commit-sha>`\n```\n\n## Risks & Mitigations\n\n**Risk**: Auto-merge breaks main branch\n**Mitigation**: \n- Strict safety criteria (small PRs, no critical files)\n- CI must pass if present\n- Can always revert\n\n**Risk**: Champion merges controversial changes\n**Mitigation**:\n- Judge approval required first (`loom:pr` label)\n- Human can add `loom:manual-merge` to override\n- Size limit (200 lines) prevents large changes\n\n**Risk**: External contributor PRs auto-merged without review\n**Mitigation**:\n- Only merge PRs with `loom:pr` (requires Judge review)\n- Critical file exclusions\n- Human can remove label to prevent merge\n\n## Related\n\n- Judge role: `.loom/roles/judge.md` (approves PRs with `loom:pr`)\n- Label workflow: ADR-0006\n- GitHub auto-merge API: https://docs.github.com/en/graphql/reference/mutations#enablepullrequestautomerge","title":"Enable Champion to auto-merge safe PRs marked loom:pr","url":"https://github.com/rjwalters/loom/issues/675"},{"body":"Summary\nImplement a lean, LLMâ€‘friendly MCP server for GitHub following docs/methods.md and docs/playbook.md. Use HautechAI/codex-tools-mcp as the reference for stack, structure, and CI.\n\nLanguage\n- TypeScript (Node 20). The Rust repo is used only as a reference for patterns and CI discipline.\n\nReferences\n- Spec and UX: docs/methods.md, docs/playbook.md\n- Reference stack: https://github.com/HautechAI/codex-tools-mcp\n\nTech stack\n- Node 20 + TypeScript\n- MCP over stdio using @modelcontextprotocol/sdk (or minimal JSONâ€‘RPC loop matching codex-tools-mcp)\n- Octokit: @octokit/rest, @octokit/graphql, plugins (retry, throttling, paginate)\n- Schema: zod\n- Logging: pino\n- Tests: vitest, nock\n- Lint/format: eslint, prettier\n\nArchitecture\n- src/server: bootstrap, registry, handlers (issues.ts, prs.ts, workflows.ts)\n- src/clients: rest.ts (Octokit + plugins), graphql.ts (GraphQL client)\n- src/schemas: inputs/outputs per tool; shared meta/error\n- src/utils: pagination, rate, errors, config, http (logs zip follow + tail)\n\nMethods mapping\n- Issues: list_issues, get_issue, list_issue_comments_plain\n- Pull Requests: list_pull_requests, get_pull_request, get_pr_status_summary, list_pr_comments_plain, list_pr_review_comments_plain (include_location), list_pr_reviews_light, list_pr_commits_light, list_pr_files_light (include_patch), get_pr_diff, get_pr_patch\n- Workflows: list_workflows_light, list_workflow_runs_light, get_workflow_run_light, list_workflow_jobs_light, get_workflow_job_logs (tail_lines), rerun_workflow_run, rerun_workflow_run_failed, cancel_workflow_run\n\nCross-cutting requirements\n- Minimal outputs by default; include_author/include_location/include_patch flags for optâ€‘in\n- Pagination: cursor/limit for GraphQL; page/per_page for REST, plus meta.next_cursor abstraction\n- Error shape: { error: { code, message, retriable } }\n- Rate meta: meta.rate { remaining, used, reset_at? }\n- Headers: X-GitHub-Api-Version: 2022-11-28; diff/patch media types where required\n\nConfig\n- GITHUB_TOKEN (required)\n- DEFAULT_LIMIT=30 (cap 100), REST/GRAPHQL timeouts, LOG_LEVEL\n\nTesting & CI\n- Unit tests per handler (schemas, pagination, error mapping)\n- Integration tests behind secrets (skip by default)\n- CI: lint, typecheck, unit tests; optional integration\n- Release: release-please (node)\n\nDelivery plan (phases)\n0) Scaffold + registry (0.5â€“1d)\n1) Clients + config + utils (0.5â€“1d)\n2) Issues tools (0.5â€“1d)\n3) PR tools (1.5â€“2.5d)\n4) Workflows tools (1.5â€“2.5d)\n5) Polish + CI/release (0.5â€“1.5d)\nTotal: ~5â€“10 working days depending on test depth/logs work\n\nAcceptance criteria\n- All methods implemented with minimal outputs and flags\n- Unit tests covering schemas, pagination, error mapping\n- CI green (lint, typecheck, tests)\n- Documentation updated where needed (README referencing methods.md and playbook.md)\n\nPlease see the comment below for a detailed implementation plan and package versions.","title":"Implement GitHub MCP server (LLM-friendly) per docs/methods.md","url":"https://github.com/HautechAI/github-mcp/issues/1"},{"body":"### Extension\n\nhttps://www.raycast.com/raycast/github\n\n### Description\n\nCurrently the extension does not work if an organization disallows access via a personal access token.\nWould be great if we could support fine-grained tokens.\n\n```\nError: `OrganizationName` forbids access via a personal access token (classic). Please use a GitHub App, OAuth App, or a personal access token with fine-grained permissions.: {\"response\":{\"data\":{\"search\":{\"edges\":[null,null,null,null]}},\"errors\":[{\"type\":\"FORBIDDEN\",\"path\":[\"search\",\"edges\",0],\"extensions\":{\"saml_failure\":false},\"locations\":[{\"line\":3,\"column\":5}],\"message\":\"`OrganizationName` forbids access via a personal access token (classic). Please use a GitHub App, OAuth App, or a personal access token with fine-grained permissions.\"},{\"type\":\"FORBIDDEN\",\"path\":[\"search\",\"edges\",1],\"extensions\":{\"saml_failure\":false},\"locations\":[{\"line\":3,\"column\":5}],\"message\":\"`OrganizationName` forbids access via a personal access token (classic). Please use a GitHub App, OAuth App, or a personal access token with fine-grained permissions.\"},{\"type\":\"FORBIDDEN\",\"path\":[\"search\",\"edges\",2],\"extensions\":{\"saml_failure\":false},\"locations\":[{\"line\":3,\"column\":5}],\"message\":\"`OrganizationName` forbids access via a personal access token (classic). Please use a GitHub App, OAuth App, or a personal access token with fine-grained permissions.\"},{\"type\":\"FORBIDDEN\",\"path\":[\"search\",\"edges\",3],\"extensions\":{\"saml_failure\":false},\"locations\":[{\"line\":3,\"column\":5}],\"message\":\"`OrganizationName` forbids access via a personal access token (classic). Please use a GitHub App, OAuth App, or a personal access token with fine-grained permissions.\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"query searchPullRequests($query: String!, $numberOfItems: Int!) {\\n  search(query: $query, type: ISSUE, first: $numberOfItems) {\\n    edges {\\n      node {\\n        ...PullRequestFields\\n      }\\n    }\\n  }\\n}\\n\\nfragment PullRequestFields on PullRequest {\\n  id\\n  title\\n  permalink\\n  merged\\n  number\\n  isDraft\\n  closed\\n  updatedAt\\n  mergeable\\n  milestone {\\n    id\\n    title\\n  }\\n  reviewDecision\\n  repository {\\n    ...ShortRepositoryFields\\n  }\\n  headRefName\\n  headRef {\\n    name\\n  }\\n  author {\\n    ...AuthorFields\\n  }\\n  comments(first: 0) {\\n    totalCount\\n  }\\n  reviewThreads(first: 100) {\\n    totalCount\\n    nodes {\\n      comments(first: 0) {\\n        totalCount\\n      }\\n    }\\n  }\\n  reviews(first: 100) {\\n    totalCount\\n    nodes {\\n      bodyText\\n    }\\n  }\\n  commits(last: 1) {\\n    nodes {\\n      commit {\\n        statusCheckRollup {\\n          state\\n        }\\n      }\\n    }\\n  }\\n  assignees(first: 50) {\\n    totalCount\\n    nodes {\\n      ... on User {\\n        ...UserFields\\n      }\\n    }\\n  }\\n  isMergeQueueEnabled\\n  isInMergeQueue\\n  mergeStateStatus\\n  autoMergeRequest {\\n    enabledAt\\n  }\\n}\\n\\nfragment ShortRepositoryFields on Repository {\\n  id\\n  defaultBranchRef {\\n    target {\\n      oid\\n    }\\n  }\\n  nameWithOwner\\n  name\\n  owner {\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  url\\n  mergeCommitAllowed\\n  squashMergeAllowed\\n  rebaseMergeAllowed\\n  autoMergeAllowed\\n}\\n\\nfragment AuthorFields on Actor {\\n  ... on Bot {\\n    id\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  ... on User {\\n    ...UserFields\\n  }\\n  ... on Mannequin {\\n    id\\n    login\\n    avatarUrl(size: 64)\\n  }\\n  ... on Organization {\\n    id\\n    login\\n    name\\n    avatarUrl(size: 64)\\n  }\\n  ... on EnterpriseUserAccount {\\n    id\\n    login\\n    name\\n    avatarUrl(size: 64)\\n  }\\n}\\n\\nfragment UserFields on User {\\n  id\\n  avatarUrl\\n  name\\n  login\\n  isViewer\\n}\",\"variables\":{\"query\":\"is:pr assignee:@me archived:false is:open sort:updated-desc \",\"numberOfItems\":20}}}\n    at makeRequest (/Users/ssardorf/.config/raycast/extensions/github/my-pull-requests.js:39064:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 1)\n    at async /Users/ssardorf/.config/raycast/extensions/github/my-pull-requests.js:45222:23\n\n```\n\n### Who will benefit from this feature?\n\n_No response_\n\n### Anything else?\n\n_No response_","title":"[Github] Enable support for fine-grained tokens.","url":"https://github.com/raycast/extensions/issues/20898"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-11T12:48:55.563031+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: '20194397645'\nlast_dispatched_node_id: WFR_kwLOPxC3hc8AAAAEs64NzQ\nlast_dispatched_at: '2025-12-13T15:55:42.655140+00:00'\nlast_local_impl_at: null\nlast_local_impl_event: null\nlast_local_impl_session: null\nlast_local_impl_user: null\nlast_remote_impl_at: '2025-12-13T15:59:52.157049+00:00'\nsource_plan_issues: []\nextraction_session_ids: []\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Enhance GitHub GraphQL Documentation [erk-plan]","url":"https://github.com/dagster-io/erk/issues/2979"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-06T22:31:27.288782+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_node_id: null\nlast_dispatched_at: null\nlast_local_impl_at: null\nlast_local_impl_event: null\nlast_local_impl_session: null\nlast_local_impl_user: null\nlast_remote_impl_at: null\nplan_type: extraction\nsource_plan_issues: []\nextraction_session_ids:\n- 9279a586-36f6-4d85-9b8a-88236c034125\n- ea411eff-bfaf-4395-8d8e-d6459889409f\n- 1054983d-ba2d-46c2-81b7-0290e69ff7a1\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Extraction Plan: 2523-delete-get-prs-for-repo-de-12-06-1649 [erk-extraction]","url":"https://github.com/dagster-io/erk/issues/2538"},{"body":"# Q Workflow Optimization Report\n\n## Investigation Summary\n\nAnalyzed issue #3236 which reported that workflows using `gh pr view` with explicit field lists encounter errors with the `mergedAt` field and potentially other fields that may not exist or fail.\n\n## Issues Found (from live data)\n\n### prompt-clustering-analysis.md (Run #19079871208)\n- **Log Analysis**: Workflow failed during agent execution step\n- **Run ID Analyzed**: 19079871208  \n- **Issues Identified**:\n  - **Excessive field filtering**: Requesting 40+ fields from `gh pr view` (line 94-96)\n  - **Field availability issues**: Fields like `mergedAt`, `projectCards`, `potentialMergeCommit` may not exist or fail\n  - **Unnecessary complexity**: Most requested fields are never used in the workflow\n\n### copilot-pr-prompt-analysis.md\n- **Issues Identified**:\n  - **Incorrect documentation**: Instructions incorrectly state that `gh search prs` doesn't return `mergedAt`\n  - **Wasteful operations**: Suggests making additional `gh pr view` calls to get `mergedAt` when it's already in the initial data\n  - **Confusion**: Misleading guidance for users implementing similar patterns\n\n## Root Cause\n\nWhen using `gh pr view --json` with an explicit list of fields, the command fails if any requested field doesn't exist or is unavailable. The `prompt-clustering-analysis` workflow requested 40+ fields, many of which are:\n1. Not supported or deprecated (e.g., `projectCards`)\n2. Not always available (e.g., `mergedAt` on unmerged PRs)  \n3. Never actually used in the workflow logic\n\n## Changes Made\n\n### prompt-clustering-analysis.md\n**Lines 90-100**: Simplified `gh pr view` field list\n- **Before**: 40+ fields requested (additions, assignees, author, autoMergeRequest, baseRefName, baseRefOid, body, changedFiles, closed, closedAt, closingIssuesReferences, comments, commits, createdAt, deletions, files, fullDatabaseId, headRefName, headRefOid, headRepository, headRepositoryOwner, id, isCrossRepository, isDraft, labels, latestReviews, maintainerCanModify, mergeCommit, mergeStateStatus, mergeable, mergedAt, mergedBy, milestone, number, potentialMergeCommit, projectCards, projectItems, reactionGroups, reviewDecision, reviewRequests, reviews, state, statusCheckRollup, title, updatedAt, url)\n- **After**: 13 essential fields only (number, title, body, state, createdAt, closedAt, mergedAt, url, comments, reviews, commits, changedFiles, additions, deletions)\n- **Rationale**: Only request fields that are actually used in the workflow (lines 175-196)\n\n### copilot-pr-prompt-analysis.md  \n**Lines 116-129**: Fixed incorrect documentation\n- **Before**: Incorrectly stated `gh search prs` doesn't return `mergedAt`, suggested additional API calls\n- **After**: Corrected to note that `mergedAt` is available from initial `gh search prs` query\n- **Rationale**: Eliminates unnecessary API calls and confusion\n\n## Expected Improvements\n\n- **Reduced API errors**: Eliminated 27+ unnecessary field requests that may fail\n- **Faster execution**: Fewer fields to fetch and parse\n- **Better maintainability**: Clear mapping between requested fields and usage\n- **Accurate documentation**: Corrected misleading instructions about `mergedAt` availability\n\n## Validation\n\nModified workflows verified for syntax and logic:\n- âœ… prompt-clustering-analysis.md - Field list matches actual usage in lines 175-196\n- âœ… copilot-pr-prompt-analysis.md - Documentation now accurate based on actual `gh search prs` behavior\n\nNote: .lock.yml files will be generated automatically after merge.\n\n## References\n\n- Issue: #3236\n- Failed run: https://github.com/githubnext/gh-aw/actions/runs/19079871208  \n- Field usage analysis: `.github/workflows/prompt-clustering-analysis.md` lines 175-196\n\n## Technical Details\n\n**GitHub CLI Behavior:**\n- `gh search prs --json X,Y,Z` supports `mergedAt` field âœ…\n- `gh pr view --json X,Y,Z` fails if any field doesn't exist âŒ\n- Solution: Only request fields that are guaranteed to exist and actually needed\n\n**Fields Analysis:**\n- **Used in workflow**: number, title, body, state, mergedAt, createdAt, closedAt, url, comments, reviews, commits, changedFiles, additions, deletions (13 fields)\n- **Requested before**: 40+ fields (many unused)\n- **Reduction**: 67.5% fewer fields to reduce failure risk\n\n\n> AI generated by [Q](https://github.com/githubnext/gh-aw/actions/runs/19102515653)\n---\n> [!NOTE]\n> This was originally intended as a pull request, but the git push operation failed.\n>\n> **Workflow Run:** [View run details and download patch artifact](https://github.com/githubnext/gh-aw/actions/runs/19102515653)\n>\n> The patch file is available as an artifact (`aw.patch`) in the workflow run linked above.\nTo apply the patch locally:\n```sh\n# Download the artifact from the workflow run https://github.com/githubnext/gh-aw/actions/runs/19102515653\n# (Use GitHub MCP tools if gh CLI is not available)\ngh run download 19102515653 -n aw.patch\n# Apply the patch\ngit am aw.patch\n```\n\n\n<details><summary>Show patch preview (64 of 64 lines)</summary>\n\n```diff\nFrom f40bbaaaab9b274a3cf493b300474827e00570d6 Mon Sep 17 00:00:00 2001\nFrom: \"github-actions[bot]\" <github-actions[bot]@users.noreply.github.com>\nDate: Wed, 5 Nov 2025 12:53:55 +0000\nSubject: [PATCH] Fix gh pr view field filtering to avoid mergedAt errors\n\n- Reduced prompt-clustering-analysis.md gh pr view from 40+ fields to only 13 essential fields\n- Removed incorrect documentation in copilot-pr-prompt-analysis.md about needing extra gh pr view calls\n- mergedAt field is already available from gh search prs initial query\n- Fixes #3236\n---\n .github/workflows/copilot-pr-prompt-analysis.md | 10 ++++------\n .github/workflows/prompt-clustering-analysis.md |  5 +++--\n 2 files changed, 7 insertions(+), 8 deletions(-)\n\ndiff --git a/.github/workflows/copilot-pr-prompt-analysis.md b/.github/workflows/copilot-pr-prompt-analysis.md\nindex 23d5964..604b790 100644\n--- a/.github/workflows/copilot-pr-prompt-analysis.md\n+++ b/.github/workflows/copilot-pr-prompt-analysis.md\n@@ -114,19 +114,17 @@ For each PR in the dataset:\n    - Handle cases where body is null or empty\n \n 2. **Categorize the PR outcome**:\n-   - **Note**: The `gh search prs` command doesn't return `mergedAt` in its JSON output\n-   - To determine merge status, you'll need to use `gh pr view <number> --json mergedAt` for each PR\n-   - **Merged**: Use `gh pr view` to check if `mergedAt` is not null\n-   - **Closed (not merged)**: `state` is \"CLOSED\" and PR was not merged\n+   - **Merged**: Check if `mergedAt` field is not null in the PR data from `gh search prs`\n+   - **Closed (not merged)**: `state` is \"CLOSED\" and `mergedAt` is null  \n    - **Open**: `state` is \"OPEN\"\n \n 3. **Extract key information**:\n    - PR number and URL\n    - PR title\n    - Full prompt text from body\n-   - Outcome category (Merged/Closed/Open) - requires additional `gh pr view` calls\n+   - Outcome category (Merged/Closed/Open) - available from initial PR data\n    - Creation date\n-   - Merge/close date (if applicable) - use `gh pr view <number> --jso\n... (truncated)\n```\n\n</details>","title":"[q] Fix gh pr view field filtering to avoid mergedAt errors","url":"https://github.com/githubnext/gh-aw/issues/3238"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2026-01-11T09:43:35.043487+00:00'\ncreated_by: schrockn\nplan_comment_id: 3734312669\nlast_dispatched_run_id: '20893224159'\nlast_dispatched_node_id: WFR_kwLOPxC3hc8AAAAE3VVM3w\nlast_dispatched_at: '2026-01-11T09:52:35.319677+00:00'\nlast_local_impl_at: null\nlast_local_impl_event: null\nlast_local_impl_session: null\nlast_local_impl_user: null\nlast_remote_impl_at: '2026-01-11T09:55:53.020667+00:00'\nplan_type: extraction\nsource_plan_issues: []\nextraction_session_ids:\n- 4dfe5e20-032d-4d83-95b7-1ce5d27047be\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Extraction Plan: erk-statusline Architecture Guide [erk-extraction]","url":"https://github.com/dagster-io/erk/issues/4631"},{"body":"Context\nTo fully support HautechAIâ€™s GitHub Workflow Guide (issues â†’ PRs â†’ review â†’ CI â†’ merge), github-mcp needs:\n- Carefully-scoped mutation tools (create/update/merge/close/review interactions, Actions admin upserts) in addition to current read/inspect coverage.\n- Rich, selectively-expanded observability for PRs and issues so agents can see the full picture without blowing context (body, comments/threads, review comments, files, commits, and normalized CI status) with per-section pagination.\n\nScope\n- In scope: Issue/PR creation and updates, comments, reviews, review requests, draft toggles, merge, PR branch update, Actions variables/secrets/env variables upsert; plus new read APIs for PR/issue overviews with selective include[] and per-section pagination.\n- Out of scope (for now): Local git operations (branch creation, rebase/push), branch protections and repository settings, branch deletion, mass/broadcast actions.\n\nConventions (align with existing tools)\n- Inputs: owner, repo, and identifiers (number) or names; avoid URLs.\n- Outputs: minimal fields only; include meta.rate; include error on failure; omit URLs by default.\n- Pagination: Use cursors (GraphQL) or opaque REST cursors (e.g., \"page:2\"); default 30, max 100; surface per-section meta in overview responses.\n- Safety: Prefer idempotent/upsert patterns; avoid exposing sensitive values; add guardrails (e.g., expected_head_sha for merges); redact secrets in logs.\n\nPart A â€” Mutation tools (new)\n1) create_issue\n- Inputs: owner, repo, title, body?, labels?[], assignees?[], milestone? (int)\n- Outputs: item { id, number, title, state, created_at }, meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/issues\n\n2) update_issue\n- Inputs: owner, repo, number, title?, body?, state? (open|closed), labels?[], assignees?[], milestone? (int|null)\n- Outputs: item { number, state, updated_at }, meta { rate }, error?\n- API: REST PATCH /repos/{owner}/{repo}/issues/{number}\n\n3) add_issue_comment\n- Inputs: owner, repo, number, body\n- Outputs: comment { id, created_at }, meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/issues/{number}/comments\n\n4) create_pull_request\n- Inputs: owner, repo, title, head, base, body?, draft? (bool)\n- Outputs: item { id, number, state, is_draft, created_at }, meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/pulls\n\n5) update_pull_request\n- Inputs: owner, repo, number, title?, body?, state? (open|closed)\n- Outputs: item { number, state, is_draft, updated_at }, meta { rate }, error?\n- API: REST PATCH /repos/{owner}/{repo}/pulls/{number}\n\n6) mark_pull_request_ready_for_review\n- Inputs: owner, repo, number\n- Outputs: ok (bool), number, is_draft=false, meta { rate }, error?\n- API: GraphQL markPullRequestReadyForReview (server resolves node id)\n\n7) convert_pull_request_to_draft\n- Inputs: owner, repo, number\n- Outputs: ok (bool), number, is_draft=true, meta { rate }, error?\n- API: GraphQL convertPullRequestToDraft\n\n8) request_reviewers\n- Inputs: owner, repo, number, reviewers?[] (users), team_reviewers?[] (slugs)\n- Outputs: ok (bool), requested_reviewers_count (int), meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/pulls/{number}/requested_reviewers\n\n9) add_pr_comment (general PR comment)\n- Inputs: owner, repo, number, body\n- Outputs: comment { id, created_at }, meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/issues/{number}/comments\n\n10) add_pr_review_comment_inline\n- Inputs: owner, repo, number, body, commit_sha, path, side (LEFT|RIGHT), line, start_line?, start_side? (LEFT|RIGHT)\n- Outputs: comment { id, created_at, path, line, start_line?, side, start_side? }, meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/pulls/{number}/comments\n\n11) submit_pr_review\n- Inputs: owner, repo, number, event (COMMENT|APPROVE|REQUEST_CHANGES), body?\n- Outputs: review { id, state, submitted_at }, meta { rate }, error?\n- API: REST POST /repos/{owner}/{repo}/pulls/{number}/reviews\n\n12) merge_pull_request\n- Inputs: owner, repo, number, merge_method? (squash|merge|rebase; default squash), commit_title?, commit_message?, expected_head_sha?\n- Outputs: merged (bool), sha (string|null), message (string), meta { rate }, error?\n- API: REST PUT /repos/{owner}/{repo}/pulls/{number}/merge\n\n13) close_pull_request\n- Inputs: owner, repo, number\n- Outputs: item { number, state }, meta { rate }, error?\n- API: REST PATCH /repos/{owner}/{repo}/pulls/{number} (state: closed)\n\n14) close_issue\n- Inputs: owner, repo, number\n- Outputs: item { number, state }, meta { rate }, error?\n- API: REST PATCH /repos/{owner}/{repo}/issues/{number} (state: closed)\n\n15) update_pr_branch\n- Inputs: owner, repo, number\n- Outputs: ok (bool), message (string), meta { rate }, error?\n- API: REST PUT /repos/{owner}/{repo}/pulls/{number}/update-branch\n\n16) upsert_repo_variable\n- Inputs: owner, repo, name, value\n- Outputs: ok (bool), name, updated_at, meta { rate }, error?\n- API: REST POST/PATCH /repos/{owner}/{repo}/actions/variables (create/update)\n\n17) upsert_environment_variable\n- Inputs: owner, repo, environment_name, name, value\n- Outputs: ok (bool), name, updated_at, meta { rate }, error?\n- API: REST POST/PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables\n\n18) upsert_repo_secret\n- Inputs: owner, repo, name, plaintext_value\n- Outputs: ok (bool), name, updated_at, meta { rate }, error?\n- API: REST GET public-key + PUT /repos/{owner}/{repo}/actions/secrets/{name}\n- Notes: server-side encryption; never return values.\n\nPart B â€” Observability (read) extensions\nB1) Extend existing get endpoints\n- get_pull_request: add include (string[]; optional). Supported: [\"body\"]. When present, include item.body; default remains minimal.\n- get_issue: add include (string[]; optional). Supported: [\"body\"].\n\nB2) get_pull_request_overview (new)\nPurpose: Return a PRâ€™s selectively-expanded overview in one call.\nInputs\n- owner, repo, number\n- include (string[]; required): choose from [\"basic\", \"body\", \"comments\", \"review_comments\", \"review_threads\", \"reviews\", \"commits\", \"files\", \"status_summary\", \"counts\" (optional)]\n- section_limits (object<string,int>; optional; default 30; max 100)\n- section_cursors (object<string,string>; optional)\n- include_author (bool; optional=false)\n- include_location (bool; optional=false) â€” for review_comments and review_threads\n- include_check_contexts (bool; optional=false)\n- status_limit_contexts (int; optional; default 10; max 100)\n- files_include_patch (bool; optional=false)\n- updated_since (iso8601; optional; best-effort per section)\n- _include_rate (bool; optional=false)\n\nSections and outputs\n- basic: { id, number, title, state, is_draft, merged, merged_at, created_at, updated_at, author_login? }\n- body: { body }\n- comments: items[] as list_pr_comments_plain; meta { next_cursor?, has_more? }\n- review_comments: items[] as list_pr_review_comments_plain (path/line/etc. when include_location=true); meta {...}\n- review_threads: items[] as list_pr_review_threads_light (location optional via include_location); meta {...}\n- reviews: items[] as list_pr_reviews_light; meta {...}\n- commits: items[] as list_pr_commits_light; meta {...}\n- files: items[] as list_pr_files_light (patch only when files_include_patch=true); meta {...}\n- status_summary: { overall_state, counts { success, pending, failure }, failing_contexts?[], contexts?[] when include_check_contexts=true with { name, state } normalized; limited by status_limit_contexts }\n- counts (optional): { comments_total, review_threads_total, reviews_total, commits_total, files_total }\nTop-level: meta { rate }. Section meta is canonical; may optionally duplicate in meta.sections.\n\nB3) get_issue_overview (new)\nPurpose: Return an issueâ€™s selectively-expanded overview in one call.\nInputs\n- owner, repo, number\n- include (string[]; required): choose from [\"basic\", \"body\", \"comments\", \"counts\" (optional)]\n- section_limits (object<string,int>; optional)\n- section_cursors (object<string,string>; optional)\n- include_author (bool; optional=false)\n- updated_since (iso8601; optional)\n- _include_rate (bool; optional=false)\nSections\n- basic: { id, number, title, state, created_at, updated_at, author_login? }\n- body: { body }\n- comments: items[] as list_issue_comments_plain; meta {...}\n- counts (optional): { comments_total }\n\nPagination and limits\n- GraphQL: use endCursor/hasNextPage; REST: Link-based; encode next_cursor as opaque (e.g., \"page:2\"). Default 30, max 100 per section.\n\nEdge cases and correctness\n- Large PRs: use selective include[]; each section paginates independently; consider GraphQL fast-path when only GraphQL sections requested.\n- Outdated threads/comments: location fields can be null; always include isOutdated. Map GraphQL diffSide/startDiffSide to public side/start_side; REST side/start_side already aligned (uppercase LEFT/RIGHT).\n- Renames and multi-line comments: REST review_comments expose path/line/start_line/start_side and original_* fields; files endpoint may include previous_filename.\n- Status normalization: Map CheckRun.conclusion and StatusContext.state into a compact set (SUCCESS, FAILURE, PENDING, etc.). Truncate contexts[] to status_limit_contexts when include_check_contexts=true.\n- updated_since: REST review_comments supports since=; GraphQL lacks sinceâ€”apply best-effort filtering post-fetch. Files endpoint lacks since.\n- Errors: map 4xx as retriable=false; 429/5xx retriable=true; keep consistent error shape.\n\nAcceptance criteria (combined)\n- Implement all Part A mutation tools with docs in docs/methods.md (Purpose, Inputs, Outputs, API, Notes) and tests (happy path + representative errors). For secrets, mock encryption in tests; live E2E behind E2E_ENABLE_MUTATIONS.\n- Implement Part B: get_pull_request_overview and get_issue_overview; extend get_issue/get_pull_request with include=[\"body\"].\n- Support per-section pagination with section_cursors/section_limits; include per-section meta and top-level meta.rate.\n- Implement status_summary normalization and optional contexts[] with status_limit_contexts.\n- Implement optional counts section as defined.\n- Update E2E harness to optionally exercise write flows and overview reads against a dedicated test repo, gated by E2E_ENABLE_MUTATIONS.\n- Ensure MCP envelope and meta.rate for success/failure across all tools; redact sensitive inputs in diagnostics.\n- Update README Tools list and CHANGELOG.\n\nImplementation plan\n- Single branch and single PR for this issue: branch name suggestion: issue-98-mutations-observability.\n- Open draft PR early; keep scope cohesive; reference this issue in PR body (Fixes #98).\n- Start with observability tools (B2/B3 and include=[\"body\"]) to unblock agent visibility; then implement core mutation set prioritized for review loop + merge (6, 8, 9, 10, 11, 12); then remaining mutations and Actions upserts.\n- Add tests incrementally and ensure CI green; request review once Part B + core mutation set are complete; follow-up commits for remaining items in same PR.\n\nNotes\n- Research validation and refinements posted in comments confirm API feasibility, limits, edge cases, and test/perf guidance.\n- No secret values or URLs returned by default; keep outputs minimal for agent context efficiency.\n","title":"Design: mutation + observability tools to align github-mcp with GitHub Workflow Guide","url":"https://github.com/HautechAI/github-mcp/issues/98"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-12-01T13:40:09.503507+00:00'\ncreated_by: schrockn\nlast_dispatched_run_id: null\nlast_dispatched_at: null\nlast_local_impl_at: '2025-12-01T13:55:52.948711+00:00'\nlast_remote_impl_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->","title":"Canonicalize GitHub Native Branch Linking [erk-plan]","url":"https://github.com/dagster-io/erk/issues/1830"},{"body":"## Problem\nThe current pr-check-handler.sh hook doesn't detect or report Vercel deployment failures, leading to stale PRs with unaddressed build/deployment issues.\n\n## Current Behavior\nWhen running `pr-check-handler.sh`:\n- Detects rule-compliance failures âœ…\n- Classifies them as \"systemic errors\" âœ…\n- Says \"PR can proceed\" âœ…\n- **Completely misses Vercel failures** âŒ\n\n## Example\nPR #92 in tamtamrelaunch had:\n- Vercel deployment failure (due to TypeScript error)\n- Rule compliance failures\n- Hook only reported rule compliance issues\n- Developer unaware of actual build failure\n\n## Proposed Solution\nEnhance pr-check-handler.sh to:\n\n1. **Detect Vercel status checks**:\n```bash\n# Check for Vercel in status checks\nvercel_status=$(echo \"$status_checks\"  < /dev/null |  jq -r '.[] | select(.context == \"Vercel\" or .name == \"Vercel\") | .state')\nif [[ \"$vercel_status\" == \"FAILURE\" ]]; then\n  echo -e \"${RED}âŒ Vercel deployment failed\\!${NC}\"\n  echo -e \"${YELLOW}Common causes:${NC}\"\n  echo \"  - Build errors (TypeScript, missing dependencies)\"\n  echo \"  - Environment variable issues\"\n  echo \"  - Prisma schema problems\"\n  echo \"\"\n  echo -e \"${BLUE}Debug steps:${NC}\"\n  echo \"  1. Run 'npm run build' locally\"\n  echo \"  2. Check Vercel deployment logs\"\n  echo \"  3. Verify environment variables match Vercel\"\n  BLOCKING_ERRORS+=('vercel-deployment')\nfi\n```\n\n2. **Provide actionable guidance**:\n- Link to Vercel deployment URL\n- Suggest local build command\n- List common Vercel-specific issues\n\n3. **Differentiate deployment vs test failures**:\n- Vercel failures = deployment/build issues\n- Rule compliance = code quality issues\n- Different remediation steps for each\n\n## Benefits\n- Developers immediately aware of deployment failures\n- Reduces stale PRs with hidden build issues\n- Faster feedback loop\n- Better integration with Vercel platform\n\n## Implementation Notes\n- Use GitHub API to get statusCheckRollup\n- Parse Vercel-specific status contexts\n- Consider adding vercel CLI integration for detailed logs\n- Make Vercel detection optional (not all projects use Vercel)","title":"Enhancement: PR check handler should detect and report Vercel deployment failures","url":"https://github.com/tyabonil/vbcdx-config/issues/157"},{"body":"<!-- WARNING: Machine-generated. Manual edits may break erk tooling. -->\n<!-- erk:metadata-block:plan-header -->\n<details>\n<summary><code>plan-header</code></summary>\n\n```yaml\n\nschema_version: '2'\ncreated_at: '2025-11-23T20:20:34Z'\ncreated_by: schrockn\nworktree_name: add-test-coverage-for-pr-title\nlast_dispatched_run_id: null\nlast_dispatched_at: null\n\n```\n\n</details>\n<!-- /erk:metadata-block:plan-header -->\n\n# Add Test Coverage for PR Title Fetching (Commit 6828c254)\n\n## Overview\n\nAdd comprehensive test coverage for the PR title fetching functionality introduced in commit 6828c2546b6e68cf68409f97e4856ff0d0f9680a. The commit adds `fetch_pr_titles_batch()` method to the GitHub integration layer and displays PR titles in `erk ls` output, prioritizing them over plan summaries.\n\n## Context & Understanding\n\n### What the Commit Does\n\nThe commit implements PR title fetching with these key components:\n\n1. **New abstract method** `fetch_pr_titles_batch()` in GitHub ABC\n2. **RealGitHub implementation** - Builds lightweight GraphQL query fetching only `number` and `title` fields\n3. **FakeGitHub implementation** - Returns PRs unchanged (assumes titles already configured)\n4. **Wrapper implementations** - DryRunGitHub and PrintingGitHub delegate to wrapped implementation\n5. **List command integration** - Fetches PR titles before display\n6. **Display logic** - Prioritizes PR titles over plan summaries\n\n### Key Design Decisions\n\n- **No emoji for PR titles**: PR titles display without ğŸ“‹ emoji prefix (unlike plan summaries) to keep output clean and maintain visual distinction between GitHub-native and local plan metadata\n- **Display priority**: PR title > plan summary > \"[no plan]\" placeholder\n- **GraphQL optimization**: Query fetches only `number` and `title` fields for efficiency\n- **File relocation**: FakeGitHub moved from `tests/fakes/github.py` to `src/erk/core/github/fake.py` for better organization\n\n### Existing Test Patterns\n\n- **RealGitHub tests**: `tests/core/operations/test_github.py` has extensive tests for `enrich_prs_with_ci_status_batch()` (lines 122-242) showing patterns for:\n  - GraphQL query structure validation\n  - Mocked subprocess responses\n  - Empty input handling\n  - Partial failure scenarios\n  - Missing field handling\n\n- **List command tests**: `tests/commands/display/list/test_pr_info.py` has tests for PR info display\n\n- **FakeGitHub tests**: `tests/unit/fakes/test_fake_github.py` has comprehensive fake infrastructure tests\n\n### Critical Implementation Notes\n\n1. **Layer 1 tests are foundation** - Must be implemented first. If FakeGitHub's `fetch_pr_titles_batch()` doesn't work correctly, all Layer 4 tests using it are unreliable.\n\n2. **Follow existing patterns** - The codebase has excellent test patterns for similar functionality (`enrich_prs_with_ci_status_batch()` tests)\n\n3. **Test distribution** - Following fake-driven-testing 5/70/10/10/5 rule:\n   - Layer 1 (Fake tests): 3 tests (~5%)\n   - Layer 2 (Integration tests): 5 tests (~10%)\n   - Layer 3 (Pure unit tests): 4 tests (~10%)\n   - Layer 4 (Business logic): 6 tests (~70%)\n   - Layer 5 (End-to-end): 0 tests (not needed for display-only feature)\n\n4. **Builders and fixtures** - Use existing `PullRequestInfoBuilder`, `erk_inmem_env()` context manager, and fixtures from the codebase\n\n## Implementation Steps\n\n### Phase 1: Foundation Layer (Layer 1 - Fake Infrastructure Tests)\n\n**File:** `tests/unit/fakes/test_fake_github.py`\n\n**Why first:** These validate the test infrastructure itself. If FakeGitHub doesn't work correctly, all business logic tests (Layer 4) that depend on it will be unreliable.\n\n1. **Add `test_fake_github_fetch_pr_titles_batch_returns_unchanged()`**\n   - Verify `fetch_pr_titles_batch()` returns PRs unchanged\n   - Verify it doesn't modify the input dict\n   - Pattern: Similar to `test_fake_github_ops_enrich_prs_with_ci_status_batch` (lines 59-80)\n\n2. **Add `test_fake_github_fetch_pr_titles_batch_preserves_title()`**\n   - Configure PRs with titles in FakeGitHub constructor\n   - Call `fetch_pr_titles_batch()`\n   - Verify titles are preserved in output\n\n3. **Add `test_fake_github_fetch_pr_titles_batch_empty_input()`**\n   - Call with empty dict `{}`\n   - Verify returns empty dict\n\n### Phase 2: Integration Layer (Layer 2 - RealGitHub Sanity Tests)\n\n**File:** `tests/core/operations/test_github.py`\n\n**Why second:** Validates the real implementation with mocked subprocess, catching syntax errors and GraphQL query structure issues before testing business logic.\n\n4. **Add `test_build_title_batch_query_structure()`**\n   - Test the GraphQL query builder for title fetching\n   - Verify query includes `number` and `title` fields\n   - Verify query uses PR aliases (`pr_123`, `pr_456`)\n   - Verify single repository query for multiple PRs\n   - Verify query does NOT include CI fields (statusCheckRollup, mergeable)\n   - Pattern: Similar to `test_build_batch_pr_query_structure()` (lines 122-155)\n\n5. **Add `test_fetch_pr_titles_batch_enriches_titles()`**\n   - Use monkeypatch to mock `subprocess.run`\n   - Mock GraphQL response with titles\n   - Verify PRs are enriched with titles from response\n   - Pattern: Similar to `test_enrich_prs_with_ci_status_batch_includes_mergeability()` (lines 42-90)\n\n6. **Add `test_fetch_pr_titles_batch_empty_input()`**\n   - Verify no API call made for empty input\n   - Verify returns empty dict immediately\n   - Pattern: Similar to `test_enrich_prs_with_ci_status_batch_empty()` (lines 92-110)\n\n7. **Add `test_fetch_pr_titles_batch_partial_failure()`**\n   - Mock GraphQL response with one PR present, one missing\n   - Verify successful PRs get titles\n   - Verify failed PRs have `title=None`\n   - Pattern: Similar to `test_enrich_prs_with_ci_status_batch_partial_failure()` (lines 112-149)\n\n8. **Add `test_fetch_pr_titles_batch_missing_title_field()`**\n   - Mock response with missing `title` field in GraphQL response\n   - Verify graceful handling (sets `title=None`)\n   - Pattern: Similar to `test_enrich_prs_with_ci_status_batch_missing_mergeable_field()` (lines 197-242)\n\n### Phase 3: Pure Functions (Layer 3 - Display Utils Tests)\n\n**File:** `tests/unit/test_display_utils.py` (create if doesn't exist)\n\n**Why third:** Tests pure formatting logic in isolation, independent of GitHub integration.\n\n9. **Add `test_format_worktree_line_with_pr_title()`**\n   - Test `format_worktree_line()` with `pr_title` parameter\n   - Verify title displayed without emoji prefix\n   - Verify proper colorization applied\n\n10. **Add `test_format_worktree_line_pr_title_precedence()`**\n    - Call with both `pr_title` and `plan_summary` provided\n    - Verify PR title is displayed (plan summary ignored)\n\n11. **Add `test_format_worktree_line_plan_summary_fallback()`**\n    - Call with `pr_title=None` and `plan_summary` present\n    - Verify plan summary displayed with ğŸ“‹ emoji prefix\n\n12. **Add `test_format_worktree_line_no_plan_placeholder()`**\n    - Call with both `pr_title=None` and `plan_summary=None`\n    - Verify \"[no plan]\" placeholder displayed\n\n### Phase 4: Business Logic (Layer 4 - List Command Tests)\n\n**File:** `tests/commands/display/list/test_pr_info.py`\n\n**Why last:** Tests user-facing behavior over FakeGitHub. Depends on FakeGitHub working correctly (validated in Phase 1).\n\n13. **Add `test_list_displays_pr_title_when_available()`**\n    - Use `erk_inmem_env()` context manager\n    - Configure FakeGitHub with PR that has a title\n    - Run `erk list`\n    - Verify PR title appears in output\n    - Verify title does NOT have ğŸ“‹ emoji prefix\n    - Use `click.unstyle()` when testing colored output\n\n14. **Add `test_list_prefers_pr_title_over_plan_summary()`**\n    - Configure PR with both title AND plan summary file present\n    - Run `erk list`\n    - Verify PR title is displayed (not plan summary)\n    - Verify plan summary text is NOT in output\n\n15. **Add `test_list_falls_back_to_plan_summary_when_no_title()`**\n    - Configure PR with `title=None`\n    - Add plan summary file to worktree\n    - Run `erk list`\n    - Verify plan summary is displayed with ğŸ“‹ emoji\n    - Verify \"[no plan]\" is NOT shown\n\n16. **Add `test_list_shows_no_plan_when_no_title_and_no_summary()`**\n    - Configure PR with `title=None`\n    - No plan summary file present\n    - Run `erk list`\n    - Verify \"[no plan]\" placeholder displayed\n\n17. **Add `test_list_displays_pr_title_for_multiple_worktrees()`**\n    - Create multiple worktrees with different PR titles\n    - Run `erk list`\n    - Verify each worktree displays its own title correctly\n    - Verify no mixing of titles between worktrees\n\n18. **Add `test_list_fetches_titles_before_ci_enrichment()`**\n    - Run `erk list --ci` (which triggers CI status fetching)\n    - Verify both title fetching and CI enrichment work together\n    - This might require adding call tracking to FakeGitHub to verify order\n\n## Testing Commands\n\n```bash\n# Run Layer 1 tests (fake infrastructure)\nuv run pytest tests/unit/fakes/test_fake_github.py::test_fake_github_fetch_pr_titles_batch_returns_unchanged -v\nuv run pytest tests/unit/fakes/test_fake_github.py::test_fake_github_fetch_pr_titles_batch_preserves_title -v\nuv run pytest tests/unit/fakes/test_fake_github.py::test_fake_github_fetch_pr_titles_batch_empty_input -v\n\n# Run Layer 2 tests (integration sanity)\nuv run pytest tests/core/operations/test_github.py::test_build_title_batch_query_structure -v\nuv run pytest tests/core/operations/test_github.py::test_fetch_pr_titles_batch_enriches_titles -v\nuv run pytest tests/core/operations/test_github.py::test_fetch_pr_titles_batch_empty_input -v\nuv run pytest tests/core/operations/test_github.py::test_fetch_pr_titles_batch_partial_failure -v\nuv run pytest tests/core/operations/test_github.py::test_fetch_pr_titles_batch_missing_title_field -v\n\n# Run Layer 3 tests (pure functions)\nuv run pytest tests/unit/test_display_utils.py::test_format_worktree_line_with_pr_title -v\nuv run pytest tests/unit/test_display_utils.py::test_format_worktree_line_pr_title_precedence -v\nuv run pytest tests/unit/test_display_utils.py::test_format_worktree_line_plan_summary_fallback -v\nuv run pytest tests/unit/test_display_utils.py::test_format_worktree_line_no_plan_placeholder -v\n\n# Run Layer 4 tests (business logic)\nuv run pytest tests/commands/display/list/test_pr_info.py::test_list_displays_pr_title_when_available -v\nuv run pytest tests/commands/display/list/test_pr_info.py::test_list_prefers_pr_title_over_plan_summary -v\nuv run pytest tests/commands/display/list/test_pr_info.py::test_list_falls_back_to_plan_summary_when_no_title -v\nuv run pytest tests/commands/display/list/test_pr_info.py::test_list_shows_no_plan_when_no_title_and_no_summary -v\nuv run pytest tests/commands/display/list/test_pr_info.py::test_list_displays_pr_title_for_multiple_worktrees -v\nuv run pytest tests/commands/display/list/test_pr_info.py::test_list_fetches_titles_before_ci_enrichment -v\n\n# Run all new tests\nuv run pytest tests/unit/fakes/test_fake_github.py tests/core/operations/test_github.py tests/unit/test_display_utils.py tests/commands/display/list/test_pr_info.py -v\n\n# Run type checking\nuv run pyright tests/\n\n# Run linting\nuv run ruff check tests/\n```\n\n## Success Criteria\n\n- âœ… All 18 test cases pass\n- âœ… Tests follow fake-driven-testing architecture (5/70/10/10/5 distribution)\n- âœ… Tests follow existing patterns from the codebase\n- âœ… Type checking passes (pyright)\n- âœ… Linting passes (ruff)\n- âœ… Layer 1 (foundation) tests implemented first\n- âœ… No hardcoded paths in tests (use `tmp_path` fixture)\n- âœ… Tests use `erk_inmem_env()` for list command tests\n- âœ… Tests use `PullRequestInfoBuilder` for creating test PR objects\n- âœ… Tests use `click.unstyle()` when testing colored output\n\n## Notes\n\n- **Test distribution**: 18 tests total = 3 Layer 1 + 5 Layer 2 + 4 Layer 3 + 6 Layer 4 = approximately 5/10/10/70/5 distribution (no Layer 5 integration tests needed)\n- **No Layer 5 tests**: This is a display-only feature, full end-to-end integration tests are not needed\n- **Follow LBYL pattern**: Check conditions before acting (dignified-python-313 skill)\n- **Use devrun agent**: For running pytest/pyright/ruff commands (not direct Bash)\n- **Reference existing tests**: Look at `enrich_prs_with_ci_status_batch()` tests as patterns","title":"Add Test Coverage for PR Title Fetching (Commit 6828c254)","url":"https://github.com/dagster-io/erk/issues/897"},{"body":"## Executive Summary\n\nEnhance `vv watch-pr` to provide comprehensive, LLM-friendly PR debugging with auto-YAML output, extraction support (matrix + non-matrix modes), external check handling, history context, and intelligent guidance.\n\n**Root Cause**: Debugging PR #90 revealed significant gaps requiring 5+ manual commands to gather complete context.\n\n**Target Version**: 0.18.0 (minor bump - backward compatible)\n**Approach**: Test-Driven Development (TDD)\n**Coverage Goal**: >85% (stretch: 90%)\n\n---\n\n## Key Features\n\n### 1. ğŸ”¥ Extraction Support (CRITICAL - NEW)\n\n**The Problem**: Current watch-pr shows check names/status but not WHAT failed.\n\n**The Solution**: Two extraction modes to handle different CI configurations.\n\n#### Mode 1: Matrix Mode (vibe-validate in CI)\n**CI Configuration**:\n```yaml\n# .github/workflows/ci.yml\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - run: vibe-validate validate --yaml\n```\n\n**Strategy**:\n1. Parse YAML from logs (nested `vv run vv run` pattern)\n2. Extract `extraction` field from failed steps\n3. **Pass through FAITHFULLY** - don't re-extract\n4. Use existing ErrorExtractorResult schema\n\n**Why**: Validation already ran extractors and produced structured errors. Re-extracting would be redundant.\n\n#### Mode 2: Non-Matrix Mode (raw test command)\n**CI Configuration**:\n```yaml\n# .github/workflows/ci.yml\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - run: npm test  # Raw vitest output\n```\n\n**Strategy**:\n1. Detect raw test output (no YAML delimiters)\n2. Identify which extractor to use (vitest, jest, eslint, etc.)\n3. **Run extractor** on raw logs\n4. Create ErrorExtractorResult from extraction\n\n**Why**: No structured output exists yet. Must parse raw test framework output.\n\n#### Unified Schema\nBoth modes produce the same schema:\n```typescript\nGitHubActionCheck {\n  // ... other fields\n  extraction?: ErrorExtractorResult;  // From @vibe-validate/extractors\n}\n```\n\n#### Mode Detection Flow\n```typescript\nclass ExtractionModeDetector {\n  async detectAndExtract(check: GitHubActionCheck, logs: string): Promise<ErrorExtractorResult | null> {\n    // Try matrix mode first (YAML parsing)\n    const matrixExtraction = await this.extractFromMatrixMode(logs);\n    if (matrixExtraction) return matrixExtraction;\n    \n    // Fall back to non-matrix mode (raw extraction)\n    return await this.extractFromNonMatrixMode(check.name, logs);\n  }\n}\n```\n\n#### Cache Structure\n```\n${os.tmpdir()}/vibe-validate/<repo-name>/watch-pr/<pr-number>/\nâ”œâ”€â”€ logs/                       # Immutable raw logs\nâ”‚   â”œâ”€â”€ 20275647370.log        # Matrix mode: contains YAML\nâ”‚   â””â”€â”€ 20275647371.log        # Non-matrix: raw output\nâ”‚\nâ”œâ”€â”€ extractions/                # Mutable extracted results\nâ”‚   â”œâ”€â”€ 20275647370.json       # Parsed from YAML or raw\nâ”‚   â””â”€â”€ 20275647371.json       # Can be regenerated\nâ”‚\nâ””â”€â”€ metadata.json\n```\n\n**Why separate logs/ and extractions/**:\n- Logs are immutable source of truth\n- Extractions can be regenerated if extractor improves\n- Supports `--re-extract` flag for bug fixes\n\n### 2. Auto YAML Output on Failure\n- Match `vv validate` behavior - auto-output YAML when checks fail\n- Success: human-text (unchanged)\n- Failure: structured YAML with `---` delimiters\n- Explicit `--yaml` flag for always-YAML mode\n\n### 3. Fix External Check Handling\n**Current Problem**: External checks (SonarCloud, codecov) show \"unknown\" job ID â†’ broken `gh run view` suggestions\n\n**Solution**:\n- Classify check type: `CheckRun` (GitHub Actions) vs `StatusContext` (external)\n- GitHub Actions: provide run_id and `gh run view` command\n- External checks: provide detailsUrl only (no gh command)\n- Pluggable extractor system for external check details (codecov, SonarCloud)\n\n### 4. Enhanced PR Context\n```yaml\npr:\n  number: 90\n  title: \"fix: Improve Windows platform independence\"\n  url: \"https://github.com/jdutton/vibe-validate/pull/90\"\n  branch: \"fix/windows-shell-independence\"\n  base_branch: \"main\"\n  author: \"jdutton\"\n  draft: false\n  mergeable: true\n  merge_state_status: \"UNSTABLE\"\n  labels: [\"bug\", \"windows\", \"ci\"]\n  linked_issues:\n    - number: 86\n      title: \"Windows CI failures\"\n```\n\n### 5. History Summary (Pattern Context)\n```yaml\nhistory_summary:\n  total_runs: 8\n  recent_pattern: \"Passed last 2 runs (was failing before)\"\n  success_rate: \"75%\"\n```\n**Token cost**: ~75 tokens (cheap, high value)\n\n### 6. File Change Context\n```yaml\nchanges:\n  files_changed: 20\n  insertions: 991\n  deletions: 210\n  commits: 13\n  top_files:  # Top 10 by lines changed\n    - file: \"packages/cli/src/commands/create-extractor.ts\"\n      insertions: 117\n      deletions: 30\n```\n\n### 7. Intelligent Guidance\n```yaml\nguidance:\n  status: \"failed\"\n  blocking: false\n  severity: \"warning\"\n  summary: \"2 external quality checks failed. All functional validation passed.\"\n  next_steps:\n    - action: \"Review code coverage decrease\"\n      url: \"https://app.codecov.io/gh/...\"\n      severity: \"warning\"\n      reason: \"Coverage dropped 2.3% on changed files\"\n```\n\n### 8. Local Caching System\n- **Location**: `${os.tmpdir()}/vibe-validate/<repo-name>/watch-pr/<pr-number>/`\n- **TTL**: 5 minutes (configurable)\n- **Atomic writes**: Concurrent-safe using temp file + rename\n- **Benefit**: Enables Read/Grep tools on logs\n\n### 9. Newspaper Philosophy Ordering\n**Most important info first**:\n1. PR context & status (always needed)\n2. Check summary + history (quick overview)\n3. **Failed checks FIRST** (most actionable)\n4. Passed checks (confirmation)\n5. Guidance (what to do next)\n6. Changes (context)\n7. Cache metadata (least important)\n\n**Why**: If output truncated, LLM still sees what needs attention.\n\n---\n\n## Complete YAML Schema\n\n```yaml\n---\n# 1. CRITICAL: PR Context & Status\npr:\n  number: 90\n  title: \"fix: Improve Windows platform independence (Issue #86)\"\n  url: \"https://github.com/jdutton/vibe-validate/pull/90\"\n  branch: \"fix/windows-shell-independence\"\n  base_branch: \"main\"\n  mergeable: true\n  merge_state_status: \"UNSTABLE\"\n  author: \"jdutton\"\n  draft: false\n  labels: [\"bug\", \"windows\", \"ci\"]\n  linked_issues:\n    - number: 86\n      title: \"Windows CI failures\"\n      url: \"https://github.com/jdutton/vibe-validate/issues/86\"\n\n# 2. CRITICAL: Overall Status\nstatus: \"failed\"  # passed | failed | pending\n\n# 3. CRITICAL: Check Summary + History Context\nchecks:\n  total: 9\n  passed: 7\n  failed: 2\n  pending: 0\n\n  # Condensed history for pattern recognition (cheap tokens, high value)\n  history_summary:\n    total_runs: 8\n    recent_pattern: \"Passed last 2 runs (was failing before)\"\n    success_rate: \"75%\"\n\n  # 4. IMPORTANT: Failed checks FIRST (most actionable)\n  github_actions:\n    - name: \"Run vibe-validate validation (windows-latest, 22)\"\n      status: \"completed\"\n      conclusion: \"failure\"\n      run_id: 20275647370\n      workflow: \"Validation Pipeline\"\n      started_at: \"2025-12-16T16:43:17Z\"\n      duration: \"2m15s\"\n      log_command: \"gh run view 20275647370 --log\"\n      log_file: \"/tmp/vibe-validate/vibe-validate/watch-pr/90/github-actions/20275647370.log\"\n      \n      # NEW: Extraction support (from matrix or non-matrix mode)\n      extraction:\n        errors:\n          - file: \"packages/cli/test/commands/run.test.ts\"\n            line: 42\n            column: 5\n            severity: \"error\"\n            message: \"Expected 'success' but got 'failure'\"\n            code: \"vitest\"\n        summary: \"1 test failure\"\n        totalErrors: 1\n        guidance: \"Fix assertion in run.test.ts:42\"\n        metadata:\n          confidence: 100\n          completeness: 100\n          detection:\n            extractor: \"vitest\"\n            confidence: 85\n\n  # 5. LOWER PRIORITY: Passed checks (confirmation)\n  # ... (omitted for brevity)\n\n  # External checks\n  external_checks:\n    - name: \"codecov/patch\"\n      status: \"completed\"\n      conclusion: \"failure\"\n      url: \"https://app.codecov.io/gh/jdutton/vibe-validate/pull/90\"\n      provider: \"codecov\"\n      extracted:\n        summary: \"Coverage decreased by 2.3%\"\n        details:\n          base_coverage: 85.2\n          head_coverage: 82.9\n          files_affected: 2\n        severity: \"warning\"\n\n    - name: \"SonarCloud Code Analysis\"\n      status: \"completed\"\n      conclusion: \"failure\"\n      url: \"https://sonarcloud.io/project/issues?id=jdutton_vibe-validate&pullRequest=90\"\n      provider: \"sonarcloud\"\n      extracted:\n        summary: \"Quality gate failed\"\n        details:\n          new_issues: 2\n          issue_types: [\"code_smell\"]\n        severity: \"warning\"\n\n# 6. USEFUL: Guidance (what to do next)\nguidance:\n  status: \"failed\"\n  blocking: false\n  severity: \"warning\"\n  summary: \"2 external quality checks failed. All functional validation passed.\"\n  next_steps:\n    - action: \"Review code coverage decrease\"\n      url: \"https://app.codecov.io/gh/jdutton/vibe-validate/pull/90\"\n      severity: \"warning\"\n      reason: \"Coverage dropped 2.3% on changed files\"\n    - action: \"Review SonarCloud quality issues\"\n      url: \"https://sonarcloud.io/project/issues?id=jdutton_vibe-validate&pullRequest=90\"\n      severity: \"warning\"\n      reason: \"2 new code smells detected\"\n    - action: \"All functional tests passed - PR is mergeable\"\n      severity: \"info\"\n\n# 7. CONTEXT: File changes (helps understand scope)\nchanges:\n  files_changed: 20\n  insertions: 991\n  deletions: 210\n  commits: 13\n  top_files:\n    - file: \"packages/cli/src/commands/create-extractor.ts\"\n      insertions: 117\n      deletions: 30\n    - file: \"packages/utils/test/path-helpers.test.ts\"\n      insertions: 211\n      deletions: 0\n      new_file: true\n\n# 8. METADATA: Cache info (least important)\ncache:\n  location: \"/tmp/vibe-validate/vibe-validate/watch-pr/90\"\n  timestamp: \"2025-12-16T16:45:50Z\"\n  ttl: 300000  # 5 minutes\n---\n```\n\n---\n\n## Architecture\n\n### Component Design\n\n#### 1. ExtractionModeDetector (NEW, CRITICAL)\n**Location**: `packages/cli/src/services/extraction-mode-detector.ts`\n\n**Responsibilities**:\n- Detect matrix vs non-matrix mode from logs\n- Parse YAML and extract `extraction` field (matrix mode)\n- Detect and run extractors on raw output (non-matrix mode)\n- Return ErrorExtractorResult in both cases\n\n**Key Methods**:\n```typescript\nclass ExtractionModeDetector {\n  async detectAndExtract(check: GitHubActionCheck, logs: string): Promise<ErrorExtractorResult | null>;\n  private async extractFromMatrixMode(logs: string): Promise<ErrorExtractorResult | null>;\n  private async extractFromNonMatrixMode(checkName: string, logs: string): Promise<ErrorExtractorResult | null>;\n  private detectExtractor(checkName: string, logs: string): Extractor | null;\n}\n```\n\n#### 2. CacheManager\n**Location**: `packages/cli/src/services/cache-manager.ts`\n\n**Responsibilities**:\n- Manage local cache directory (cross-platform, repo-aware)\n- Atomic writes for concurrent safety\n- TTL-based cache freshness\n- Separate logs/ and extractions/ directories\n\n**Cache Structure**:\n```\n${os.tmpdir()}/vibe-validate/<repo-name>/watch-pr/<pr-number>/\nâ”œâ”€â”€ logs/                       # Immutable raw logs\nâ”œâ”€â”€ extractions/                # Mutable extracted results\nâ””â”€â”€ metadata.json\n```\n\n#### 3. GitHubFetcher (Enhanced)\n**Location**: `packages/cli/src/services/github-fetcher.ts`\n\n**Responsibilities**:\n- Fetch PR details via `gh` CLI\n- Fetch check results via `gh` CLI\n- Fetch workflow run logs\n- Classify CheckRun vs StatusContext\n- Extract run IDs, timing, detailsUrl\n\n#### 4. ExternalCheckExtractor\n**Location**: `packages/cli/src/services/external-check-extractor.ts`\n\n**Responsibilities**:\n- Pluggable extractor registry (codecov, SonarCloud)\n- Extract meaningful details from external URLs\n- Fail gracefully if extraction fails\n\n#### 5. WatchPROrchestrator\n**Location**: `packages/cli/src/services/watch-pr-orchestrator.ts`\n\n**Responsibilities**:\n- Coordinate all fetching, caching, extraction\n- Build unified WatchPRResult\n- Validate against schema\n- Determine output format (YAML vs text)\n\n#### 6. HistorySummaryBuilder\n**Location**: `packages/cli/src/services/history-summary-builder.ts`\n\n**Responsibilities**:\n- Fetch workflow runs for PR branch\n- Calculate success rate\n- Identify recent pattern (passed/failed/flaky)\n\n### Zod Schema Definitions\n\n**CRITICAL PROJECT REQUIREMENT**: All YAML-serializable types MUST be Zod schemas. Use `z.infer<>` to derive TypeScript types.\n\n**Location**: `packages/cli/src/schemas/watch-pr-result.schema.ts`\n\n**Key Schemas**:\n- `WatchPRResultSchema` - Complete result\n- `PRMetadataSchema` - PR context\n- `GitHubActionCheckSchema` - GitHub Actions check with extraction\n- `ExternalCheckSchema` - External check with extraction\n- `ChecksSummarySchema` - Check summary with history\n- `ErrorExtractorResultSchema` - Imported from `@vibe-validate/extractors`\n\n---\n\n## Testing Strategy\n\n### Two Test Repositories Required (BOTH MODES)\n\n#### Matrix Mode: `vibe-validate` repo\n- **CI Config**: Uses `vibe-validate validate --yaml`\n- **Test PR**: PR #90 or create failing PR\n- **Verify**: Extraction passed through from YAML\n- **Verify**: ErrorExtractorResult schema compliance\n\n#### Non-Matrix Mode: `jdutton/mcp-typescript-simple`\n- **CI Config**: Uses raw `npm test`\n- **Test PR**: Create failing PR with test failures\n- **Verify**: Extraction created from raw vitest output\n- **Verify**: ErrorExtractorResult schema compliance\n\n### Coverage Breakdown\n- **Unit Tests** (~70%): All core classes tested in isolation\n- **Integration Tests** (~20%): Component interactions\n- **System Tests** (~10%): Real PRs, both modes\n\n### Test Files\n```\npackages/cli/test/\nâ”œâ”€â”€ schemas/\nâ”‚   â””â”€â”€ watch-pr-result.test.ts\nâ”œâ”€â”€ services/\nâ”‚   â”œâ”€â”€ cache-manager.test.ts\nâ”‚   â”œâ”€â”€ github-fetcher.test.ts\nâ”‚   â”œâ”€â”€ extraction-mode-detector.test.ts  # CRITICAL\nâ”‚   â”œâ”€â”€ external-check-extractor.test.ts\nâ”‚   â”œâ”€â”€ watch-pr-orchestrator.test.ts\nâ”‚   â””â”€â”€ history-summary-builder.test.ts\nâ”œâ”€â”€ commands/\nâ”‚   â””â”€â”€ watch-pr.integration.test.ts\nâ””â”€â”€ system/\n    â””â”€â”€ watch-pr.system.test.ts  # Both modes\n```\n\n---\n\n## Example: Before vs After\n\n### Before (v0.17.x)\n```bash\n$ vv watch-pr 90\nğŸ” Watching PR #90\nâŒ SonarCloud Code Analysis                 failure\nâŒ codecov/patch                            failure\nâœ… Run vibe-validate validation (ubuntu-latest, 22) success\n\n9/9 checks complete (100%)\n\nğŸ“‹ SonarCloud Code Analysis:\n   Failed to fetch logs: gh run view unknown  # BROKEN!\n   Next steps: gh run view unknown --log-failed  # BROKEN!\n\n# Manual investigation required:\n$ gh pr view 90 --json statusCheckRollup --jq ...\n$ gh run list --branch fix/windows-shell-independence\n$ gh run view 20275647370 --log\n$ git diff --stat origin/main...HEAD\n```\n\n### After (v0.18.0)\n```bash\n$ vv watch-pr 90\n---\npr:\n  number: 90\n  title: \"fix: Improve Windows platform independence (Issue #86)\"\n  branch: \"fix/windows-shell-independence\"\n  mergeable: true\n\nstatus: failed\n\nchecks:\n  total: 9\n  passed: 7\n  failed: 2\n  \n  history_summary:\n    total_runs: 8\n    recent_pattern: \"Passed last 2 runs (was failing before)\"\n    success_rate: \"75%\"\n\n  github_actions:\n    - name: \"Validation (windows-latest, 22)\"\n      conclusion: success\n      run_id: 20275647370\n      log_file: \"/tmp/vibe-validate/vibe-validate/watch-pr/90/github-actions/20275647370.log\"\n\n  external_checks:\n    - name: \"codecov/patch\"\n      conclusion: failure\n      url: \"https://app.codecov.io/gh/jdutton/vibe-validate/pull/90\"\n      extracted:\n        summary: \"Coverage decreased by 2.3%\"\n\n    - name: \"SonarCloud Code Analysis\"\n      conclusion: failure\n      url: \"https://sonarcloud.io/project/issues?id=jdutton_vibe-validate&pullRequest=90\"\n      extracted:\n        summary: \"Quality gate failed\"\n\nguidance:\n  summary: \"2 external quality checks failed. All functional validation passed.\"\n  next_steps:\n    - action: \"Review code coverage decrease\"\n      url: \"https://app.codecov.io/gh/jdutton/vibe-validate/pull/90\"\n      severity: \"warning\"\n\nchanges:\n  files_changed: 20\n  commits: 13\n---\n\n# Now can use Read/Grep tools:\n$ cat /tmp/vibe-validate/vibe-validate/watch-pr/90/metadata.json\n$ grep \"EBUSY\" /tmp/vibe-validate/vibe-validate/watch-pr/90/github-actions/*.log\n```\n\n---\n\n## Success Metrics\n\n**Before (current state)**:\n- Debugging PR #90 required 5+ manual commands\n- External checks showed \"unknown\" - not actionable\n- No structured output for LLMs\n- No extraction - can't see what failed\n- Investigation time: 3-5 minutes\n\n**After (with enhancements)**:\n- One command: `vv watch-pr 90` â†’ complete YAML output\n- External checks show working URLs\n- Extraction shows actual errors (both modes)\n- All context available (run IDs, timing, file changes, history)\n- Investigation time: < 30 seconds\n\n**Qualitative goals**:\n- LLMs can debug PRs without asking user for help\n- No \"broken\" suggestions (like `gh run view unknown`)\n- Consistent with `vv validate` mental model\n- Cache enables fast iteration with Read/Grep tools\n- Both extraction modes work seamlessly\n\n---\n\n## Implementation Checklist\n\n### Phase 0: Foundation (Zod Schemas)\n- [ ] Write schema tests (`test/schemas/watch-pr-result.test.ts`)\n- [ ] Implement Zod schemas with ErrorExtractorResult integration\n- [ ] Generate JSON schema (`watch-pr-result.schema.json`)\n- [ ] Export types using `z.infer<>`\n- [ ] All schema tests pass\n- [ ] Coverage: 100%\n\n### Phase 1: Core Infrastructure\n- [ ] **CacheManager**\n  - [ ] Write tests (`test/services/cache-manager.test.ts`)\n  - [ ] Implement with atomic writes\n  - [ ] Test concurrent safety\n  - [ ] Coverage: >90%\n\n- [ ] **GitHubFetcher Enhancements**\n  - [ ] Write tests (`test/services/github-fetcher.test.ts`)\n  - [ ] Enhance with PR metadata, file changes\n  - [ ] Classify CheckRun vs StatusContext\n  - [ ] Coverage: >85%\n\n- [ ] **ExtractionModeDetector** (CRITICAL)\n  - [ ] Write tests (`test/services/extraction-mode-detector.test.ts`)\n  - [ ] Implement matrix mode extraction (YAML parsing)\n  - [ ] Implement non-matrix mode extraction (run extractors)\n  - [ ] Test with real validate YAML output\n  - [ ] Test with real vitest raw output\n  - [ ] Coverage: >90%\n\n- [ ] **ExternalCheckExtractor**\n  - [ ] Write tests (`test/services/external-check-extractor.test.ts`)\n  - [ ] Implement codecov extractor\n  - [ ] Implement SonarCloud extractor\n  - [ ] Test graceful failure\n  - [ ] Coverage: >85%\n\n### Phase 2: Orchestrator\n- [ ] **WatchPROrchestrator**\n  - [ ] Write tests (`test/services/watch-pr-orchestrator.test.ts`)\n  - [ ] Implement data fetching coordination\n  - [ ] Implement result building with extraction\n  - [ ] Validate against schema\n  - [ ] Implement output format selection (auto-YAML on failure)\n  - [ ] Coverage: >85%\n\n- [ ] **HistorySummaryBuilder**\n  - [ ] Write tests (`test/services/history-summary-builder.test.ts`)\n  - [ ] Implement pattern detection\n  - [ ] Calculate success rate\n  - [ ] Coverage: >85%\n\n### Phase 3: Integration\n- [ ] **Command Integration**\n  - [ ] Write integration tests (`test/commands/watch-pr.integration.test.ts`)\n  - [ ] Refactor watch-pr command to use orchestrator\n  - [ ] Test auto-YAML on failure\n  - [ ] Coverage: >85%\n\n- [ ] **System Tests** (BOTH MODES REQUIRED)\n  - [ ] Write system tests (`test/system/watch-pr.system.test.ts`)\n  - [ ] Test matrix mode with vibe-validate PR #90\n  - [ ] Create failing PR in mcp-typescript-simple\n  - [ ] Test non-matrix mode with mcp-typescript-simple PR\n  - [ ] Verify extraction in both modes\n  - [ ] Verify ErrorExtractorResult schema compliance\n  - [ ] Test cache files created (logs/ and extractions/)\n\n### Phase 4: Documentation\n- [ ] Update `docs/commands/watch-pr.md`\n- [ ] Generate CLI docs (`pnpm generate-cli-docs`)\n- [ ] Update `README.md` with examples\n- [ ] Update `CHANGELOG.md` for v0.18.0\n\n### Phase 5: Validation\n- [ ] Run full validation: `pnpm validate`\n- [ ] Manual test: `vv watch-pr 90` (matrix mode)\n- [ ] Manual test: `vv watch-pr <pr>` in mcp-typescript-simple (non-matrix mode)\n- [ ] Check coverage report (>85%)\n- [ ] All tests pass\n- [ ] Cross-platform verification (macOS, Linux, Windows)\n- [ ] Ready for PR\n\n---\n\n## Related\n\n- **Root cause**: Debugging PR #90 revealed gaps\n- **Blocked by**: None (all dependencies exist)\n- **Breaking changes**: None (backward compatible)\n- **Testing repos**:\n  - Matrix mode: vibe-validate (PR #90)\n  - Non-matrix mode: jdutton/mcp-typescript-simple (create failing PR)\n\n---\n\n## Notes\n\n- Design document: Captured in this issue (single source of truth)\n- Working checklist: `TODO-WATCH-PR.md` (delete before final PR)\n- Final docs: Update after implementation to reflect reality\n- TDD approach: Write tests first for every component","title":"Enhancement: Comprehensive watch-pr improvements (v0.18.0)","url":"https://github.com/jdutton/vibe-validate/issues/91"},{"body":"## Problem Statement\n\nCurrently, Claude Code may complete work without ensuring that related GitHub issues are properly closed and associated pull requests are fully handled. This creates incomplete project management workflows and leaves issues in an open state even when the work is complete.\n\n## Proposed Enhancement\n\nEstablish a mandatory workflow requirement where Claude Code must verify and complete all issue/PR lifecycle management before considering any work finished. This must be documented both for Claude Code (in CLAUDE.md) and for human developers (in docs/development/workflow.md).\n\n## Required Workflow Enhancement\n\n### Issue Closure Verification Protocol\n\n**Mandatory Steps Before Work Completion:**\n\n1. **Issue Status Check**: Verify the GitHub issue status using `gh issue view <issue-number>`\n2. **PR Status Verification**: Check if any associated PRs exist and their current state\n3. **Work Completion Confirmation**: Ensure all implementation is actually complete\n4. **Closure Action**: Explicitly close the issue if work is finished\n5. **Final Verification**: Confirm issue was successfully closed\n\n### Implementation Requirements\n\n**For All Work Sessions:**\n- [ ] Add issue closure verification to TodoWrite task lists\n- [ ] Include PR status checking in completion workflows  \n- [ ] Require explicit closure confirmation before ending work\n- [ ] Document closure actions in final commit messages\n- [ ] Verify GitHub reflects closed status after completion\n\n**For Branch-Based Workflows:**\n- [ ] Ensure PR is merged or properly handled\n- [ ] Verify issue auto-closure from PR merge\n- [ ] Clean up feature branches after successful merge\n- [ ] Confirm all CI/CD processes completed successfully\n\n### Quality Assurance Checks\n\n**Before Declaring Work Complete:**\n1. **Implementation Verification**: All requested functionality is working\n2. **Testing Completion**: All tests pass and coverage is adequate  \n3. **Documentation Updates**: Any required documentation is updated\n4. **Issue Status**: GitHub issue shows \"CLOSED\" status\n5. **PR Status**: Any associated PRs are merged or properly resolved\n\n### Documentation Updates Required\n\n#### CLAUDE.md Integration\n\nUpdate Claude Code development guidelines to include this mandatory workflow:\n\n```markdown\n### Issue Completion Protocol\n\n**ğŸš¨ CRITICAL REQUIREMENT**: All work must include proper issue closure and PR completion before the work session ends.\n\n#### Pre-Completion Checklist\n- [ ] Verify all implementation requirements are met\n- [ ] Confirm all tests pass and quality checks succeed\n- [ ] Check GitHub issue status: `gh issue view <issue-number>`\n- [ ] Handle any associated PRs (merge, close, or document status)\n- [ ] Explicitly close issue if work is complete\n- [ ] Verify closure was successful in GitHub\n```\n\n#### docs/development/workflow.md Updates\n\nAdd comprehensive developer guidelines for issue and PR completion:\n\n```markdown\n## Issue and Pull Request Completion Protocol\n\n### Mandatory Completion Workflow\n\nAll development work must follow this completion protocol to ensure proper project management and workflow integrity.\n\n#### Issue Lifecycle Management\n\n**Before Considering Work Complete:**\n\n1. **Verify Implementation**: Confirm all requirements from the issue are fully implemented\n2. **Test Validation**: Ensure all tests pass and new functionality works as expected\n3. **Documentation**: Update any relevant documentation (README, ADRs, inline docs)\n4. **Status Check**: Use `gh issue view <issue-number>` to verify current issue status\n5. **Explicit Closure**: Close the issue if work is truly complete\n\n**Commands for Issue Management:**\n```bash\n# Check issue status\ngh issue view <issue-number>\n\n# Close issue with comment\ngh issue close <issue-number> --comment \"Implementation complete and tested\"\n\n# Verify closure\ngh issue view <issue-number> --json state\n```\n\n#### Pull Request Lifecycle Management\n\n**For Branch-Based Development:**\n\n1. **PR Creation**: Create pull request with comprehensive description\n2. **CI Validation**: Ensure all continuous integration checks pass\n3. **Code Review**: Complete any required code review process\n4. **Merge Completion**: Merge PR using appropriate merge strategy\n5. **Branch Cleanup**: Delete feature branch after successful merge\n6. **Issue Auto-Closure**: Verify associated issues were automatically closed\n\n**Commands for PR Management:**\n```bash\n# Create pull request\ngh pr create --title \"...\" --body \"...\"\n\n# Check PR status\ngh pr view <pr-number> --json state,mergeable,statusCheckRollup\n\n# Merge pull request\ngh pr merge <pr-number> --squash --delete-branch\n\n# Verify associated issues were closed\ngh issue list --state closed --search \"linked:pr-<pr-number>\"\n```\n\n#### Quality Assurance Checklist\n\n**Development Completion Checklist:**\n- [ ] All implementation requirements satisfied\n- [ ] Test suite passes completely (`npm test`)\n- [ ] Code quality checks pass (`npm run lint`, `npm run type-check`)\n- [ ] Documentation updated as needed\n- [ ] GitHub issue status verified and closed\n- [ ] Pull request merged and branch cleaned up\n- [ ] No orphaned issues or incomplete workflows\n\n#### Best Practices\n\n**Issue Management:**\n- Link commits to issues using `#issue-number` in commit messages\n- Use conventional commit messages for clear traceability\n- Close issues only when work is completely finished and tested\n- Add closing comments that summarize what was accomplished\n\n**Pull Request Management:**\n- Include comprehensive descriptions of changes\n- Reference related issues using \"Closes #issue-number\"\n- Ensure all CI checks pass before merging\n- Use appropriate merge strategy (squash for feature branches)\n- Clean up feature branches after successful merge\n\n#### Troubleshooting\n\n**Common Issues:**\n- **Issue Not Auto-Closing**: Verify PR description includes \"Closes #issue-number\"\n- **Failed CI Checks**: Review and fix all failing tests and quality checks\n- **Merge Conflicts**: Resolve conflicts and update PR branch\n- **Orphaned Branches**: Use `git branch -d branch-name` to clean up merged branches\n\n**Recovery Actions:**\n- If issue remains open after PR merge, manually close with explanation\n- If CI fails after merge, create hotfix issue and immediate resolution\n- If branch wasn't deleted, clean up using GitHub interface or CLI\n```\n\n## Benefits\n\n### Project Management\n- **Complete Workflows**: No orphaned issues or incomplete PR cycles\n- **Clear Status Tracking**: Accurate reflection of project completion state\n- **Professional Standards**: Maintains enterprise-level project management practices\n- **Developer Guidance**: Clear instructions for both AI and human contributors\n\n### Development Quality\n- **Accountability**: Ensures work is truly finished before moving on\n- **Documentation**: Clear record of issue resolution and implementation\n- **Workflow Integrity**: Maintains consistent development process standards\n- **Team Consistency**: Both AI and human developers follow same protocols\n\n## Implementation Approach\n\n### Phase 1: Documentation Updates\n- [ ] Update CLAUDE.md with issue closure protocol for Claude Code\n- [ ] Update docs/development/workflow.md with comprehensive developer guidelines\n- [ ] Include command examples and troubleshooting sections\n- [ ] Add quality assurance checklists for both contexts\n\n### Phase 2: Workflow Integration  \n- [ ] Update TodoWrite task patterns to include closure verification\n- [ ] Add issue status checking to standard workflows\n- [ ] Include PR completion verification in branch workflows\n- [ ] Integrate with existing development standards\n\n### Phase 3: Process Validation\n- [ ] Test the enhanced workflow on upcoming issues\n- [ ] Verify that all issues are properly closed\n- [ ] Confirm PR lifecycle management is complete\n- [ ] Validate that both AI and human workflows are consistent\n\n### Phase 4: Documentation Consistency\n- [ ] Ensure CLAUDE.md and docs/development/workflow.md are aligned\n- [ ] Cross-reference between AI and developer documentation\n- [ ] Maintain consistency with existing project standards\n- [ ] Update any related documentation files\n\n## Success Criteria\n\n- [ ] **Zero Orphaned Issues**: No work is considered complete with open related issues\n- [ ] **Complete PR Cycles**: All PRs are properly merged or resolved\n- [ ] **Comprehensive Documentation**: Clear guidelines in both CLAUDE.md and developer docs\n- [ ] **Process Verification**: Consistent application across all future work\n- [ ] **Quality Maintenance**: Professional project management standards maintained\n- [ ] **Developer Clarity**: Human contributors have clear workflow guidance\n\n## Priority and Complexity\n\n**Priority**: ğŸŸ  **High** - Critical for maintaining professional development standards\n**Complexity**: ğŸ”µ **Simple** - Workflow documentation and process updates\n\n## Labels\n\nproject-management, documentation, process-improvement, workflow-enhancement","title":"ğŸ“‹ Improve Claude instruction: Mandatory issue closure and PR completion workflow","url":"https://github.com/mikiwiik/instructions-only-claude-coding/issues/59"},{"body":"## ğŸ“‹ ã‚¿ã‚¹ã‚¯æ¦‚è¦\nPR #97ã®CIç’°å¢ƒã§ã®å¤±æ•—ã‚’ä¿®æ­£ã—ã€ãã®å¾ŒPR #98ã®ã‚µãƒãƒ¼ãƒˆã«ç§»è¡Œã—ã¦ãã ã•ã„ã€‚\n\n## ğŸ¯ Task 1: PR #97 CIç’°å¢ƒä¿®æ­£\nCC02ã®ä½œæ¥­ã§ã¯23/23ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã¦ã„ã¾ã™ãŒã€CIç’°å¢ƒã§å¤±æ•—ã—ã¦ã„ã¾ã™ã€‚\n\n### æ¨å¥¨ä¿®æ­£æ‰‹é †\n```bash\n# 1. PR #97ãƒ–ãƒ©ãƒ³ãƒã§æœ€æ–°çŠ¶æ…‹ã‚’ç¢ºèª\ncd /mnt/c/work/ITDO_ERP2\ngit checkout feature/role-service\ngit pull origin main --rebase\n\n# 2. è‡ªå‹•ä¿®æ­£ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œ\n./scripts/claude-code-automation/agent/auto-fix-ci.sh 97\n\n# 3. å¿…è¦ã«å¿œã˜ã¦æ‰‹å‹•ä¿®æ­£\ncd backend\n# tests/conftest.py ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆç¢ºèª\n# Role, UserRole, Department ãƒ¢ãƒ‡ãƒ«ã®å¤–éƒ¨ã‚­ãƒ¼ç¢ºèª\n```\n\n## ğŸ¯ Task 2: PR #98 ã‚µãƒãƒ¼ãƒˆï¼ˆCC01æ”¯æ´ï¼‰\nPR #97ã®ä¿®æ­£å®Œäº†å¾Œã€CC01ãŒä½œæ¥­ä¸­ã®PR #98ã‚’ã‚µãƒãƒ¼ãƒˆ\n\n### ã‚µãƒãƒ¼ãƒˆå†…å®¹\n```bash\n# 1. PR #98ã®çŠ¶æ³ç¢ºèª\ngh pr view 98 --json statusCheckRollup\n\n# 2. çµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ \ncd backend\n# Task-Departmentçµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè£…\n# Roleæ¨©é™ã¨ã®é€£æºãƒ†ã‚¹ãƒˆ\n```\n\n## âœ… å®Œäº†æ¡ä»¶\n- [ ] PR #97: å…¨CI/CDãƒã‚§ãƒƒã‚¯é€šé\n- [ ] PR #97: ãƒãƒ¼ã‚¸æº–å‚™å®Œäº†\n- [ ] PR #98: çµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ \n- [ ] PR #98: CC01ã¨ã®é€£æºç¢ºèª\n\n## ğŸ“Š å„ªå…ˆé †ä½\n1. PR #97ã®CIä¿®æ­£ï¼ˆé«˜ï¼‰\n2. PR #98ã®ã‚µãƒãƒ¼ãƒˆï¼ˆä¸­ï¼‰\n\n**Phase 3å®Œäº†ã«å‘ã‘ã¦ã€ä¸¡PRã®æˆåŠŸãŒé‡è¦ã§ã™ã€‚**","title":"ã€CC02ã€‘PR #97 CIç’°å¢ƒä¿®æ­£ã¨PR #98ã‚µãƒãƒ¼ãƒˆ","url":"https://github.com/itdojp/ITDO_ERP2/issues/101"},{"body":"## å•é¡Œç•ªå·\n100\n\n## å•é¡Œã‚¿ã‚¤ãƒˆãƒ«\nArranged probability\n\n## å•é¡ŒURL\nhttps://projecteuler.net/problem=100\n\n## å•é¡Œæ¦‚è¦\nProject Euler Problem 100 ã®è©³ç´°ãªå•é¡Œæ–‡ã¯å…¬å¼ã‚µã‚¤ãƒˆã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nhttps://projecteuler.net/problem=100\n\n## å®Ÿè£…äºˆå®šã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n- [x] ç´ ç›´ãªè§£æ³• (solve_naive) - O(n)ã®å®Ÿè£…\n- [ ] æœ€é©åŒ–è§£æ³• (solve_optimized) - O(log n)ã‚„O(1)ã®å®Ÿè£…\n- [ ] æ•°å­¦çš„è§£æ³• (solve_mathematical) - æ•°å¼ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…\n\n## å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®å®Ÿè£… (problems/problem_100.py) - ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã¿\n- [ ] å®Ÿè¡Œç”¨ãƒ©ãƒ³ãƒŠãƒ¼ã®ä½œæˆ (problems/runners/problem_100_runner.py) - ãƒ†ã‚¹ãƒˆãƒ»å®Ÿè¡Œãƒ»è¡¨ç¤ºã‚³ãƒ¼ãƒ‰\n- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®ä½œæˆ (tests/problems/test_problem_100.py)\n- [ ] è§£æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ (docs/solutions/solution_100.md)\n- [ ] é€²æ—è¿½è·¡ã®æ›´æ–° (PROGRESS.md)\n- [ ] ãƒ©ãƒ³ãƒŠãƒ¼å‹•ä½œç¢ºèª (make run-problem PROBLEM=100)\n- [ ] å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test-problem PROBLEM=100)\n- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (make quality)\n- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test)\n- [ ] CI/CDç¢ºèªï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (gh issue develop [ISSUE_NUMBER])\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ\n- [ ] CIå®Œäº†å¾…ã¡ï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] CIçŠ¶æ…‹ç¢ºèª (gh pr view [PR_NUMBER] --json statusCheckRollup)\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¸ï¼ˆCIæˆåŠŸç¢ºèªå¾Œï¼‰\n- [ ] ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º\n- [ ] MkDocsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ç¢ºèª (make docs-strict)\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æå®Ÿè£…ç¢ºèªï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n\n## å‚™è€ƒãƒ»å‚è€ƒæƒ…å ±\n### å®Ÿè£…æ§‹é€ ã«ã¤ã„ã¦ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œï¼‰\n- **problems/problem_100.py**: ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®ã¿ï¼ˆsolve_naive, solve_optimizedç­‰ï¼‰\n- **problems/runners/problem_100_runner.py**: å®Ÿè¡Œãƒ»ãƒ†ã‚¹ãƒˆãƒ»è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n- **problems/utils/performance.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n- **problems/utils/display.py**: è¡¨ç¤ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\n### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»å‚è€ƒæƒ…å ±\n- å•é¡Œå›ºæœ‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦çš„èƒŒæ™¯ã‚’èª¿æŸ»\n- åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã®æ¤œè¨\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ¤œè¨","title":"Solve Problem 100: Arranged probability","url":"https://github.com/zeppeki/project-euler-first100/issues/174"},{"body":"## å•é¡Œç•ªå·\n099\n\n## å•é¡Œã‚¿ã‚¤ãƒˆãƒ«\nLargest exponential\n\n## å•é¡ŒURL\nhttps://projecteuler.net/problem=99\n\n## å•é¡Œæ¦‚è¦\nProject Euler Problem 99 ã®è©³ç´°ãªå•é¡Œæ–‡ã¯å…¬å¼ã‚µã‚¤ãƒˆã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nhttps://projecteuler.net/problem=99\n\n## å®Ÿè£…äºˆå®šã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n- [x] ç´ ç›´ãªè§£æ³• (solve_naive) - O(n)ã®å®Ÿè£…\n- [ ] æœ€é©åŒ–è§£æ³• (solve_optimized) - O(log n)ã‚„O(1)ã®å®Ÿè£…\n- [ ] æ•°å­¦çš„è§£æ³• (solve_mathematical) - æ•°å¼ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…\n\n## å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®å®Ÿè£… (problems/problem_099.py) - ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã¿\n- [ ] å®Ÿè¡Œç”¨ãƒ©ãƒ³ãƒŠãƒ¼ã®ä½œæˆ (problems/runners/problem_099_runner.py) - ãƒ†ã‚¹ãƒˆãƒ»å®Ÿè¡Œãƒ»è¡¨ç¤ºã‚³ãƒ¼ãƒ‰\n- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®ä½œæˆ (tests/problems/test_problem_099.py)\n- [ ] è§£æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ (docs/solutions/solution_099.md)\n- [ ] é€²æ—è¿½è·¡ã®æ›´æ–° (PROGRESS.md)\n- [ ] ãƒ©ãƒ³ãƒŠãƒ¼å‹•ä½œç¢ºèª (make run-problem PROBLEM=099)\n- [ ] å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test-problem PROBLEM=099)\n- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (make quality)\n- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test)\n- [ ] CI/CDç¢ºèªï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (gh issue develop [ISSUE_NUMBER])\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ\n- [ ] CIå®Œäº†å¾…ã¡ï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] CIçŠ¶æ…‹ç¢ºèª (gh pr view [PR_NUMBER] --json statusCheckRollup)\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¸ï¼ˆCIæˆåŠŸç¢ºèªå¾Œï¼‰\n- [ ] ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º\n- [ ] MkDocsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ç¢ºèª (make docs-strict)\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æå®Ÿè£…ç¢ºèªï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n\n## å‚™è€ƒãƒ»å‚è€ƒæƒ…å ±\n### å®Ÿè£…æ§‹é€ ã«ã¤ã„ã¦ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œï¼‰\n- **problems/problem_099.py**: ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®ã¿ï¼ˆsolve_naive, solve_optimizedç­‰ï¼‰\n- **problems/runners/problem_099_runner.py**: å®Ÿè¡Œãƒ»ãƒ†ã‚¹ãƒˆãƒ»è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n- **problems/utils/performance.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n- **problems/utils/display.py**: è¡¨ç¤ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\n### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»å‚è€ƒæƒ…å ±\n- å•é¡Œå›ºæœ‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦çš„èƒŒæ™¯ã‚’èª¿æŸ»\n- åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã®æ¤œè¨\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ¤œè¨","title":"Solve Problem 099: Largest exponential","url":"https://github.com/zeppeki/project-euler-first100/issues/173"},{"body":"## å•é¡Œç•ªå·\n098\n\n## å•é¡Œã‚¿ã‚¤ãƒˆãƒ«\nAnagramic squares\n\n## å•é¡ŒURL\nhttps://projecteuler.net/problem=98\n\n## å•é¡Œæ¦‚è¦\nProject Euler Problem 98 ã®è©³ç´°ãªå•é¡Œæ–‡ã¯å…¬å¼ã‚µã‚¤ãƒˆã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nhttps://projecteuler.net/problem=98\n\n## å®Ÿè£…äºˆå®šã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n- [x] ç´ ç›´ãªè§£æ³• (solve_naive) - O(n)ã®å®Ÿè£…\n- [ ] æœ€é©åŒ–è§£æ³• (solve_optimized) - O(log n)ã‚„O(1)ã®å®Ÿè£…\n- [ ] æ•°å­¦çš„è§£æ³• (solve_mathematical) - æ•°å¼ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…\n\n## å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®å®Ÿè£… (problems/problem_098.py) - ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã¿\n- [ ] å®Ÿè¡Œç”¨ãƒ©ãƒ³ãƒŠãƒ¼ã®ä½œæˆ (problems/runners/problem_098_runner.py) - ãƒ†ã‚¹ãƒˆãƒ»å®Ÿè¡Œãƒ»è¡¨ç¤ºã‚³ãƒ¼ãƒ‰\n- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®ä½œæˆ (tests/problems/test_problem_098.py)\n- [ ] è§£æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ (docs/solutions/solution_098.md)\n- [ ] é€²æ—è¿½è·¡ã®æ›´æ–° (PROGRESS.md)\n- [ ] ãƒ©ãƒ³ãƒŠãƒ¼å‹•ä½œç¢ºèª (make run-problem PROBLEM=098)\n- [ ] å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test-problem PROBLEM=098)\n- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (make quality)\n- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test)\n- [ ] CI/CDç¢ºèªï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (gh issue develop [ISSUE_NUMBER])\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ\n- [ ] CIå®Œäº†å¾…ã¡ï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] CIçŠ¶æ…‹ç¢ºèª (gh pr view [PR_NUMBER] --json statusCheckRollup)\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¸ï¼ˆCIæˆåŠŸç¢ºèªå¾Œï¼‰\n- [ ] ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º\n- [ ] MkDocsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ç¢ºèª (make docs-strict)\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æå®Ÿè£…ç¢ºèªï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n\n## å‚™è€ƒãƒ»å‚è€ƒæƒ…å ±\n### å®Ÿè£…æ§‹é€ ã«ã¤ã„ã¦ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œï¼‰\n- **problems/problem_098.py**: ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®ã¿ï¼ˆsolve_naive, solve_optimizedç­‰ï¼‰\n- **problems/runners/problem_098_runner.py**: å®Ÿè¡Œãƒ»ãƒ†ã‚¹ãƒˆãƒ»è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n- **problems/utils/performance.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n- **problems/utils/display.py**: è¡¨ç¤ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\n### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»å‚è€ƒæƒ…å ±\n- å•é¡Œå›ºæœ‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦çš„èƒŒæ™¯ã‚’èª¿æŸ»\n- åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã®æ¤œè¨\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ¤œè¨","title":"Solve Problem 098: Anagramic squares","url":"https://github.com/zeppeki/project-euler-first100/issues/172"},{"body":"## å•é¡Œç•ªå·\n097\n\n## å•é¡Œã‚¿ã‚¤ãƒˆãƒ«\nLarge non-Mersenne prime\n\n## å•é¡ŒURL\nhttps://projecteuler.net/problem=97\n\n## å•é¡Œæ¦‚è¦\nProject Euler Problem 97 ã®è©³ç´°ãªå•é¡Œæ–‡ã¯å…¬å¼ã‚µã‚¤ãƒˆã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nhttps://projecteuler.net/problem=97\n\n## å®Ÿè£…äºˆå®šã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n- [x] ç´ ç›´ãªè§£æ³• (solve_naive) - O(n)ã®å®Ÿè£…\n- [ ] æœ€é©åŒ–è§£æ³• (solve_optimized) - O(log n)ã‚„O(1)ã®å®Ÿè£…\n- [ ] æ•°å­¦çš„è§£æ³• (solve_mathematical) - æ•°å¼ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…\n\n## å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®å®Ÿè£… (problems/problem_097.py) - ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã¿\n- [ ] å®Ÿè¡Œç”¨ãƒ©ãƒ³ãƒŠãƒ¼ã®ä½œæˆ (problems/runners/problem_097_runner.py) - ãƒ†ã‚¹ãƒˆãƒ»å®Ÿè¡Œãƒ»è¡¨ç¤ºã‚³ãƒ¼ãƒ‰\n- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®ä½œæˆ (tests/problems/test_problem_097.py)\n- [ ] è§£æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ (docs/solutions/solution_097.md)\n- [ ] é€²æ—è¿½è·¡ã®æ›´æ–° (PROGRESS.md)\n- [ ] ãƒ©ãƒ³ãƒŠãƒ¼å‹•ä½œç¢ºèª (make run-problem PROBLEM=097)\n- [ ] å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test-problem PROBLEM=097)\n- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (make quality)\n- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test)\n- [ ] CI/CDç¢ºèªï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (gh issue develop [ISSUE_NUMBER])\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ\n- [ ] CIå®Œäº†å¾…ã¡ï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] CIçŠ¶æ…‹ç¢ºèª (gh pr view [PR_NUMBER] --json statusCheckRollup)\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¸ï¼ˆCIæˆåŠŸç¢ºèªå¾Œï¼‰\n- [ ] ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º\n- [ ] MkDocsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ç¢ºèª (make docs-strict)\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æå®Ÿè£…ç¢ºèªï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n\n## å‚™è€ƒãƒ»å‚è€ƒæƒ…å ±\n### å®Ÿè£…æ§‹é€ ã«ã¤ã„ã¦ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œï¼‰\n- **problems/problem_097.py**: ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®ã¿ï¼ˆsolve_naive, solve_optimizedç­‰ï¼‰\n- **problems/runners/problem_097_runner.py**: å®Ÿè¡Œãƒ»ãƒ†ã‚¹ãƒˆãƒ»è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n- **problems/utils/performance.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n- **problems/utils/display.py**: è¡¨ç¤ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\n### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»å‚è€ƒæƒ…å ±\n- å•é¡Œå›ºæœ‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦çš„èƒŒæ™¯ã‚’èª¿æŸ»\n- åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã®æ¤œè¨\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ¤œè¨","title":"Solve Problem 097: Large non-Mersenne prime","url":"https://github.com/zeppeki/project-euler-first100/issues/171"},{"body":"## å•é¡Œç•ªå·\n096\n\n## å•é¡Œã‚¿ã‚¤ãƒˆãƒ«\nSu Doku\n\n## å•é¡ŒURL\nhttps://projecteuler.net/problem=96\n\n## å•é¡Œæ¦‚è¦\nProject Euler Problem 96 ã®è©³ç´°ãªå•é¡Œæ–‡ã¯å…¬å¼ã‚µã‚¤ãƒˆã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nhttps://projecteuler.net/problem=96\n\n## å®Ÿè£…äºˆå®šã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n- [x] ç´ ç›´ãªè§£æ³• (solve_naive) - O(n)ã®å®Ÿè£…\n- [ ] æœ€é©åŒ–è§£æ³• (solve_optimized) - O(log n)ã‚„O(1)ã®å®Ÿè£…\n- [ ] æ•°å­¦çš„è§£æ³• (solve_mathematical) - æ•°å¼ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…\n\n## å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®å®Ÿè£… (problems/problem_096.py) - ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã¿\n- [ ] å®Ÿè¡Œç”¨ãƒ©ãƒ³ãƒŠãƒ¼ã®ä½œæˆ (problems/runners/problem_096_runner.py) - ãƒ†ã‚¹ãƒˆãƒ»å®Ÿè¡Œãƒ»è¡¨ç¤ºã‚³ãƒ¼ãƒ‰\n- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®ä½œæˆ (tests/problems/test_problem_096.py)\n- [ ] è§£æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ (docs/solutions/solution_096.md)\n- [ ] é€²æ—è¿½è·¡ã®æ›´æ–° (PROGRESS.md)\n- [ ] ãƒ©ãƒ³ãƒŠãƒ¼å‹•ä½œç¢ºèª (make run-problem PROBLEM=096)\n- [ ] å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test-problem PROBLEM=096)\n- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (make quality)\n- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test)\n- [ ] CI/CDç¢ºèªï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (gh issue develop [ISSUE_NUMBER])\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ\n- [ ] CIå®Œäº†å¾…ã¡ï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] CIçŠ¶æ…‹ç¢ºèª (gh pr view [PR_NUMBER] --json statusCheckRollup)\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¸ï¼ˆCIæˆåŠŸç¢ºèªå¾Œï¼‰\n- [ ] ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º\n- [ ] MkDocsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ç¢ºèª (make docs-strict)\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æå®Ÿè£…ç¢ºèªï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n\n## å‚™è€ƒãƒ»å‚è€ƒæƒ…å ±\n### å®Ÿè£…æ§‹é€ ã«ã¤ã„ã¦ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œï¼‰\n- **problems/problem_096.py**: ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®ã¿ï¼ˆsolve_naive, solve_optimizedç­‰ï¼‰\n- **problems/runners/problem_096_runner.py**: å®Ÿè¡Œãƒ»ãƒ†ã‚¹ãƒˆãƒ»è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n- **problems/utils/performance.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n- **problems/utils/display.py**: è¡¨ç¤ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\n### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»å‚è€ƒæƒ…å ±\n- å•é¡Œå›ºæœ‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦çš„èƒŒæ™¯ã‚’èª¿æŸ»\n- åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã®æ¤œè¨\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ¤œè¨","title":"Solve Problem 096: Su Doku","url":"https://github.com/zeppeki/project-euler-first100/issues/170"},{"body":"## å•é¡Œç•ªå·\n095\n\n## å•é¡Œã‚¿ã‚¤ãƒˆãƒ«\nAmicable chains\n\n## å•é¡ŒURL\nhttps://projecteuler.net/problem=95\n\n## å•é¡Œæ¦‚è¦\nProject Euler Problem 95 ã®è©³ç´°ãªå•é¡Œæ–‡ã¯å…¬å¼ã‚µã‚¤ãƒˆã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nhttps://projecteuler.net/problem=95\n\n## å®Ÿè£…äºˆå®šã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n- [x] ç´ ç›´ãªè§£æ³• (solve_naive) - O(n)ã®å®Ÿè£…\n- [ ] æœ€é©åŒ–è§£æ³• (solve_optimized) - O(log n)ã‚„O(1)ã®å®Ÿè£…\n- [ ] æ•°å­¦çš„è§£æ³• (solve_mathematical) - æ•°å¼ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…\n\n## å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®å®Ÿè£… (problems/problem_095.py) - ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã¿\n- [ ] å®Ÿè¡Œç”¨ãƒ©ãƒ³ãƒŠãƒ¼ã®ä½œæˆ (problems/runners/problem_095_runner.py) - ãƒ†ã‚¹ãƒˆãƒ»å®Ÿè¡Œãƒ»è¡¨ç¤ºã‚³ãƒ¼ãƒ‰\n- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã®ä½œæˆ (tests/problems/test_problem_095.py)\n- [ ] è§£æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ (docs/solutions/solution_095.md)\n- [ ] é€²æ—è¿½è·¡ã®æ›´æ–° (PROGRESS.md)\n- [ ] ãƒ©ãƒ³ãƒŠãƒ¼å‹•ä½œç¢ºèª (make run-problem PROBLEM=095)\n- [ ] å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test-problem PROBLEM=095)\n- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (make quality)\n- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª (make test)\n- [ ] CI/CDç¢ºèªï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (gh issue develop [ISSUE_NUMBER])\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ\n- [ ] CIå®Œäº†å¾…ã¡ï¼ˆå…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒSUCCESSï¼‰\n- [ ] CIçŠ¶æ…‹ç¢ºèª (gh pr view [PR_NUMBER] --json statusCheckRollup)\n- [ ] ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¸ï¼ˆCIæˆåŠŸç¢ºèªå¾Œï¼‰\n- [ ] ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º\n- [ ] MkDocsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ç¢ºèª (make docs-strict)\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æå®Ÿè£…ç¢ºèªï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n\n## å‚™è€ƒãƒ»å‚è€ƒæƒ…å ±\n### å®Ÿè£…æ§‹é€ ã«ã¤ã„ã¦ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œï¼‰\n- **problems/problem_095.py**: ç´”ç²‹ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–¢æ•°ã®ã¿ï¼ˆsolve_naive, solve_optimizedç­‰ï¼‰\n- **problems/runners/problem_095_runner.py**: å®Ÿè¡Œãƒ»ãƒ†ã‚¹ãƒˆãƒ»è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½¿ç”¨ï¼‰\n- **problems/utils/performance.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n- **problems/utils/display.py**: è¡¨ç¤ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”¨å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\n### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»å‚è€ƒæƒ…å ±\n- å•é¡Œå›ºæœ‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦çš„èƒŒæ™¯ã‚’èª¿æŸ»\n- åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã®æ¤œè¨\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ¤œè¨","title":"Solve Problem 095: Amicable chains","url":"https://github.com/zeppeki/project-euler-first100/issues/169"}]
